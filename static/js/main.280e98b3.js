/*! For license information please see main.280e98b3.js.LICENSE.txt */
(()=>{"use strict";var e={730(e,t,n){var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),E=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var D,M=Object.assign;function z(e){if(void 0===D)try{throw Error()}catch(Qe){var t=Qe.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var F=!1;function W(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(qe){var r=qe}Reflect.construct(e,[],t)}else{try{t.call()}catch(qe){r=qe}e.call(t.prototype)}else{try{throw Error()}catch(qe){r=qe}e()}}catch(qe){if(qe&&r&&"string"===typeof qe.stack){for(var i=qe.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 1:return e=W(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case C:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(Qe){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var me=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,we=null,ke=null;function Se(e){if(e=ji(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=Pi(t),_e(e.stateNode,e.type,t))}}function Ce(e){we?ke?ke.push(e):ke=[e]:we=e}function Te(){if(we){var e=we,t=ke;if(ke=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function je(){}var Ie=!1;function Pe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ee(e,t,n)}finally{Ie=!1,(null!==we||null!==ke)&&(je(),Te())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=Pi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(Ve){Re=!1}function Le(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ae=!1,De=null,Me=!1,ze=null,Fe={onError:function(e){Ae=!0,De=e}};function We(e,t,n,r,i,o,s,a,l){Ae=!1,De=null,Le.apply(Fe,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Ue(e)!==e)throw Error(o(188))}function Ye(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ke(i),e;if(s===r)return Ke(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),null!==e?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Je=i.unstable_scheduleCallback,et=i.unstable_cancelCallback,nt=i.unstable_shouldYield,rt=i.unstable_requestPaint,it=i.unstable_now,ot=i.unstable_getCurrentPriorityLevel,st=i.unstable_ImmediatePriority,at=i.unstable_UserBlockingPriority,lt=i.unstable_NormalPriority,ct=i.unstable_LowPriority,ut=i.unstable_IdlePriority,dt=null,ht=null;var pt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ft(e)/gt|0)|0},ft=Math.log,gt=Math.LN2;var mt=64,yt=4194304;function vt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=vt(a):0!==(o&=s)&&(r=vt(o))}else 0!==(s=n&~i)?r=vt(s):0!==o&&(r=vt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-pt(t)),r|=e[n],t&=~i;return r}function xt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _t(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function kt(){var e=mt;return 0===(4194240&(mt<<=1))&&(mt=64),e}function St(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ct(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-pt(t)]=n}function Tt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Et=0;function jt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var It,Pt,Nt,Rt,Ot,Lt=!1,At=[],Dt=null,Mt=null,zt=null,Wt=new Map,Ut=new Map,Bt=[],Ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qt(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Wt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ut.delete(t.pointerId)}}function Vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=ji(t))&&Pt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Gt(e){var t=Ei(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Ot(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Kt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=on(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ji(n))&&Pt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Qt(e,t,n){Kt(e)&&n.delete(t)}function Yt(){Lt=!1,null!==Dt&&Kt(Dt)&&(Dt=null),null!==Mt&&Kt(Mt)&&(Mt=null),null!==zt&&Kt(zt)&&(zt=null),Wt.forEach(Qt),Ut.forEach(Qt)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,Lt||(Lt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Yt)))}function Jt(e){function t(t){return $t(t,e)}if(0<At.length){$t(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Dt&&$t(Dt,e),null!==Mt&&$t(Mt,e),null!==zt&&$t(zt,e),Wt.forEach(t),Ut.forEach(t),n=0;n<Bt.length;n++)(r=Bt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&null===(n=Bt[0]).blockedOn;)Gt(n),null===n.blockedOn&&Bt.shift()}var Xt=x.ReactCurrentBatchConfig,Zt=!0;function en(e,t,n,r){var i=Et,o=Xt.transition;Xt.transition=null;try{Et=1,nn(e,t,n,r)}finally{Et=i,Xt.transition=o}}function tn(e,t,n,r){var i=Et,o=Xt.transition;Xt.transition=null;try{Et=4,nn(e,t,n,r)}finally{Et=i,Xt.transition=o}}function nn(e,t,n,r){if(Zt){var i=on(e,t,n,r);if(null===i)Zr(e,t,r,rn,n),qt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Dt=Vt(Dt,e,t,n,r,i),!0;case"dragenter":return Mt=Vt(Mt,e,t,n,r,i),!0;case"mouseover":return zt=Vt(zt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Wt.set(o,Vt(Wt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ut.set(o,Vt(Ut.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(qt(e,r),4&t&&-1<Ht.indexOf(e)){for(;null!==i;){var o=ji(i);if(null!==o&&It(o),null===(o=on(e,t,n,r))&&Zr(e,t,r,rn,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var rn=null;function on(e,t,n,r){if(rn=null,null!==(e=Ei(e=xe(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rn=e,null}function sn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ot()){case st:return 1;case at:return 4;case lt:case ct:return 16;case ut:return 536870912;default:return 16}default:return 16}}var an=null,ln=null,cn=null;function un(){if(cn)return cn;var e,t,n=ln,r=n.length,i="value"in an?an.value:an.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return cn=i.slice(e,1<t?1-t:void 0)}function dn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function hn(){return!0}function pn(){return!1}function fn(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?hn:pn,this.isPropagationStopped=pn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),t}var gn,mn,yn,vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bn=fn(vn),xn=M({},vn,{view:0,detail:0}),_n=fn(xn),wn=M({},xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ln,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yn&&(yn&&"mousemove"===e.type?(gn=e.screenX-yn.screenX,mn=e.screenY-yn.screenY):mn=gn=0,yn=e),gn)},movementY:function(e){return"movementY"in e?e.movementY:mn}}),kn=fn(wn),Sn=fn(M({},wn,{dataTransfer:0})),Cn=fn(M({},xn,{relatedTarget:0})),Tn=fn(M({},vn,{animationName:0,elapsedTime:0,pseudoElement:0})),En=M({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jn=fn(En),In=fn(M({},vn,{data:0})),Pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Rn[e])&&!!t[e]}function Ln(){return On}var An=M({},xn,{key:function(e){if(e.key){var t=Pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=dn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ln,charCode:function(e){return"keypress"===e.type?dn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?dn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dn=fn(An),Mn=fn(M({},wn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),zn=fn(M({},xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ln})),Fn=fn(M({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Wn=M({},wn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Un=fn(Wn),Bn=[9,13,27,32],Hn=u&&"CompositionEvent"in window,qn=null;u&&"documentMode"in document&&(qn=document.documentMode);var Vn=u&&"TextEvent"in window&&!qn,Gn=u&&(!Hn||qn&&8<qn&&11>=qn),Kn=String.fromCharCode(32),Qn=!1;function Yn(e,t){switch(e){case"keyup":return-1!==Bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Jn=!1;var Xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Xn[e.type]:"textarea"===t}function er(e,t,n,r){Ce(r),0<(t=ti(t,"onChange")).length&&(n=new bn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tr=null,nr=null;function rr(e){Kr(e,0)}function ir(e){if(K(Ii(e)))return e}function or(e,t){if("change"===e)return t}var sr=!1;if(u){var ar;if(u){var lr="oninput"in document;if(!lr){var cr=document.createElement("div");cr.setAttribute("oninput","return;"),lr="function"===typeof cr.oninput}ar=lr}else ar=!1;sr=ar&&(!document.documentMode||9<document.documentMode)}function ur(){tr&&(tr.detachEvent("onpropertychange",dr),nr=tr=null)}function dr(e){if("value"===e.propertyName&&ir(nr)){var t=[];er(t,nr,e,xe(e)),Pe(rr,t)}}function hr(e,t,n){"focusin"===e?(ur(),nr=n,(tr=t).attachEvent("onpropertychange",dr)):"focusout"===e&&ur()}function pr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ir(nr)}function fr(e,t){if("click"===e)return ir(t)}function gr(e,t){if("input"===e||"change"===e)return ir(t)}var mr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function yr(e,t){if(mr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!mr(e[i],t[i]))return!1}return!0}function vr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function br(e,t){var n,r=vr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vr(r)}}function xr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?xr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function _r(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(Xe){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function kr(e){var t=_r(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xr(n.ownerDocument.documentElement,n)){if(null!==r&&wr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=br(n,o);var s=br(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sr=u&&"documentMode"in document&&11>=document.documentMode,Cr=null,Tr=null,Er=null,jr=!1;function Ir(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;jr||null==Cr||Cr!==Q(r)||("selectionStart"in(r=Cr)&&wr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Er&&yr(Er,r)||(Er=r,0<(r=ti(Tr,"onSelect")).length&&(t=new bn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Cr)))}function Pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionend:Pr("Transition","TransitionEnd")},Rr={},Or={};function Lr(e){if(Rr[e])return Rr[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Or)return Rr[e]=n[t];return e}u&&(Or=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var Ar=Lr("animationend"),Dr=Lr("animationiteration"),Mr=Lr("animationstart"),zr=Lr("transitionend"),Fr=new Map,Wr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){Fr.set(e,t),l(t,[e])}for(var Br=0;Br<Wr.length;Br++){var Hr=Wr[Br];Ur(Hr.toLowerCase(),"on"+(Hr[0].toUpperCase()+Hr.slice(1)))}Ur(Ar,"onAnimationEnd"),Ur(Dr,"onAnimationIteration"),Ur(Mr,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(zr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vr=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function Gr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(We.apply(this,arguments),Ae){if(!Ae)throw Error(o(198));var u=De;Ae=!1,De=null,Me||(Me=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Kr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Gr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Gr(i,a,c),o=l}}}if(Me)throw e=ze,Me=!1,ze=null,e}function Qr(e,t){var n=t[Si];void 0===n&&(n=t[Si]=new Set);var r=e+"__bubble";n.has(r)||(Xr(t,e,2,!1),n.add(r))}function Yr(e,t,n){var r=0;t&&(r|=4),Xr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Jr(e){if(!e[$r]){e[$r]=!0,s.forEach(function(t){"selectionchange"!==t&&(Vr.has(t)||Yr(t,!1,e),Yr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,Yr("selectionchange",!1,t))}}function Xr(e,t,n,r){switch(sn(t)){case 1:var i=en;break;case 4:i=tn;break;default:i=nn}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=Ei(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Pe(function(){var r=o,i=xe(n),s=[];e:{var a=Fr.get(e);if(void 0!==a){var l=bn,c=e;switch(e){case"keypress":if(0===dn(n))break e;case"keydown":case"keyup":l=Dn;break;case"focusin":c="focus",l=Cn;break;case"focusout":c="blur",l=Cn;break;case"beforeblur":case"afterblur":l=Cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=zn;break;case Ar:case Dr:case Mr:l=Tn;break;case zr:l=Fn;break;case"scroll":l=_n;break;case"wheel":l=Un;break;case"copy":case"cut":case"paste":l=jn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=r;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==h&&(null!=(g=Ne(f,h))&&u.push(ei(f,g,p)))),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!Ei(c)&&!c[ki])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ei(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=kn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Mn,g="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:Ii(l),p=null==c?a:Ii(c),(a=new u(g,f+"leave",l,n,i)).target=d,a.relatedTarget=p,g=null,Ei(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,f=0,p=u=l;p;p=ni(p))f++;for(p=0,g=h;g;g=ni(g))p++;for(;0<f-p;)u=ni(u),f--;for(;0<p-f;)h=ni(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=ni(u),h=ni(h)}u=null}else u=null;null!==l&&ri(s,a,l,u,!1),null!==c&&null!==d&&ri(s,d,c,u,!0)}if("select"===(l=(a=r?Ii(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=or;else if(Zn(a))if(sr)m=gr;else{m=pr;var y=hr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=fr);switch(m&&(m=m(e,r))?er(s,m,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?Ii(r):window,e){case"focusin":(Zn(y)||"true"===y.contentEditable)&&(Cr=y,Tr=r,Er=null);break;case"focusout":Er=Tr=Cr=null;break;case"mousedown":jr=!0;break;case"contextmenu":case"mouseup":case"dragend":jr=!1,Ir(s,n,i);break;case"selectionchange":if(Sr)break;case"keydown":case"keyup":Ir(s,n,i)}var v;if(Hn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Jn?Yn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Gn&&"ko"!==n.locale&&(Jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Jn&&(v=un()):(ln="value"in(an=i)?an.value:an.textContent,Jn=!0)),0<(y=ti(r,b)).length&&(b=new In(b,e,null,n,i),s.push({event:b,listeners:y}),v?b.data=v:null!==(v=$n(n))&&(b.data=v))),(v=Vn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Qn=!0,Kn);case"textInput":return(e=t.data)===Kn&&Qn?null:e;default:return null}}(e,n):function(e,t){if(Jn)return"compositionend"===e||!Hn&&Yn(e,t)?(e=un(),cn=ln=an=null,Jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ti(r,"onBeforeInput")).length&&(i=new In("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Kr(s,t)})}function ei(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ti(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(ei(e,o,i)),null!=(o=Ne(e,t))&&r.push(ei(e,o,i))),e=e.return}return r}function ni(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ri(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ne(n,o))&&s.unshift(ei(n,l,a)):i||null!=(l=Ne(n,o))&&s.push(ei(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var ii=/\r\n?/g,oi=/\u0000|\uFFFD/g;function si(e){return("string"===typeof e?e:""+e).replace(ii,"\n").replace(oi,"")}function ai(e,t,n){if(t=si(t),si(e)!==t&&n)throw Error(o(425))}function li(){}var ci=null,ui=null;function di(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var hi="function"===typeof setTimeout?setTimeout:void 0,pi="function"===typeof clearTimeout?clearTimeout:void 0,fi="function"===typeof Promise?Promise:void 0,gi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof fi?function(e){return fi.resolve(null).then(e).catch(mi)}:hi;function mi(e){setTimeout(function(){throw e})}function yi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Jt(t)}function vi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function bi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var xi=Math.random().toString(36).slice(2),_i="__reactFiber$"+xi,wi="__reactProps$"+xi,ki="__reactContainer$"+xi,Si="__reactEvents$"+xi,Ci="__reactListeners$"+xi,Ti="__reactHandles$"+xi;function Ei(e){var t=e[_i];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ki]||n[_i]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bi(e);null!==e;){if(n=e[_i])return n;e=bi(e)}return t}n=(e=n).parentNode}return null}function ji(e){return!(e=e[_i]||e[ki])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Pi(e){return e[wi]||null}var Ni=[],Ri=-1;function Oi(e){return{current:e}}function Li(e){0>Ri||(e.current=Ni[Ri],Ni[Ri]=null,Ri--)}function Ai(e,t){Ri++,Ni[Ri]=e.current,e.current=t}var Di={},Mi=Oi(Di),zi=Oi(!1),Fi=Di;function Wi(e,t){var n=e.type.contextTypes;if(!n)return Di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ui(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Bi(){Li(zi),Li(Mi)}function Hi(e,t,n){if(Mi.current!==Di)throw Error(o(168));Ai(Mi,t),Ai(zi,n)}function qi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return M({},n,r)}function Vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Di,Fi=Mi.current,Ai(Mi,e),Ai(zi,zi.current),!0}function Gi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=qi(e,t,Fi),r.__reactInternalMemoizedMergedChildContext=e,Li(zi),Li(Mi),Ai(Mi,e)):Li(zi),Ai(zi,n)}var Ki=null,Qi=!1,Yi=!1;function $i(e){null===Ki?Ki=[e]:Ki.push(e)}function Ji(){if(!Yi&&null!==Ki){Yi=!0;var e=0,t=Et;try{var n=Ki;for(Et=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ki=null,Qi=!1}catch(Be){throw null!==Ki&&(Ki=Ki.slice(e+1)),Je(st,Ji),Be}finally{Et=t,Yi=!1}}return null}var Xi=[],Zi=0,eo=null,to=0,no=[],ro=0,io=null,oo=1,so="";function ao(e,t){Xi[Zi++]=to,Xi[Zi++]=eo,eo=e,to=t}function lo(e,t,n){no[ro++]=oo,no[ro++]=so,no[ro++]=io,io=e;var r=oo;e=so;var i=32-pt(r)-1;r&=~(1<<i),n+=1;var o=32-pt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,oo=1<<32-pt(t)+i|n<<i|r,so=o+e}else oo=1<<o|n<<i|r,so=e}function co(e){null!==e.return&&(ao(e,1),lo(e,1,0))}function uo(e){for(;e===eo;)eo=Xi[--Zi],Xi[Zi]=null,to=Xi[--Zi],Xi[Zi]=null;for(;e===io;)io=no[--ro],no[ro]=null,so=no[--ro],no[ro]=null,oo=no[--ro],no[ro]=null}var ho=null,po=null,fo=!1,go=null;function mo(e,t){var n=Fc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function yo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ho=e,po=vi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ho=e,po=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==io?{id:oo,overflow:so}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Fc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ho=e,po=null,!0);default:return!1}}function vo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function bo(e){if(fo){var t=po;if(t){var n=t;if(!yo(e,t)){if(vo(e))throw Error(o(418));t=vi(n.nextSibling);var r=ho;t&&yo(e,t)?mo(r,n):(e.flags=-4097&e.flags|2,fo=!1,ho=e)}}else{if(vo(e))throw Error(o(418));e.flags=-4097&e.flags|2,fo=!1,ho=e}}}function xo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ho=e}function _o(e){if(e!==ho)return!1;if(!fo)return xo(e),fo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!di(e.type,e.memoizedProps)),t&&(t=po)){if(vo(e))throw wo(),Error(o(418));for(;t;)mo(e,t),t=vi(t.nextSibling)}if(xo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){po=vi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}po=null}}else po=ho?vi(e.stateNode.nextSibling):null;return!0}function wo(){for(var e=po;e;)e=vi(e.nextSibling)}function ko(){po=ho=null,fo=!1}function So(e){null===go?go=[e]:go.push(e)}var Co=x.ReactCurrentBatchConfig;function To(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Eo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jo(e){return(0,e._init)(e._payload)}function Io(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Uc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&jo(o)===t.type)?((r=i(t,n.props)).ref=To(e,t,n),r.return=e,r):((r=Bc(n.type,n.key,n.props,null,e.mode,r)).ref=To(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Hc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Bc(t.type,t.key,t.props,null,e.mode,n)).ref=To(e,null,t),n.return=e,n;case w:return(t=Gc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||A(t))return(t=Hc(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case w:return n.key===i?u(e,t,n,r):null;case R:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||A(n))return null!==i?null:d(e,t,n,r,null);Eo(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||A(r))return d(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function g(i,o,a,l){for(var c=null,u=null,d=o,g=o=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=p(i,d,a[g],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),o=s(y,o,g),null===u?c=y:u.sibling=y,u=y,d=m}if(g===a.length)return n(i,d),fo&&ao(i,g),c;if(null===d){for(;g<a.length;g++)null!==(d=h(i,a[g],l))&&(o=s(d,o,g),null===u?c=d:u.sibling=d,u=d);return fo&&ao(i,g),c}for(d=r(i,d);g<a.length;g++)null!==(m=f(d,i,g,a[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=s(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),fo&&ao(i,g),c}function m(i,a,l,c){var u=A(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=p(i,g,v.value,c);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),a=s(b,a,m),null===d?u=b:d.sibling=b,d=b,g=y}if(v.done)return n(i,g),fo&&ao(i,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(a=s(v,a,m),null===d?u=v:d.sibling=v,d=v);return fo&&ao(i,m),u}for(g=r(i,g);!v.done;m++,v=l.next())null!==(v=f(g,i,m,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=s(v,a,m),null===d?u=v:d.sibling=v,d=v);return e&&g.forEach(function(e){return t(i,e)}),fo&&ao(i,m),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===k){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&jo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=To(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===k?((o=Hc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Bc(s.type,s.key,s.props,null,r.mode,l)).ref=To(r,o,s),l.return=r,r=l)}return a(r);case w:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Gc(s,r.mode,l)).return=r,r=o}return a(r);case R:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return g(r,o,s,l);if(A(s))return m(r,o,s,l);Eo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Vc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Po=Io(!0),No=Io(!1),Ro=Oi(null),Oo=null,Lo=null,Ao=null;function Do(){Ao=Lo=Oo=null}function Mo(e){var t=Ro.current;Li(Ro),e._currentValue=t}function zo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fo(e,t){Oo=e,Ao=Lo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ja=!0),e.firstContext=null)}function Wo(e){var t=e._currentValue;if(Ao!==e)if(e={context:e,memoizedValue:t,next:null},null===Lo){if(null===Oo)throw Error(o(308));Lo=e,Oo.dependencies={lanes:0,firstContext:e}}else Lo=Lo.next=e;return t}var Uo=null;function Bo(e){null===Uo?Uo=[e]:Uo.push(e)}function Ho(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Bo(t)):(n.next=i.next,i.next=n),t.interleaved=n,qo(e,r)}function qo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Vo=!1;function Go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ko(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Dl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,qo(e,n)}return null===(i=r.interleaved)?(t.next=t,Bo(r)):(t.next=i.next,i.next=t),r.interleaved=t,qo(e,n)}function $o(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Tt(e,n)}}function Jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xo(e,t,n,r){var i=e.updateQueue;Vo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,g=a;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(p,d,h):f)||void 0===h)break e;d=M({},d,h);break e;case 2:Vo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);ql|=s,e.lanes=s,e.memoizedState=d}}function Zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var es={},ts=Oi(es),ns=Oi(es),rs=Oi(es);function is(e){if(e===es)throw Error(o(174));return e}function os(e,t){switch(Ai(rs,t),Ai(ns,e),Ai(ts,es),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Li(ts),Ai(ts,t)}function ss(){Li(ts),Li(ns),Li(rs)}function as(e){is(rs.current);var t=is(ts.current),n=le(t,e.type);t!==n&&(Ai(ns,e),Ai(ts,n))}function ls(e){ns.current===e&&(Li(ts),Li(ns))}var cs=Oi(0);function us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ds=[];function hs(){for(var e=0;e<ds.length;e++)ds[e]._workInProgressVersionPrimary=null;ds.length=0}var ps=x.ReactCurrentDispatcher,fs=x.ReactCurrentBatchConfig,gs=0,ms=null,ys=null,vs=null,bs=!1,xs=!1,_s=0,ws=0;function ks(){throw Error(o(321))}function Ss(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mr(e[n],t[n]))return!1;return!0}function Cs(e,t,n,r,i,s){if(gs=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ps.current=null===e||null===e.memoizedState?la:ca,e=n(r,i),xs){s=0;do{if(xs=!1,_s=0,25<=s)throw Error(o(301));s+=1,vs=ys=null,t.updateQueue=null,ps.current=ua,e=n(r,i)}while(xs)}if(ps.current=aa,t=null!==ys&&null!==ys.next,gs=0,vs=ys=ms=null,bs=!1,t)throw Error(o(300));return e}function Ts(){var e=0!==_s;return _s=0,e}function Es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?ms.memoizedState=vs=e:vs=vs.next=e,vs}function js(){if(null===ys){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=ys.next;var t=null===vs?ms.memoizedState:vs.next;if(null!==t)vs=t,ys=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ys=e).memoizedState,baseState:ys.baseState,baseQueue:ys.baseQueue,queue:ys.queue,next:null},null===vs?ms.memoizedState=vs=e:vs=vs.next=e}return vs}function Is(e,t){return"function"===typeof t?t(e):t}function Ps(e){var t=js(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ys,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((gs&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,ms.lanes|=d,ql|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,mr(r,t.memoizedState)||(ja=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,ql|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ns(e){var t=js(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);mr(s,t.memoizedState)||(ja=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Rs(){}function Os(e,t){var n=ms,r=js(),i=t(),s=!mr(r.memoizedState,i);if(s&&(r.memoizedState=i,ja=!0),r=r.queue,Vs(Ds.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,Ws(9,As.bind(null,n,r,i,t),void 0,null),null===Ml)throw Error(o(349));0!==(30&gs)||Ls(n,t,i)}return i}function Ls(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function As(e,t,n,r){t.value=n,t.getSnapshot=r,Ms(t)&&zs(e)}function Ds(e,t,n){return n(function(){Ms(t)&&zs(e)})}function Ms(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mr(e,n)}catch(Xe){return!0}}function zs(e){var t=qo(e,1);null!==t&&uc(t,e,1,-1)}function Fs(e){var t=Es();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:e},t.queue=e,e=e.dispatch=ra.bind(null,ms,e),[t.memoizedState,e]}function Ws(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Us(){return js().memoizedState}function Bs(e,t,n,r){var i=Es();ms.flags|=e,i.memoizedState=Ws(1|t,n,void 0,void 0===r?null:r)}function Hs(e,t,n,r){var i=js();r=void 0===r?null:r;var o=void 0;if(null!==ys){var s=ys.memoizedState;if(o=s.destroy,null!==r&&Ss(r,s.deps))return void(i.memoizedState=Ws(t,n,o,r))}ms.flags|=e,i.memoizedState=Ws(1|t,n,o,r)}function qs(e,t){return Bs(8390656,8,e,t)}function Vs(e,t){return Hs(2048,8,e,t)}function Gs(e,t){return Hs(4,2,e,t)}function Ks(e,t){return Hs(4,4,e,t)}function Qs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ys(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Hs(4,4,Qs.bind(null,t,e),n)}function $s(){}function Js(e,t){var n=js();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=js();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zs(e,t,n){return 0===(21&gs)?(e.baseState&&(e.baseState=!1,ja=!0),e.memoizedState=n):(mr(n,t)||(n=kt(),ms.lanes|=n,ql|=n,e.baseState=!0),t)}function ea(e,t){var n=Et;Et=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{Et=n,fs.transition=r}}function ta(){return js().memoizedState}function na(e,t,n){var r=cc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ia(e))oa(t,n);else if(null!==(n=Ho(e,t,n,r))){uc(n,e,r,lc()),sa(n,t,r)}}function ra(e,t,n){var r=cc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ia(e))oa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,mr(a,s)){var l=t.interleaved;return null===l?(i.next=i,Bo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(qe){}null!==(n=Ho(e,t,i,r))&&(uc(n,e,r,i=lc()),sa(n,t,r))}}function ia(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function oa(e,t){xs=bs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Tt(e,n)}}var aa={readContext:Wo,useCallback:ks,useContext:ks,useEffect:ks,useImperativeHandle:ks,useInsertionEffect:ks,useLayoutEffect:ks,useMemo:ks,useReducer:ks,useRef:ks,useState:ks,useDebugValue:ks,useDeferredValue:ks,useTransition:ks,useMutableSource:ks,useSyncExternalStore:ks,useId:ks,unstable_isNewReconciler:!1},la={readContext:Wo,useCallback:function(e,t){return Es().memoizedState=[e,void 0===t?null:t],e},useContext:Wo,useEffect:qs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4194308,4,Qs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var n=Es();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Es();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=na.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Es().memoizedState=e},useState:Fs,useDebugValue:$s,useDeferredValue:function(e){return Es().memoizedState=e},useTransition:function(){var e=Fs(!1),t=e[0];return e=ea.bind(null,e[1]),Es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,i=Es();if(fo){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ml)throw Error(o(349));0!==(30&gs)||Ls(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,qs(Ds.bind(null,r,s,e),[e]),r.flags|=2048,Ws(9,As.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Es(),t=Ml.identifierPrefix;if(fo){var n=so;t=":"+t+"R"+(n=(oo&~(1<<32-pt(oo)-1)).toString(32)+n),0<(n=_s++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ws++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ca={readContext:Wo,useCallback:Js,useContext:Wo,useEffect:Vs,useImperativeHandle:Ys,useInsertionEffect:Gs,useLayoutEffect:Ks,useMemo:Xs,useReducer:Ps,useRef:Us,useState:function(){return Ps(Is)},useDebugValue:$s,useDeferredValue:function(e){return Zs(js(),ys.memoizedState,e)},useTransition:function(){return[Ps(Is)[0],js().memoizedState]},useMutableSource:Rs,useSyncExternalStore:Os,useId:ta,unstable_isNewReconciler:!1},ua={readContext:Wo,useCallback:Js,useContext:Wo,useEffect:Vs,useImperativeHandle:Ys,useInsertionEffect:Gs,useLayoutEffect:Ks,useMemo:Xs,useReducer:Ns,useRef:Us,useState:function(){return Ns(Is)},useDebugValue:$s,useDeferredValue:function(e){var t=js();return null===ys?t.memoizedState=e:Zs(t,ys.memoizedState,e)},useTransition:function(){return[Ns(Is)[0],js().memoizedState]},useMutableSource:Rs,useSyncExternalStore:Os,useId:ta,unstable_isNewReconciler:!1};function da(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lc(),i=cc(e),o=Qo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Yo(e,o,i))&&(uc(t,e,i,r),$o(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lc(),i=cc(e),o=Qo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Yo(e,o,i))&&(uc(t,e,i,r),$o(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lc(),r=cc(e),i=Qo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Yo(e,i,r))&&(uc(t,e,r,n),$o(t,e,r))}};function fa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!yr(n,r)||!yr(i,o))}function ga(e,t,n){var r=!1,i=Di,o=t.contextType;return"object"===typeof o&&null!==o?o=Wo(o):(i=Ui(t)?Fi:Mi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Wi(e,i):Di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ya(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Go(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Wo(o):(o=Ui(t)?Fi:Mi.current,i.context=Wi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ha(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&pa.enqueueReplaceState(i,i.state,null),Xo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function va(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(Ze){i="\nError generating stack: "+Ze.message+"\n"+Ze.stack}return{value:e,source:t,stack:i,digest:null}}function ba(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function xa(e,t){try{console.error(t.value)}catch(Qe){setTimeout(function(){throw Qe})}}var _a="function"===typeof WeakMap?WeakMap:Map;function wa(e,t,n){(n=Qo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xl||(Xl=!0,Zl=r),xa(0,t)},n}function ka(e,t,n){(n=Qo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){xa(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){xa(0,t),"function"!==typeof r&&(null===ec?ec=new Set([this]):ec.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Sa(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new _a;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Oc.bind(null,e,t,n),t.then(e,e))}function Ca(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ta(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Qo(-1,1)).tag=2,Yo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Ea=x.ReactCurrentOwner,ja=!1;function Ia(e,t,n,r){t.child=null===e?No(t,null,n,r):Po(t,e.child,n,r)}function Pa(e,t,n,r,i){n=n.render;var o=t.ref;return Fo(t,i),r=Cs(e,t,n,r,o,i),n=Ts(),null===e||ja?(fo&&n&&co(t),t.flags|=1,Ia(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xa(e,t,i))}function Na(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Wc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Bc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ra(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:yr)(s,r)&&e.ref===t.ref)return Xa(e,t,i)}return t.flags|=1,(e=Uc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ra(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(yr(o,r)&&e.ref===t.ref){if(ja=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Xa(e,t,i);0!==(131072&e.flags)&&(ja=!0)}}return Aa(e,t,n,r,i)}function Oa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Ul,Wl),Wl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Ul,Wl),Wl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ai(Ul,Wl),Wl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ai(Ul,Wl),Wl|=r;return Ia(e,t,i,n),t.child}function La(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Aa(e,t,n,r,i){var o=Ui(n)?Fi:Mi.current;return o=Wi(t,o),Fo(t,i),n=Cs(e,t,n,r,o,i),r=Ts(),null===e||ja?(fo&&r&&co(t),t.flags|=1,Ia(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xa(e,t,i))}function Da(e,t,n,r,i){if(Ui(n)){var o=!0;Vi(t)}else o=!1;if(Fo(t,i),null===t.stateNode)Ja(e,t),ga(t,n,r),ya(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Wo(c):c=Wi(t,c=Ui(n)?Fi:Mi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&ma(t,s,r,c),Vo=!1;var h=t.memoizedState;s.state=h,Xo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||zi.current||Vo?("function"===typeof u&&(ha(t,n,u,r),l=t.memoizedState),(a=Vo||fa(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ko(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:da(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Wo(l):l=Wi(t,l=Ui(n)?Fi:Mi.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&ma(t,s,r,l),Vo=!1,h=t.memoizedState,s.state=h,Xo(t,r,s,i);var f=t.memoizedState;a!==d||h!==f||zi.current||Vo?("function"===typeof p&&(ha(t,n,p,r),f=t.memoizedState),(c=Vo||fa(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ma(e,t,n,r,o,i)}function Ma(e,t,n,r,i,o){La(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Gi(t,n,!1),Xa(e,t,o);r=t.stateNode,Ea.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Po(t,e.child,null,o),t.child=Po(t,null,a,o)):Ia(e,t,a,o),t.memoizedState=r.state,i&&Gi(t,n,!0),t.child}function za(e){var t=e.stateNode;t.pendingContext?Hi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Hi(0,t.context,!1),os(e,t.containerInfo)}function Fa(e,t,n,r,i){return ko(),So(i),t.flags|=256,Ia(e,t,n,r),t.child}var Wa,Ua,Ba,Ha={dehydrated:null,treeContext:null,retryLane:0};function qa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Va(e,t,n){var r,i=t.pendingProps,s=cs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ai(cs,1&s),null===e)return bo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=qc(l,i,0,null),e=Hc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=qa(n),t.memoizedState=Ha,e):Ga(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ka(e,t,a,r=ba(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=qc({mode:"visible",children:r.children},i,0,null),(s=Hc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Po(t,e.child,null,a),t.child.memoizedState=qa(a),t.memoizedState=Ha,s);if(0===(1&t.mode))return Ka(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ka(e,t,a,r=ba(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ja||l){if(null!==(r=Ml)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,qo(e,i),uc(r,e,i,-1))}return kc(),Ka(e,t,a,r=ba(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,po=vi(i.nextSibling),ho=t,fo=!0,go=null,null!==e&&(no[ro++]=oo,no[ro++]=so,no[ro++]=io,oo=e.id,so=e.overflow,io=t),t=Ga(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Uc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Uc(r,a):(a=Hc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?qa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ha,i}return e=(a=e.child).sibling,i=Uc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ga(e,t){return(t=qc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ka(e,t,n,r){return null!==r&&So(r),Po(t,e.child,null,n),(e=Ga(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),zo(e.return,t,n)}function Ya(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function $a(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ia(e,t,r.children,n),0!==(2&(r=cs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qa(e,n,t);else if(19===e.tag)Qa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(cs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===us(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ya(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===us(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ya(t,!0,n,null,o);break;case"together":Ya(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ja(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ql|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Uc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Za(e,t){if(!fo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function el(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function tl(e,t,n){var r=t.pendingProps;switch(uo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return el(t),null;case 1:case 17:return Ui(t.type)&&Bi(),el(t),null;case 3:return r=t.stateNode,ss(),Li(zi),Li(Mi),hs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(_o(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==go&&(fc(go),go=null))),el(t),null;case 5:ls(t);var i=is(rs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ua(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return el(t),null}if(e=is(ts.current),_o(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[_i]=t,r[wi]=s,e=0!==(1&t.mode),n){case"dialog":Qr("cancel",r),Qr("close",r);break;case"iframe":case"object":case"embed":Qr("load",r);break;case"video":case"audio":for(i=0;i<qr.length;i++)Qr(qr[i],r);break;case"source":Qr("error",r);break;case"img":case"image":case"link":Qr("error",r),Qr("load",r);break;case"details":Qr("toggle",r);break;case"input":$(r,s),Qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qr("invalid",r);break;case"textarea":ie(r,s),Qr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&ai(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&ai(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Qr("scroll",r)}switch(n){case"input":G(r),Z(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=li)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[_i]=t,e[wi]=r,Wa(e,t),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Qr("cancel",e),Qr("close",e),i=r;break;case"iframe":case"object":case"embed":Qr("load",e),i=r;break;case"video":case"audio":for(i=0;i<qr.length;i++)Qr(qr[i],e);i=r;break;case"source":Qr("error",e),i=r;break;case"img":case"image":case"link":Qr("error",e),Qr("load",e),i=r;break;case"details":Qr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Qr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Qr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Qr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Qr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=li)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return el(t),null;case 6:if(e&&null!=t.stateNode)Ba(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=is(rs.current),is(ts.current),_o(t)){if(r=t.stateNode,n=t.memoizedProps,r[_i]=t,(s=r.nodeValue!==n)&&null!==(e=ho))switch(e.tag){case 3:ai(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ai(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[_i]=t,t.stateNode=r}return el(t),null;case 13:if(Li(cs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(fo&&null!==po&&0!==(1&t.mode)&&0===(128&t.flags))wo(),ko(),t.flags|=98560,s=!1;else if(s=_o(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[_i]=t}else ko(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;el(t),s=!1}else null!==go&&(fc(go),go=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&cs.current)?0===Bl&&(Bl=3):kc())),null!==t.updateQueue&&(t.flags|=4),el(t),null);case 4:return ss(),null===e&&Jr(t.stateNode.containerInfo),el(t),null;case 10:return Mo(t.type._context),el(t),null;case 19:if(Li(cs),null===(s=t.memoizedState))return el(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Za(s,!1);else{if(0!==Bl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=us(e))){for(t.flags|=128,Za(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(cs,1&cs.current|2),t.child}e=e.sibling}null!==s.tail&&it()>$l&&(t.flags|=128,r=!0,Za(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=us(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Za(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!fo)return el(t),null}else 2*it()-s.renderingStartTime>$l&&1073741824!==n&&(t.flags|=128,r=!0,Za(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=it(),t.sibling=null,n=cs.current,Ai(cs,r?1&n|2:1&n),t):(el(t),null);case 22:case 23:return bc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Wl)&&(el(t),6&t.subtreeFlags&&(t.flags|=8192)):el(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function nl(e,t){switch(uo(t),t.tag){case 1:return Ui(t.type)&&Bi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ss(),Li(zi),Li(Mi),hs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ls(t),null;case 13:if(Li(cs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ko()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Li(cs),null;case 4:return ss(),null;case 10:return Mo(t.type._context),null;case 22:case 23:return bc(),null;default:return null}}Wa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,is(ts.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=li)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Qr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ba=function(e,t,n,r){n!==r&&(t.flags|=4)};var rl=!1,il=!1,ol="function"===typeof WeakSet?WeakSet:Set,sl=null;function al(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(Xe){Rc(e,t,Xe)}else n.current=null}function ll(e,t,n){try{n()}catch(Xe){Rc(e,t,Xe)}}var cl=!1;function ul(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ll(t,n,o)}i=i.next}while(i!==r)}}function dl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function pl(e){var t=e.alternate;null!==t&&(e.alternate=null,pl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[_i],delete t[wi],delete t[Si],delete t[Ci],delete t[Ti])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fl(e){return 5===e.tag||3===e.tag||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ml(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=li));else if(4!==r&&null!==(e=e.child))for(ml(e,t,n),e=e.sibling;null!==e;)ml(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}var vl=null,bl=!1;function xl(e,t,n){for(n=n.child;null!==n;)_l(e,t,n),n=n.sibling}function _l(e,t,n){if(ht&&"function"===typeof ht.onCommitFiberUnmount)try{ht.onCommitFiberUnmount(dt,n)}catch(tt){}switch(n.tag){case 5:il||al(n,t);case 6:var r=vl,i=bl;vl=null,xl(e,t,n),bl=i,null!==(vl=r)&&(bl?(e=vl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):vl.removeChild(n.stateNode));break;case 18:null!==vl&&(bl?(e=vl,n=n.stateNode,8===e.nodeType?yi(e.parentNode,n):1===e.nodeType&&yi(e,n),Jt(e)):yi(vl,n.stateNode));break;case 4:r=vl,i=bl,vl=n.stateNode.containerInfo,bl=!0,xl(e,t,n),vl=r,bl=i;break;case 0:case 11:case 14:case 15:if(!il&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&ll(n,t,s),i=i.next}while(i!==r)}xl(e,t,n);break;case 1:if(!il&&(al(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(tt){Rc(n,t,tt)}xl(e,t,n);break;case 21:xl(e,t,n);break;case 22:1&n.mode?(il=(r=il)||null!==n.memoizedState,xl(e,t,n),il=r):xl(e,t,n);break;default:xl(e,t,n)}}function wl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ol),t.forEach(function(t){var r=Dc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function kl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:vl=l.stateNode,bl=!1;break e;case 3:case 4:vl=l.stateNode.containerInfo,bl=!0;break e}l=l.return}if(null===vl)throw Error(o(160));_l(s,a,i),vl=null,bl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(qe){Rc(i,t,qe)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Sl(t,e),t=t.sibling}function Sl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kl(t,e),Cl(e),4&r){try{ul(3,e,e.return),dl(3,e)}catch(He){Rc(e,e.return,He)}try{ul(5,e,e.return)}catch(He){Rc(e,e.return,He)}}break;case 1:kl(t,e),Cl(e),512&r&&null!==n&&al(n,n.return);break;case 5:if(kl(t,e),Cl(e),512&r&&null!==n&&al(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(He){Rc(e,e.return,He)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(i,s),ve(l,a);var u=ve(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?ue(i,h):"children"===d?de(i,h):b(i,d,h,u)}switch(l){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(i,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[wi]=s}catch(He){Rc(e,e.return,He)}}break;case 6:if(kl(t,e),Cl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(He){Rc(e,e.return,He)}}break;case 3:if(kl(t,e),Cl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Jt(t.containerInfo)}catch(He){Rc(e,e.return,He)}break;case 4:default:kl(t,e),Cl(e);break;case 13:kl(t,e),Cl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Yl=it())),4&r&&wl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(il=(u=il)||d,kl(t,e),il=u):kl(t,e),Cl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(sl=e,d=e.child;null!==d;){for(h=sl=d;null!==sl;){switch(f=(p=sl).child,p.tag){case 0:case 11:case 14:case 15:ul(4,p,p.return);break;case 1:al(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(He){Rc(r,n,He)}}break;case 5:al(p,p.return);break;case 22:if(null!==p.memoizedState){Il(h);continue}}null!==f?(f.return=p,sl=f):Il(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",a))}catch(He){Rc(e,e.return,He)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(He){Rc(e,e.return,He)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kl(t,e),Cl(e),4&r&&wl(e);case 21:}}function Cl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(fl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),yl(e,gl(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ml(e,gl(e),s);break;default:throw Error(o(161))}}catch(wt){Rc(e,e.return,wt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Tl(e,t,n){sl=e,El(e,t,n)}function El(e,t,n){for(var r=0!==(1&e.mode);null!==sl;){var i=sl,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||rl;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||il;a=rl;var c=il;if(rl=s,(il=l)&&!c)for(sl=i;null!==sl;)l=(s=sl).child,22===s.tag&&null!==s.memoizedState?Pl(i):null!==l?(l.return=s,sl=l):Pl(i);for(;null!==o;)sl=o,El(o,t,n),o=o.sibling;sl=i,rl=a,il=c}jl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,sl=o):jl(e)}}function jl(e){for(;null!==sl;){var t=sl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:il||dl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!il)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:da(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Zo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Zo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Jt(h)}}}break;default:throw Error(o(163))}il||512&t.flags&&hl(t)}catch(p){Rc(t,t.return,p)}}if(t===e){sl=null;break}if(null!==(n=t.sibling)){n.return=t.return,sl=n;break}sl=t.return}}function Il(e){for(;null!==sl;){var t=sl;if(t===e){sl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,sl=n;break}sl=t.return}}function Pl(e){for(;null!==sl;){var t=sl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dl(4,t)}catch(wt){Rc(t,n,wt)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(wt){Rc(t,i,wt)}}var o=t.return;try{hl(t)}catch(wt){Rc(t,o,wt)}break;case 5:var s=t.return;try{hl(t)}catch(wt){Rc(t,s,wt)}}}catch(wt){Rc(t,t.return,wt)}if(t===e){sl=null;break}var a=t.sibling;if(null!==a){a.return=t.return,sl=a;break}sl=t.return}}var Nl,Rl=Math.ceil,Ol=x.ReactCurrentDispatcher,Ll=x.ReactCurrentOwner,Al=x.ReactCurrentBatchConfig,Dl=0,Ml=null,zl=null,Fl=0,Wl=0,Ul=Oi(0),Bl=0,Hl=null,ql=0,Vl=0,Gl=0,Kl=null,Ql=null,Yl=0,$l=1/0,Jl=null,Xl=!1,Zl=null,ec=null,tc=!1,nc=null,rc=0,ic=0,oc=null,sc=-1,ac=0;function lc(){return 0!==(6&Dl)?it():-1!==sc?sc:sc=it()}function cc(e){return 0===(1&e.mode)?1:0!==(2&Dl)&&0!==Fl?Fl&-Fl:null!==Co.transition?(0===ac&&(ac=kt()),ac):0!==(e=Et)?e:e=void 0===(e=window.event)?16:sn(e.type)}function uc(e,t,n,r){if(50<ic)throw ic=0,oc=null,Error(o(185));Ct(e,n,r),0!==(2&Dl)&&e===Ml||(e===Ml&&(0===(2&Dl)&&(Vl|=n),4===Bl&&gc(e,Fl)),dc(e,r),1===n&&0===Dl&&0===(1&t.mode)&&($l=it()+500,Qi&&Ji()))}function dc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-pt(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=xt(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=bt(e,e===Ml?Fl:0);if(0===r)null!==n&&et(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&et(n),1===t)0===e.tag?function(e){Qi=!0,$i(e)}(mc.bind(null,e)):$i(mc.bind(null,e)),gi(function(){0===(6&Dl)&&Ji()}),n=null;else{switch(jt(r)){case 1:n=st;break;case 4:n=at;break;case 16:default:n=lt;break;case 536870912:n=ut}n=Mc(n,hc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hc(e,t){if(sc=-1,ac=0,0!==(6&Dl))throw Error(o(327));var n=e.callbackNode;if(Pc()&&e.callbackNode!==n)return null;var r=bt(e,e===Ml?Fl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Sc(e,r);else{t=r;var i=Dl;Dl|=2;var s=wc();for(Ml===e&&Fl===t||(Jl=null,$l=it()+500,xc(e,t));;)try{Tc();break}catch(tt){_c(e,tt)}Do(),Ol.current=s,Dl=i,null!==zl?t=0:(Ml=null,Fl=0,t=Bl)}if(0!==t){if(2===t&&(0!==(i=_t(e))&&(r=i,t=pc(e,i))),1===t)throw n=Hl,xc(e,0),gc(e,r),dc(e,it()),n;if(6===t)gc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!mr(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Sc(e,r))&&(0!==(s=_t(e))&&(r=s,t=pc(e,s))),1===t))throw n=Hl,xc(e,0),gc(e,r),dc(e,it()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ic(e,Ql,Jl);break;case 3:if(gc(e,r),(130023424&r)===r&&10<(t=Yl+500-it())){if(0!==bt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){lc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=hi(Ic.bind(null,e,Ql,Jl),t);break}Ic(e,Ql,Jl);break;case 4:if(gc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-pt(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=it()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rl(r/1960))-r)){e.timeoutHandle=hi(Ic.bind(null,e,Ql,Jl),r);break}Ic(e,Ql,Jl);break;default:throw Error(o(329))}}}return dc(e,it()),e.callbackNode===n?hc.bind(null,e):null}function pc(e,t){var n=Kl;return e.current.memoizedState.isDehydrated&&(xc(e,t).flags|=256),2!==(e=Sc(e,t))&&(t=Ql,Ql=n,null!==t&&fc(t)),e}function fc(e){null===Ql?Ql=e:Ql.push.apply(Ql,e)}function gc(e,t){for(t&=~Gl,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),r=1<<n;e[n]=-1,t&=~r}}function mc(e){if(0!==(6&Dl))throw Error(o(327));Pc();var t=bt(e,0);if(0===(1&t))return dc(e,it()),null;var n=Sc(e,t);if(0!==e.tag&&2===n){var r=_t(e);0!==r&&(t=r,n=pc(e,r))}if(1===n)throw n=Hl,xc(e,0),gc(e,t),dc(e,it()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ic(e,Ql,Jl),dc(e,it()),null}function yc(e,t){var n=Dl;Dl|=1;try{return e(t)}finally{0===(Dl=n)&&($l=it()+500,Qi&&Ji())}}function vc(e){null!==nc&&0===nc.tag&&0===(6&Dl)&&Pc();var t=Dl;Dl|=1;var n=Al.transition,r=Et;try{if(Al.transition=null,Et=1,e)return e()}finally{Et=r,Al.transition=n,0===(6&(Dl=t))&&Ji()}}function bc(){Wl=Ul.current,Li(Ul)}function xc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,pi(n)),null!==zl)for(n=zl.return;null!==n;){var r=n;switch(uo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Bi();break;case 3:ss(),Li(zi),Li(Mi),hs();break;case 5:ls(r);break;case 4:ss();break;case 13:case 19:Li(cs);break;case 10:Mo(r.type._context);break;case 22:case 23:bc()}n=n.return}if(Ml=e,zl=e=Uc(e.current,null),Fl=Wl=t,Bl=0,Hl=null,Gl=Vl=ql=0,Ql=Kl=null,null!==Uo){for(t=0;t<Uo.length;t++)if(null!==(r=(n=Uo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Uo=null}return e}function _c(e,t){for(;;){var n=zl;try{if(Do(),ps.current=aa,bs){for(var r=ms.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}bs=!1}if(gs=0,vs=ys=ms=null,xs=!1,_s=0,Ll.current=null,null===n||null===n.return){Bl=1,Hl=t,zl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Fl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Ca(a);if(null!==f){f.flags&=-257,Ta(f,a,l,0,t),1&f.mode&&Sa(s,u,t),c=u;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){Sa(s,u,t),kc();break e}c=Error(o(426))}else if(fo&&1&l.mode){var y=Ca(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),Ta(y,a,l,0,t),So(va(c,l));break e}}s=c=va(c,l),4!==Bl&&(Bl=2),null===Kl?Kl=[s]:Kl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Jo(s,wa(0,c,t));break e;case 1:l=c;var v=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ec||!ec.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Jo(s,ka(s,l,t));break e}}s=s.return}while(null!==s)}jc(n)}catch(x){t=x,zl===n&&null!==n&&(zl=n=n.return);continue}break}}function wc(){var e=Ol.current;return Ol.current=aa,null===e?aa:e}function kc(){0!==Bl&&3!==Bl&&2!==Bl||(Bl=4),null===Ml||0===(268435455&ql)&&0===(268435455&Vl)||gc(Ml,Fl)}function Sc(e,t){var n=Dl;Dl|=2;var r=wc();for(Ml===e&&Fl===t||(Jl=null,xc(e,t));;)try{Cc();break}catch(Be){_c(e,Be)}if(Do(),Dl=n,Ol.current=r,null!==zl)throw Error(o(261));return Ml=null,Fl=0,Bl}function Cc(){for(;null!==zl;)Ec(zl)}function Tc(){for(;null!==zl&&!nt();)Ec(zl)}function Ec(e){var t=Nl(e.alternate,e,Wl);e.memoizedProps=e.pendingProps,null===t?jc(e):zl=t,Ll.current=null}function jc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=tl(n,t,Wl)))return void(zl=n)}else{if(null!==(n=nl(n,t)))return n.flags&=32767,void(zl=n);if(null===e)return Bl=6,void(zl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(zl=t);zl=t=e}while(null!==t);0===Bl&&(Bl=5)}function Ic(e,t,n){var r=Et,i=Al.transition;try{Al.transition=null,Et=1,function(e,t,n,r){do{Pc()}while(null!==nc);if(0!==(6&Dl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-pt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Ml&&(zl=Ml=null,Fl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||tc||(tc=!0,Mc(lt,function(){return Pc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Al.transition,Al.transition=null;var a=Et;Et=1;var l=Dl;Dl|=4,Ll.current=null,function(e,t){if(ci=Zt,wr(e=_r())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(Ft){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=a),p===s&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ui={focusedElem:e,selectionRange:n},Zt=!1,sl=t;null!==sl;)if(e=(t=sl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,sl=e;else for(;null!==sl;){t=sl;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:da(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(Ft){Rc(t,t.return,Ft)}if(null!==(e=t.sibling)){e.return=t.return,sl=e;break}sl=t.return}g=cl,cl=!1}(e,n),Sl(n,e),kr(ui),Zt=!!ci,ui=ci=null,e.current=n,Tl(n,e,i),rt(),Dl=l,Et=a,Al.transition=s}else e.current=n;if(tc&&(tc=!1,nc=e,rc=i),s=e.pendingLanes,0===s&&(ec=null),function(e){if(ht&&"function"===typeof ht.onCommitFiberRoot)try{ht.onCommitFiberRoot(dt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),dc(e,it()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xl)throw Xl=!1,e=Zl,Zl=null,e;0!==(1&rc)&&0!==e.tag&&Pc(),s=e.pendingLanes,0!==(1&s)?e===oc?ic++:(ic=0,oc=e):ic=0,Ji()}(e,t,n,r)}finally{Al.transition=i,Et=r}return null}function Pc(){if(null!==nc){var e=jt(rc),t=Al.transition,n=Et;try{if(Al.transition=null,Et=16>e?16:e,null===nc)var r=!1;else{if(e=nc,nc=null,rc=0,0!==(6&Dl))throw Error(o(331));var i=Dl;for(Dl|=4,sl=e.current;null!==sl;){var s=sl,a=s.child;if(0!==(16&sl.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(sl=u;null!==sl;){var d=sl;switch(d.tag){case 0:case 11:case 15:ul(8,d,s)}var h=d.child;if(null!==h)h.return=d,sl=h;else for(;null!==sl;){var p=(d=sl).sibling,f=d.return;if(pl(d),d===u){sl=null;break}if(null!==p){p.return=f,sl=p;break}sl=f}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}sl=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,sl=a;else e:for(;null!==sl;){if(0!==(2048&(s=sl).flags))switch(s.tag){case 0:case 11:case 15:ul(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,sl=v;break e}sl=s.return}}var b=e.current;for(sl=b;null!==sl;){var x=(a=sl).child;if(0!==(2064&a.subtreeFlags)&&null!==x)x.return=a,sl=x;else e:for(a=b;null!==sl;){if(0!==(2048&(l=sl).flags))try{switch(l.tag){case 0:case 11:case 15:dl(9,l)}}catch(w){Rc(l,l.return,w)}if(l===a){sl=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,sl=_;break e}sl=l.return}}if(Dl=i,Ji(),ht&&"function"===typeof ht.onPostCommitFiberRoot)try{ht.onPostCommitFiberRoot(dt,e)}catch(w){}r=!0}return r}finally{Et=n,Al.transition=t}}return!1}function Nc(e,t,n){e=Yo(e,t=wa(0,t=va(n,t),1),1),t=lc(),null!==e&&(Ct(e,1,t),dc(e,t))}function Rc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ec||!ec.has(r))){t=Yo(t,e=ka(t,e=va(n,e),1),1),e=lc(),null!==t&&(Ct(t,1,e),dc(t,e));break}}t=t.return}}function Oc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=lc(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Fl&n)===n&&(4===Bl||3===Bl&&(130023424&Fl)===Fl&&500>it()-Yl?xc(e,0):Gl|=n),dc(e,t)}function Lc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=yt,0===(130023424&(yt<<=1))&&(yt=4194304)));var n=lc();null!==(e=qo(e,t))&&(Ct(e,t,n),dc(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Lc(e,n)}function Dc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Lc(e,n)}function Mc(e,t){return Je(e,t)}function zc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fc(e,t,n,r){return new zc(e,t,n,r)}function Wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uc(e,t){var n=e.alternate;return null===n?((n=Fc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Wc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Hc(n.children,i,s,t);case S:a=8,i|=8;break;case C:return(e=Fc(12,n,t,2|i)).elementType=C,e.lanes=s,e;case I:return(e=Fc(13,n,t,i)).elementType=I,e.lanes=s,e;case P:return(e=Fc(19,n,t,i)).elementType=P,e.lanes=s,e;case O:return qc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case E:a=9;break e;case j:a=11;break e;case N:a=14;break e;case R:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Fc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Hc(e,t,n,r){return(e=Fc(7,e,r,t)).lanes=n,e}function qc(e,t,n,r){return(e=Fc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Vc(e,t,n){return(e=Fc(6,e,null,t)).lanes=n,e}function Gc(e,t,n){return(t=Fc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=St(0),this.expirationTimes=St(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qc(e,t,n,r,i,o,s,a,l){return e=new Kc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Fc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Go(o),e}function Yc(e){if(!e)return Di;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ui(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ui(n))return qi(e,n,t)}return t}function $c(e,t,n,r,i,o,s,a,l){return(e=Qc(n,r,!0,e,0,o,0,a,l)).context=Yc(null),n=e.current,(o=Qo(r=lc(),i=cc(n))).callback=void 0!==t&&null!==t?t:null,Yo(n,o,i),e.current.lanes=i,Ct(e,i,r),dc(e,r),e}function Jc(e,t,n,r){var i=t.current,o=lc(),s=cc(i);return n=Yc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Qo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Yo(i,t,s))&&(uc(e,i,s,o),$o(e,i,s)),s}function Xc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){Zc(e,t),(e=e.alternate)&&Zc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||zi.current)ja=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ja=!1,function(e,t,n){switch(t.tag){case 3:za(t),ko();break;case 5:as(t);break;case 1:Ui(t.type)&&Vi(t);break;case 4:os(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(Ro,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(cs,1&cs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Va(e,t,n):(Ai(cs,1&cs.current),null!==(e=Xa(e,t,n))?e.sibling:null);Ai(cs,1&cs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return $a(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(cs,cs.current),r)break;return null;case 22:case 23:return t.lanes=0,Oa(e,t,n)}return Xa(e,t,n)}(e,t,n);ja=0!==(131072&e.flags)}else ja=!1,fo&&0!==(1048576&t.flags)&&lo(t,to,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ja(e,t),e=t.pendingProps;var i=Wi(t,Mi.current);Fo(t,n),i=Cs(null,t,r,e,i,n);var s=Ts();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ui(r)?(s=!0,Vi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Go(t),i.updater=pa,t.stateNode=i,i._reactInternals=t,ya(t,r,e,n),t=Ma(null,t,r,!0,s,n)):(t.tag=0,fo&&s&&co(t),Ia(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ja(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===N)return 14}return 2}(r),e=da(r,e),i){case 0:t=Aa(null,t,r,e,n);break e;case 1:t=Da(null,t,r,e,n);break e;case 11:t=Pa(null,t,r,e,n);break e;case 14:t=Na(null,t,r,da(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:da(r,i),n);case 1:return r=t.type,i=t.pendingProps,Da(e,t,r,i=t.elementType===r?i:da(r,i),n);case 3:e:{if(za(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Ko(e,t),Xo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Fa(e,t,r,n,i=va(Error(o(423)),t));break e}if(r!==i){t=Fa(e,t,r,n,i=va(Error(o(424)),t));break e}for(po=vi(t.stateNode.containerInfo.firstChild),ho=t,fo=!0,go=null,n=No(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ko(),r===i){t=Xa(e,t,n);break e}Ia(e,t,r,n)}t=t.child}return t;case 5:return as(t),null===e&&bo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,di(r,i)?a=null:null!==s&&di(r,s)&&(t.flags|=32),La(e,t),Ia(e,t,a,n),t.child;case 6:return null===e&&bo(t),null;case 13:return Va(e,t,n);case 4:return os(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Po(t,null,r,n):Ia(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Pa(e,t,r,i=t.elementType===r?i:da(r,i),n);case 7:return Ia(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ia(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ai(Ro,r._currentValue),r._currentValue=a,null!==s)if(mr(s.value,a)){if(s.children===i.children&&!zi.current){t=Xa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Qo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),zo(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),zo(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Ia(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Fo(t,n),r=r(i=Wo(i)),t.flags|=1,Ia(e,t,r,n),t.child;case 14:return i=da(r=t.type,t.pendingProps),Na(e,t,r,i=da(r.type,i),n);case 15:return Ra(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:da(r,i),Ja(e,t),t.tag=1,Ui(r)?(e=!0,Vi(t)):e=!1,Fo(t,n),ga(t,r,i),ya(t,r,i,n),Ma(null,t,r,!0,e,n);case 19:return $a(e,t,n);case 22:return Oa(e,t,n)}throw Error(o(156,t.tag))};var tu="function"===typeof reportError?reportError:function(e){console.error(e)};function nu(e){this._internalRoot=e}function ru(e){this._internalRoot=e}function iu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ou(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function su(){}function au(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Xc(s);a.call(e)}}Jc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Xc(s);o.call(e)}}var s=$c(t,r,e,0,null,!1,0,"",su);return e._reactRootContainer=s,e[ki]=s.current,Jr(8===e.nodeType?e.parentNode:e),vc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Xc(l);a.call(e)}}var l=Qc(e,0,!1,null,0,!1,0,"",su);return e._reactRootContainer=l,e[ki]=l.current,Jr(8===e.nodeType?e.parentNode:e),vc(function(){Jc(t,l,n,r)}),l}(n,t,e,i,r);return Xc(s)}ru.prototype.render=nu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Jc(e,t,null,null)},ru.prototype.unmount=nu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;vc(function(){Jc(null,e,null,null)}),t[ki]=null}},ru.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&0!==t&&t<Bt[n].priority;n++);Bt.splice(n,0,e),0===n&&Gt(e)}},It=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vt(t.pendingLanes);0!==n&&(Tt(t,1|n),dc(t,it()),0===(6&Dl)&&($l=it()+500,Ji()))}break;case 13:vc(function(){var t=qo(e,1);if(null!==t){var n=lc();uc(t,e,1,n)}}),eu(e,1)}},Pt=function(e){if(13===e.tag){var t=qo(e,134217728);if(null!==t)uc(t,e,134217728,lc());eu(e,134217728)}},Nt=function(e){if(13===e.tag){var t=cc(e),n=qo(e,t);if(null!==n)uc(n,e,t,lc());eu(e,t)}},Rt=function(){return Et},Ot=function(e,t){var n=Et;try{return Et=e,t()}finally{Et=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Pi(r);if(!i)throw Error(o(90));K(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=yc,je=vc;var lu={usingClientEntryPoint:!1,Events:[ji,Ii,Pi,Ce,Te,yc]},cu={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uu={bundleType:cu.bundleType,version:cu.version,rendererPackageName:cu.rendererPackageName,rendererConfig:cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:cu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{dt=du.inject(uu),ht=du}catch(Ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!iu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!iu(e))throw Error(o(299));var n=!1,r="",i=tu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Qc(e,1,!1,null,0,n,0,r,i),e[ki]=t.current,Jr(8===e.nodeType?e.parentNode:e),new nu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return vc(e)},t.hydrate=function(e,t,n){if(!ou(t))throw Error(o(200));return au(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!iu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=tu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=$c(t,null,e,1,null!=n?n:null,i,0,s,a),e[ki]=t.current,Jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ru(t)},t.render=function(e,t,n){if(!ou(t))throw Error(o(200));return au(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ou(e))throw Error(o(40));return!!e._reactRootContainer&&(vc(function(){au(null,null,e,!1,function(){e._reactRootContainer=null,e[ki]=null})}),!0)},t.unstable_batchedUpdates=yc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ou(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return au(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391(e,t,n){var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153(e,t,n){var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,g(x,y.prototype),x.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)w.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:k.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+j(l,0):o,_(s)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),I(s,t,i,"",function(e){return e})):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var u=o+j(a=e[c],c);l+=I(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,i,u=o+j(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};function A(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=A,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},43(e,t,n){e.exports=n(202)},579(e,t,n){e.exports=n(153)},234(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(m=!1,x(e),!g)if(null!==r(c))g=!0,O(w);else{var t=r(u);null!==t&&L(_,t.startTime-e)}}function w(e,n){g=!1,m&&(m=!1,v(T),T=-1),f=!0;var o=p;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&L(_,d.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,C=null,T=-1,E=5,j=-1;function I(){return!(t.unstable_now()-j<E)}function P(){if(null!==C){var e=t.unstable_now();j=e;var n=!0;try{n=C(!0,e)}finally{n?k():(S=!1,C=null)}}else S=!1}if("function"===typeof b)k=function(){b(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=P,k=function(){R.postMessage(null)}}else k=function(){y(P,0)};function O(e){C=e,S||(S=!0,k())}function L(e,n){T=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(v(T),T=-1):m=!0,L(_,o-s))):(e.sortIndex=a,n(c,e),g||f||(g=!0,O(w))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},853(e,t,n){e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Be){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),o=n.t(i,2),s=n(391),a=n(950),l=n.t(a,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Be){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,a=o.history,l=r.Pop,h=null,m=y();function y(){return(a.state||{idx:null}).idx}function v(){l=r.Pop;let e=y(),t=null==e?null:e-m;m=e,h&&h({action:l,location:x.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,a.replaceState(c({},a.state,{idx:m}),""));let x={get action(){return l},get location(){return e(o,a)},listen(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(u,v),h=e,()=>{o.removeEventListener(u,v),h=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=f(x.location,e,t);n&&n(i,e),m=y()+1;let c=p(i,m),u=x.createHref(i);try{a.pushState(c,"",u)}catch(rl){if(rl instanceof DOMException&&"DataCloneError"===rl.name)throw rl;o.location.assign(u)}s&&h&&h({action:l,location:x.location,delta:1})},replace:function(e,t){l=r.Replace;let i=f(x.location,e,t);n&&n(i,e),m=y();let o=p(i,m),c=x.createHref(i);a.replaceState(o,"",c),s&&h&&h({action:l,location:x.location,delta:0})},go:e=>a.go(e)};return x}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),x(e,t,n,!1)}function x(e,t,n,r){let i=L(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let o=_(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=O(i);s=N(o[a],e,r)}return s}function _(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(d(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=B([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),_(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:P(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=w(r.join("/")),a=[];return a.push(...s.map(e=>""===e?o:[o,e].join("/"))),i&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,S=3,C=2,T=1,E=10,j=-2,I=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=j),t&&(r+=C),n.filter(e=>!I(e)).reduce((e,t)=>e+(k.test(t)?S:""===t?T:E),r)}function N(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:B([o,u.pathname]),pathnameBase:H(B([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=B([o,u.pathnameBase]))}return s}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:s,pattern:e}}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(rl){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+rl+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function D(e,t){void 0===t&&(t="/");let n,{pathname:r,search:i="",hash:o=""}="string"===typeof e?m(e):e;if(r)if(s=r,A.test(s))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),h(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+r)}n=r.startsWith("/")?M(r.substring(1),"/"):M(r,t)}else n=t;var s;return{pathname:n,search:q(i),hash:V(o)}}function M(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function z(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function F(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function W(e,t){let n=F(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function U(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),z("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),z("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),z("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=D(i,o),u=a&&"/"!==a&&a.endsWith("/"),h=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const B=e=>e.join("/").replace(/\/\/+/g,"/"),H=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function G(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const K=["post","put","patch","delete"],Q=(new Set(K),["get",...K]);new Set(Q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}const $=i.createContext(null);const J=i.createContext(null);const X=i.createContext(null);const Z=i.createContext(null);const ee=i.createContext({outlet:null,matches:[],isDataRoute:!1});const te=i.createContext(null);function ne(){return null!=i.useContext(Z)}function re(){return ne()||d(!1),i.useContext(Z).location}function ie(e){i.useContext(X).static||i.useLayoutEffect(e)}function oe(){let{isDataRoute:e}=i.useContext(ee);return e?function(){let{router:e}=me(fe.UseNavigateStable),t=ve(ge.UseNavigateStable),n=i.useRef(!1);return ie(()=>{n.current=!0}),i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Y({fromRouteId:t},i)))},[e,t])}():function(){ne()||d(!1);let e=i.useContext($),{basename:t,future:n,navigator:r}=i.useContext(X),{matches:o}=i.useContext(ee),{pathname:s}=re(),a=JSON.stringify(W(o,n.v7_relativeSplatPath)),l=i.useRef(!1);return ie(()=>{l.current=!0}),i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=U(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:B([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)},[t,r,a,s,e])}()}function se(){let{matches:e}=i.useContext(ee),t=e[e.length-1];return t?t.params:{}}function ae(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(X),{matches:o}=i.useContext(ee),{pathname:s}=re(),a=JSON.stringify(W(o,r.v7_relativeSplatPath));return i.useMemo(()=>U(e,JSON.parse(a),s,"path"===n),[e,a,s,n])}function le(e,t,n,o){ne()||d(!1);let{navigator:s}=i.useContext(X),{matches:a}=i.useContext(ee),l=a[a.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,p=re();if(t){var f;let e="string"===typeof t?m(t):t;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||d(!1),h=e}else h=p;let g=h.pathname||"/",y=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=b(e,{pathname:y});let x=pe(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:B([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:B([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,o);return t&&x?i.createElement(Z.Provider,{value:{location:Y({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},x):x}function ce(){let e=function(){var e;let t=i.useContext(te),n=ye(ge.UseRouteError),r=ve(ge.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=G(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const ue=i.createElement(ce,null);class de extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(ee.Provider,{value:this.props.routeContext},i.createElement(te.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function he(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext($);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(ee.Provider,{value:t},r)}function pe(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=a.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight((e,r,o)=>{let s,d=!1,h=null,p=null;var f;n&&(s=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ue,c&&(u<0&&0===o?(f="route-fallback",!1||be[f]||(be[f]=!0),d=!0,p=null):u===o&&(d=!0,p=r.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,o+1)),m=()=>{let t;return t=s?h:d?p:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(he,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(de,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var fe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fe||{}),ge=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ge||{});function me(e){let t=i.useContext($);return t||d(!1),t}function ye(e){let t=i.useContext(J);return t||d(!1),t}function ve(e){let t=function(){let e=i.useContext(ee);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const be={};function xe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function _e(e){let{to:t,replace:n,state:r,relative:o}=e;ne()||d(!1);let{future:s,static:a}=i.useContext(X),{matches:l}=i.useContext(ee),{pathname:c}=re(),u=oe(),h=U(t,W(l,s.v7_relativeSplatPath),c,"path"===o),p=JSON.stringify(h);return i.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:o}),[u,p,o,n,r]),null}function we(e){d(!1)}function ke(e){let{basename:t="/",children:n=null,location:o,navigationType:s=r.Pop,navigator:a,static:l=!1,future:c}=e;ne()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:u,navigator:a,static:l,future:Y({v7_relativeSplatPath:!1},c)}),[u,c,a,l]);"string"===typeof o&&(o=m(o));let{pathname:p="/",search:f="",hash:g="",state:y=null,key:v="default"}=o,b=i.useMemo(()=>{let e=L(p,u);return null==e?null:{location:{pathname:e,search:f,hash:g,state:y,key:v},navigationType:s}},[u,p,f,g,y,v,s]);return null==b?null:i.createElement(X.Provider,{value:h},i.createElement(Z.Provider,{children:n,value:b}))}function Se(e){let{children:t,location:n}=e;return le(Ce(t),n)}new Promise(()=>{});i.Component;function Ce(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Ce(e.props.children,o));e.type!==we&&d(!1),e.props.index&&e.props.children&&d(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Ce(e.props.children,o)),n.push(s)}),n}function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Te.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const je=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Be){}new Map;const Ie=o.startTransition;l.flushSync,o.useId;function Pe(e){let{basename:t,children:n,future:r,window:o}=e,s=i.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),y(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=m(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:g(t))},function(e,t){h("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},a)));let l=s.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},p=i.useCallback(e=>{d&&Ie?Ie(()=>u(e)):u(e)},[u,d]);return i.useLayoutEffect(()=>l.listen(p),[l,p]),i.useEffect(()=>xe(r),[r]),i.createElement(ke,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Re=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=i.forwardRef(function(e,t){let n,{onClick:r,relative:o,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:p}=e,f=Ee(e,je),{basename:m}=i.useContext(X),y=!1;if("string"===typeof u&&Re.test(u)&&(n=u,Ne))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=L(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:y=!0}catch(Be){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;ne()||d(!1);let{basename:r,navigator:o}=i.useContext(X),{hash:s,pathname:a,search:l}=ae(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:B([r,a])),o.createHref({pathname:c,search:l,hash:s})}(u,{relative:o}),b=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:s,relative:a,viewTransition:l}=void 0===t?{}:t,c=oe(),u=re(),d=ae(e,{relative:a});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(u)===g(d);c(e,{replace:n,state:o,preventScrollReset:s,relative:a,viewTransition:l})}},[u,c,d,r,o,n,e,s,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:o,viewTransition:p});return i.createElement("a",Te({},f,{href:n||v,onClick:y||s?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var Le,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Le||(Le={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));function De(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function ze(e){var t=function(e,t){if("object"!=Me(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Me(t)?t:t+""}function Fe(e,t,n){return(t=ze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach(function(t){Fe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let Be={data:""},He=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Be},qe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ve=/\/\*[^]*?\*\/|  +/g,Ge=/\n+/g,Ke=(e,t)=>{let n="",r="",i="";for(let o in e){let s=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+s+";":r+="f"==o[1]?Ke(s,o):o+"{"+Ke(s,"k"==o[1]?"":t)+"}":"object"==typeof s?r+=Ke(s,t?t.replace(/([^,])+/g,e=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):o):null!=s&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ke.p?Ke.p(o,s):o+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Qe={},Ye=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Ye(e[n]);return t}return e},$e=(e,t,n,r,i)=>{let o=Ye(e),s=Qe[o]||(Qe[o]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(o));if(!Qe[s]){let t=o!==e?e:(e=>{let t,n,r=[{}];for(;t=qe.exec(e.replace(Ve,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Ge," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Ge," ").trim();return r[0]})(e);Qe[s]=Ke(i?{["@keyframes "+s]:t}:t,n?"":"."+s)}let a=n&&Qe.g?Qe.g:null;return n&&(Qe.g=Qe[s]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Qe[s],t,r,a),s};function Je(e){let t=this||{},n=e.call?e(t.p):e;return $e(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let o=t[i];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":Ke(e,""):!1===e?"":e}return e+r+(null==o?"":o)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,He(t.target),t.g,t.o,t.k)}Je.bind({g:1});let Xe,Ze,et,tt=Je.bind({k:1});function nt(e,t){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:Ze&&Ze()},a),n.o=/ *go\d+/.test(l),a.className=Je.apply(n,r)+(l?" "+l:""),t&&(a.ref=s);let c=e;return e[0]&&(c=a.as||e,delete a.as),et&&c[0]&&et(a),Xe(c,a)}return t?t(i):i}}var rt,it,ot,st,at,lt,ct,ut,dt,ht,pt,ft,gt,mt,yt,vt,bt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,xt=(()=>{let e=0;return()=>(++e).toString()})(),_t=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),wt="default",kt=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return Ue(Ue({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return Ue(Ue({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?Ue(Ue({},e),t.toast):e)});case 2:let{toast:r}=t;return kt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return Ue(Ue({},e),{},{toasts:e.toasts.map(e=>e.id===i||void 0===i?Ue(Ue({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Ue(Ue({},e),{},{toasts:[]}):Ue(Ue({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Ue(Ue({},e),{},{pausedAt:t.time});case 6:let o=t.time-(e.pausedAt||0);return Ue(Ue({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>Ue(Ue({},e),{},{pauseDuration:e.pauseDuration+o}))})}},St=[],Ct={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Tt={},Et=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt;Tt[t]=kt(Tt[t]||Ct,e),St.forEach(e=>{let[n,r]=e;n===t&&r(Tt[t])})},jt=e=>Object.keys(Tt).forEach(t=>Et(e,t)),It=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt;return t=>{Et(t,e)}},Pt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Nt=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Ue(Ue({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||xt()})}(t,e,n);return It(r.toasterId||(e=>Object.keys(Tt).find(t=>Tt[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Rt=(e,t)=>Nt("blank")(e,t);Rt.error=Nt("error"),Rt.success=Nt("success"),Rt.loading=Nt("loading"),Rt.custom=Nt("custom"),Rt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?It(t)(n):jt(n)},Rt.dismissAll=e=>Rt.dismiss(void 0,e),Rt.remove=(e,t)=>{let n={type:4,toastId:e};t?It(t)(n):jt(n)},Rt.removeAll=e=>Rt.remove(void 0,e),Rt.promise=(e,t,n)=>{let r=Rt.loading(t.loading,Ue(Ue({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?bt(t.success,e):void 0;return i?Rt.success(i,Ue(Ue({id:r},n),null==n?void 0:n.success)):Rt.dismiss(r),e}).catch(e=>{let i=t.error?bt(t.error,e):void 0;i?Rt.error(i,Ue(Ue({id:r},n),null==n?void 0:n.error)):Rt.dismiss(r)}),e};var Ot=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt,[n,r]=(0,i.useState)(Tt[t]||Ct),o=(0,i.useRef)(Tt[t]);(0,i.useEffect)(()=>(o.current!==Tt[t]&&r(Tt[t]),St.push([t,r]),()=>{let e=St.findIndex(e=>{let[n]=e;return n===t});e>-1&&St.splice(e,1)}),[t]);let s=n.toasts.map(t=>{var n,r,i;return Ue(Ue(Ue(Ue({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Pt[t.type],style:Ue(Ue(Ue({},e.style),null==(i=e[t.type])?void 0:i.style),t.style)})});return Ue(Ue({},n),{},{toasts:s})}(e,t),o=(0,i.useRef)(new Map).current,s=(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(o.has(e))return;let n=setTimeout(()=>{o.delete(e),a({type:4,toastId:e})},t);o.set(e,n)},[]);(0,i.useEffect)(()=>{if(r)return;let e=Date.now(),i=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Rt.dismiss(n.id,t),r);n.visible&&Rt.dismiss(n.id)});return()=>{i.forEach(e=>e&&clearTimeout(e))}},[n,r,t]);let a=(0,i.useCallback)(It(t),[t]),l=(0,i.useCallback)(()=>{a({type:5,time:Date.now()})},[a]),c=(0,i.useCallback)((e,t)=>{a({type:1,toast:{id:e,height:t}})},[a]),u=(0,i.useCallback)(()=>{r&&a({type:6,time:Date.now()})},[r,a]),d=(0,i.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:o}=t||{},s=n.filter(t=>(t.position||o)===(e.position||o)&&t.height),a=s.findIndex(t=>t.id===e.id),l=s.filter((e,t)=>t<a&&e.visible).length;return s.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[n]);return(0,i.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)s(e.id,e.removeDelay);else{let t=o.get(e.id);t&&(clearTimeout(t),o.delete(e.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},Lt=tt(rt||(rt=De(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),At=tt(it||(it=De(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Dt=tt(ot||(ot=De(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Mt=nt("div")(st||(st=De(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Lt,At,e=>e.secondary||"#fff",Dt),zt=tt(at||(at=De(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Ft=nt("div")(lt||(lt=De(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",zt),Wt=tt(ct||(ct=De(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Ut=tt(ut||(ut=De(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Bt=nt("div")(dt||(dt=De(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Wt,Ut,e=>e.secondary||"#fff"),Ht=nt("div")(ht||(ht=De(["\n  position: absolute;\n"]))),qt=nt("div")(pt||(pt=De(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Vt=tt(ft||(ft=De(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Gt=nt("div")(gt||(gt=De(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Vt),Kt=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:o}=t;return void 0!==n?"string"==typeof n?i.createElement(Gt,null,n):n:"blank"===r?null:i.createElement(qt,null,i.createElement(Ft,Ue({},o)),"loading"!==r&&i.createElement(Ht,null,"error"===r?i.createElement(Mt,Ue({},o)):i.createElement(Bt,Ue({},o))))},Qt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Yt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),$t=nt("div")(mt||(mt=De(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Jt=nt("div")(yt||(yt=De(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Xt=i.memo(e=>{let{toast:t,position:n,style:r,children:o}=e,s=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=_t()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Qt(n),Yt(n)];return{animation:t?"".concat(tt(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(tt(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},a=i.createElement(Kt,{toast:t}),l=i.createElement(Jt,Ue({},t.ariaProps),bt(t.message,t));return i.createElement($t,{className:t.className,style:Ue(Ue(Ue({},s),r),t.style)},"function"==typeof o?o({icon:a,message:l}):i.createElement(i.Fragment,null,a,l))});!function(e,t,n,r){Ke.p=t,Xe=e,Ze=n,et=r}(i.createElement);var Zt=e=>{let{id:t,className:n,style:r,onHeightUpdate:o,children:s}=e,a=i.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;o(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,o]);return i.createElement("div",{ref:a,className:n,style:r},s)},en=Je(vt||(vt=De(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),tn=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:o,children:s,toasterId:a,containerStyle:l,containerClassName:c}=e,{toasts:u,handlers:d}=Ot(r,a);return i.createElement("div",{"data-rht-toaster":a||"",style:Ue({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(e=>{let r=e.position||n,a=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Ue(Ue({left:0,right:0,display:"flex",position:"absolute",transition:_t()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)})(r,d.calculateOffset(e,{reverseOrder:t,gutter:o,defaultPosition:n}));return i.createElement(Zt,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?en:"",style:a},"custom"===e.type?bt(e.message,e):s?s(e):i.createElement(Xt,{toast:e,position:r}))}))},nn=Rt;const rn=!1,on=!1,sn="${JSCORE_VERSION}",an=function(e,t){if(!e)throw ln(t)},ln=function(e){return new Error("Firebase Database ("+sn+") INTERNAL ASSERT FAILED: "+e)},cn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},un={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(cn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new dn;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class dn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hn=function(e){const t=cn(e);return un.encodeByteArray(t,!0)},pn=function(e){return hn(e).replace(/\./g,"")},fn=function(e){try{return un.decodeString(e,!0)}catch(Be){console.error("base64Decode failed: ",Be)}return null};function gn(e){return mn(void 0,e)}function mn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&yn(n)&&(e[n]=mn(e[n],t[n]));return e}function yn(e){return"__proto__"!==e}const vn=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,bn=()=>{try{return vn()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Debit-shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Be){return}const t=e&&fn(e[1]);return t&&JSON.parse(t)})()}catch(Be){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Be))}},xn=e=>{var t,n;return null===(n=null===(t=bn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},_n=e=>{const t=xn(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},wn=()=>{var e;return null===(e=bn())||void 0===e?void 0:e.config},kn=e=>{var t;return null===(t=bn())||void 0===t?void 0:t["_".concat(e)]};class Sn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Cn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[pn(JSON.stringify({alg:"none",type:"JWT"})),pn(JSON.stringify(o)),""].join(".")}function Tn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function En(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function jn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function In(){return!0===rn||!0===on}class Pn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nn.prototype.create)}}class Nn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Rn,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Pn(n,o,t)}}const Rn=/\{\$([^}]+)}/g;function On(e){return JSON.parse(e)}function Ln(e){return JSON.stringify(e)}const An=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=On(fn(o[0])||""),n=On(fn(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(Be){}return{header:t,claims:n,data:r,signature:i}};function Dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Mn(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function zn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Fn(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Wn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Un(n)&&Un(o)){if(!Wn(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Un(e){return null!==e&&"object"===typeof e}function Bn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Hn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function qn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Vn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class Gn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Kn),void 0===r.error&&(r.error=Kn),void 0===r.complete&&(r.complete=Kn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Be){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Be){"undefined"!==typeof console&&console.error&&console.error(Be)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kn(){}function Qn(e,t){return"".concat(e," failed: ").concat(t," argument ")}const Yn=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function $n(e){return e&&e._delegate?e._delegate:e}class Jn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xn="[DEFAULT]";class Zn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Sn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Be){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Be){if(r)return null;throw Be}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xn})}catch(Be){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Be){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Xn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn;return this.component?this.component.multipleInstances?e:Xn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class er{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Zn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const tr=[];var nr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(nr||(nr={}));const rr={debug:nr.DEBUG,verbose:nr.VERBOSE,info:nr.INFO,warn:nr.WARN,error:nr.ERROR,silent:nr.SILENT},ir=nr.INFO,or={[nr.DEBUG]:"log",[nr.VERBOSE]:"log",[nr.INFO]:"info",[nr.WARN]:"warn",[nr.ERROR]:"error"},sr=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=or[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class ar{constructor(e){this.name=e,this._logLevel=ir,this._logHandler=sr,this._userLogHandler=null,tr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?rr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,nr.DEBUG,...t),this._logHandler(this,nr.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,nr.VERBOSE,...t),this._logHandler(this,nr.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,nr.INFO,...t),this._logHandler(this,nr.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,nr.WARN,...t),this._logHandler(this,nr.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,nr.ERROR,...t),this._logHandler(this,nr.ERROR,...t)}}let lr,cr;const ur=new WeakMap,dr=new WeakMap,hr=new WeakMap,pr=new WeakMap,fr=new WeakMap;let gr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return dr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||hr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function mr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(cr||(cr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(br(this),n),vr(ur.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vr(e.apply(br(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(br(this),t,...r);return hr.set(o,t.sort?t.sort():[t]),vr(o)}}function yr(e){return"function"===typeof e?mr(e):(e instanceof IDBTransaction&&function(e){if(dr.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});dr.set(e,t)}(e),t=e,(lr||(lr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,gr):e);var t}function vr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(vr(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&ur.set(t,e)}).catch(()=>{}),fr.set(t,e),t}(e);if(pr.has(e))return pr.get(e);const t=yr(e);return t!==e&&(pr.set(e,t),fr.set(t,e)),t}const br=e=>fr.get(e);const xr=["get","getKey","getAll","getAllKeys","count"],_r=["put","add","delete","clear"],wr=new Map;function kr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(wr.get(t))return wr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=_r.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!xr.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return wr.set(t,o),o}gr=(e=>Ue(Ue({},e),{},{get:(t,n,r)=>kr(t,n)||e.get(t,n,r),has:(t,n)=>!!kr(t,n)||e.has(t,n)}))(gr);class Sr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Cr="@firebase/app",Tr="0.10.13",Er=new ar("@firebase/app"),jr="@firebase/app-compat",Ir="@firebase/analytics-compat",Pr="@firebase/analytics",Nr="@firebase/app-check-compat",Rr="@firebase/app-check",Or="@firebase/auth",Lr="@firebase/auth-compat",Ar="@firebase/database",Dr="@firebase/data-connect",Mr="@firebase/database-compat",zr="@firebase/functions",Fr="@firebase/functions-compat",Wr="@firebase/installations",Ur="@firebase/installations-compat",Br="@firebase/messaging",Hr="@firebase/messaging-compat",qr="@firebase/performance",Vr="@firebase/performance-compat",Gr="@firebase/remote-config",Kr="@firebase/remote-config-compat",Qr="@firebase/storage",Yr="@firebase/storage-compat",$r="@firebase/firestore",Jr="@firebase/vertexai-preview",Xr="@firebase/firestore-compat",Zr="firebase",ei="[DEFAULT]",ti={[Cr]:"fire-core",[jr]:"fire-core-compat",[Pr]:"fire-analytics",[Ir]:"fire-analytics-compat",[Rr]:"fire-app-check",[Nr]:"fire-app-check-compat",[Or]:"fire-auth",[Lr]:"fire-auth-compat",[Ar]:"fire-rtdb",[Dr]:"fire-data-connect",[Mr]:"fire-rtdb-compat",[zr]:"fire-fn",[Fr]:"fire-fn-compat",[Wr]:"fire-iid",[Ur]:"fire-iid-compat",[Br]:"fire-fcm",[Hr]:"fire-fcm-compat",[qr]:"fire-perf",[Vr]:"fire-perf-compat",[Gr]:"fire-rc",[Kr]:"fire-rc-compat",[Qr]:"fire-gcs",[Yr]:"fire-gcs-compat",[$r]:"fire-fst",[Xr]:"fire-fst-compat",[Jr]:"fire-vertex","fire-js":"fire-js",[Zr]:"fire-js-all"},ni=new Map,ri=new Map,ii=new Map;function oi(e,t){try{e.container.addComponent(t)}catch(Be){Er.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Be)}}function si(e){const t=e.name;if(ii.has(t))return Er.debug("There were multiple attempts to register component ".concat(t,".")),!1;ii.set(t,e);for(const n of ni.values())oi(n,e);for(const n of ri.values())oi(n,e);return!0}function ai(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function li(e){return void 0!==e.settings}const ci=new Nn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ui{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}const di="10.14.1";function hi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ei,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ci.create("bad-app-name",{appName:String(i)});if(n||(n=wn()),!n)throw ci.create("no-options");const o=ni.get(i);if(o){if(Wn(n,o.options)&&Wn(r,o.config))return o;throw ci.create("duplicate-app",{appName:i})}const s=new er(i);for(const l of ii.values())s.addComponent(l);const a=new ui(n,r,s);return ni.set(i,a),a}function pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei;const t=ni.get(e);if(!t&&e===ei&&wn())return hi();if(!t)throw ci.create("no-app",{appName:e});return t}function fi(e,t,n){var r;let i=null!==(r=ti[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Er.warn(e.join(" "))}si(new Jn("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const gi="firebase-heartbeat-store";let mi=null;function yi(){return mi||(mi=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=vr(s);return r&&s.addEventListener("upgradeneeded",e=>{r(vr(s.result),e.oldVersion,e.newVersion,vr(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(gi)}catch(Be){console.warn(Be)}}}).catch(e=>{throw ci.create("idb-open",{originalErrorMessage:e.message})})),mi}async function vi(e,t){try{const n=(await yi()).transaction(gi,"readwrite"),r=n.objectStore(gi);await r.put(t,bi(e)),await n.done}catch(Be){if(Be instanceof Pn)Er.warn(Be.message);else{const t=ci.create("idb-set",{originalErrorMessage:null===Be||void 0===Be?void 0:Be.message});Er.warn(t.message)}}}function bi(e){return"".concat(e.name,"!").concat(e.options.appId)}class xi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wi(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_i();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(Be){Er.warn(Be)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=_i(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ki(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ki(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=pn(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Be){return Er.warn(Be),""}}}function _i(){return(new Date).toISOString().substring(0,10)}class wi{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(Be){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(rl){t(rl)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await yi()).transaction(gi),n=await t.objectStore(gi).get(bi(e));return await t.done,n}catch(Be){if(Be instanceof Pn)Er.warn(Be.message);else{const t=ci.create("idb-get",{originalErrorMessage:null===Be||void 0===Be?void 0:Be.message});Er.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return vi(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return vi(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ki(e){return pn(JSON.stringify({version:2,heartbeats:e})).length}var Si;Si="",si(new Jn("platform-logger",e=>new Sr(e),"PRIVATE")),si(new Jn("heartbeat",e=>new xi(e),"PRIVATE")),fi(Cr,Tr,Si),fi(Cr,Tr,"esm2017"),fi("fire-js","");fi("firebase","10.14.1","app");function Ci(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Ti(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ei=Ti,ji=new Nn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ii=new ar("@firebase/auth");function Pi(e){if(Ii.logLevel<=nr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ii.error("Auth (".concat(di,"): ").concat(e),...n)}}function Ni(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ai(e,...n)}function Ri(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ai(e,...n)}function Oi(e,t,n){const r=Object.assign(Object.assign({},Ei()),{[t]:n});return new Nn("auth","Firebase",r).create(t,{appName:e.name})}function Li(e){return Oi(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ai(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ji.create(e,...n)}function Di(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ai(t,...r)}}function Mi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Pi(t),new Error(t)}function zi(e,t){e||Mi(t)}function Fi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Wi(){return"http:"===Ui()||"https:"===Ui()}function Ui(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Bi(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Wi()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Hi{constructor(e,t){this.shortDelay=e,this.longDelay=t,zi(t>e,"Short delay should be less than long delay!"),this.isMobile=En()||jn()}get(){return Bi()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qi(e,t){zi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Vi{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Gi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ki=new Hi(3e4,6e4);function Qi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Yi(e,t,n,r){return $i(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Bn(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Vi.fetch()(Xi(e,e.config.apiHost,n,s),l)})}async function $i(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Gi),t);try{const t=new eo(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw to(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw to(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw to(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw to(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Oi(e,a,s);Ni(e,a)}}catch(Be){if(Be instanceof Pn)throw Be;Ni(e,"network-request-failed",{message:String(Be)})}}async function Ji(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Yi(e,t,n,r,i);return"mfaPendingCredential"in o&&Ni(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Xi(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?qi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Zi(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eo{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Ri(this.auth,"network-request-failed")),Ki.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function to(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ri(e,t,r);return i.customData._tokenResponse=n,i}function no(e){return void 0!==e&&void 0!==e.enterprise}class ro{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Zi(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function io(e,t){return Yi(e,"GET","/v2/recaptchaConfig",Qi(e,t))}async function oo(e,t){return Yi(e,"POST","/v1/accounts:lookup",t)}function so(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Be){}}function ao(e){return 1e3*Number(e)}function lo(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Pi("JWT malformed, contained fewer than 3 sections"),null;try{const e=fn(n);return e?JSON.parse(e):(Pi("Failed to decode base64 JWT payload"),null)}catch(Be){return Pi("Caught error parsing JWT payload as JSON",null===Be||void 0===Be?void 0:Be.toString()),null}}function co(e){const t=lo(e);return Di(t,"internal-error"),Di("undefined"!==typeof t.exp,"internal-error"),Di("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function uo(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Be){throw Be instanceof Pn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Be)&&e.auth.currentUser===e&&await e.auth.signOut(),Be}}class ho{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Be){return void((null===Be||void 0===Be?void 0:Be.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class po{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=so(this.lastLoginAt),this.creationTime=so(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fo(e){var t;const n=e.auth,r=await e.getIdToken(),i=await uo(e,oo(n,{idToken:r}));Di(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?go(o.providerUserInfo):[],a=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new po(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function go(e){return e.map(e=>{var{providerId:t}=e,n=Ci(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Di(e.idToken,"internal-error"),Di("undefined"!==typeof e.idToken,"internal-error"),Di("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):co(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Di(0!==e.length,"internal-error");const t=co(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Di(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await $i(e,{},async()=>{const n=Bn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Xi(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Vi.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new mo;return n&&(Di("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Di("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Di("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return Mi("not implemented")}}function yo(e,t){Di("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class vo{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Ci(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ho(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new po(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await uo(this,this.stsTokenManager.getToken(this.auth,e));return Di(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=$n(e),r=await n.getIdToken(t),i=lo(r);Di(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:so(ao(i.auth_time)),issuedAtTime:so(ao(i.iat)),expirationTime:so(ao(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=$n(e);await fo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Di(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Di(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await fo(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await uo(this,async function(e,t){return Yi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:_,stsTokenManager:w}=t;Di(v&&w,e,"internal-error");const k=mo.fromJSON(this.name,w);Di("string"===typeof v,e,"internal-error"),yo(u,e.name),yo(d,e.name),Di("boolean"===typeof b,e,"internal-error"),Di("boolean"===typeof x,e,"internal-error"),yo(h,e.name),yo(p,e.name),yo(f,e.name),yo(g,e.name),yo(m,e.name),yo(y,e.name);const S=new vo({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:k,createdAt:m,lastLoginAt:y});return _&&Array.isArray(_)&&(S.providerData=_.map(e=>Object.assign({},e))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new mo;r.updateFromServerResponse(t);const i=new vo({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await fo(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Di(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?go(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new mo;s.updateFromIdToken(n);const a=new vo({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new po(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const bo=new Map;function xo(e){zi(e instanceof Function,"Expected a class definition");let t=bo.get(e);return t?(zi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,bo.set(e,t),t)}class _o{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_o.type="NONE";const wo=_o;function ko(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class So{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ko(this.userKey,r.apiKey,i),this.fullPersistenceKey=ko("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new So(xo(wo),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||xo(wo);const o=ko(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=vo._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(l){}})),new So(i,e,n)):new So(i,e,n)}}function Co(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Io(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(To(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(No(t))return"Blackberry";if(Ro(t))return"Webos";if(Eo(t))return"Safari";if((t.includes("chrome/")||jo(t))&&!t.includes("edge/"))return"Chrome";if(Po(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function To(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/firefox\//i.test(e)}function Eo(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/crios\//i.test(e)}function Io(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/iemobile/i.test(e)}function Po(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/android/i.test(e)}function No(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/blackberry/i.test(e)}function Ro(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/webos/i.test(e)}function Oo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Lo(){return function(){const e=Tn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ao(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return Oo(e)||Po(e)||Ro(e)||No(e)||/windows phone/i.test(e)||Io(e)}function Do(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Co(Tn());break;case"Worker":t="".concat(Co(Tn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(di,"/").concat(r)}class Mo{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(Be){r(Be)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Be){t.reverse();for(const n of t)try{n()}catch(jt){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Be||void 0===Be?void 0:Be.message})}}}class zo{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Fo{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uo(this),this.idTokenSubscription=new Uo(this),this.beforeStateQueue=new Mo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ji,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xo(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Be){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await oo(this,{idToken:e}),n=await vo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(li(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Be){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Be))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Di(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Be){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fo(e)}catch(Be){if((null===Be||void 0===Be?void 0:Be.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(Li(this));const t=e?$n(e):null;return t&&Di(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Di(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xo(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Yi(e,"GET","/v2/passwordPolicy",Qi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new zo(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Yi(e,"POST","/v2/accounts:revokeToken",Qi(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xo(e)||this._popupRedirectResolver;Di(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[xo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Di(s,this,"internal-error"),s.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Di(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Do(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ii.logLevel<=nr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ii.warn("Auth (".concat(di,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Wo(e){return $n(e)}class Uo{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Gn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Di(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ho(e){return Bo.loadJS(e)}function qo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Vo{constructor(e){this.type="recaptcha-enterprise",this.auth=Wo(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;no(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{io(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new ro(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&no(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Bo.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ho(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Go(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Vo(e);let o;try{o=await i.verify(n)}catch(rl){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Ko(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Go(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Go(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function Qo(e,t,n){const r=Wo(e);Di(r._canInitEmulator,r,"emulator-config-failed"),Di(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Yo(t),{host:s,port:a}=function(e){const t=Yo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:$o(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:$o(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Yo(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function $o(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Jo{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Mi("not implemented")}_getIdTokenResponse(e){return Mi("not implemented")}_linkToIdToken(e,t){return Mi("not implemented")}_getReauthenticationResolver(e){return Mi("not implemented")}}async function Xo(e,t){return Yi(e,"POST","/v1/accounts:signUp",t)}async function Zo(e,t){return Ji(e,"POST","/v1/accounts:signInWithPassword",Qi(e,t))}class es extends Jo{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new es(e,t,"password")}static _fromEmailAndCode(e,t){return new es(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ko(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Zo);case"emailLink":return async function(e,t){return Ji(e,"POST","/v1/accounts:signInWithEmailLink",Qi(e,t))}(e,{email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ko(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xo);case"emailLink":return async function(e,t){return Ji(e,"POST","/v1/accounts:signInWithEmailLink",Qi(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ts(e,t){return Ji(e,"POST","/v1/accounts:signInWithIdp",Qi(e,t))}class ns extends Jo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ni("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Ci(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new ns(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return ts(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ts(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ts(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bn(t)}return e}}const rs={USER_NOT_FOUND:"user-not-found"};class is extends Jo{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new is({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new is({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ji(e,"POST","/v1/accounts:signInWithPhoneNumber",Qi(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ji(e,"POST","/v1/accounts:signInWithPhoneNumber",Qi(e,t));if(n.temporaryProof)throw to(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ji(e,"POST","/v1/accounts:signInWithPhoneNumber",Qi(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),rs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new is({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class os{constructor(e){var t,n,r,i,o,s;const a=Hn(qn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Di(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Hn(qn(e)).link,n=t?Hn(qn(t)).deep_link_id:null,r=Hn(qn(e)).deep_link_id;return(r?Hn(qn(r)).link:null)||r||n||t||e}(e);try{return new os(t)}catch(n){return null}}}class ss{constructor(){this.providerId=ss.PROVIDER_ID}static credential(e,t){return es._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=os.parseLink(t);return Di(n,"argument-error"),es._fromEmailAndCode(e,n.code,n.tenantId)}}ss.PROVIDER_ID="password",ss.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ss.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class as{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ls extends as{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cs extends ls{constructor(){super("facebook.com")}static credential(e){return ns._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return cs.credential(t.oauthAccessToken)}catch(n){return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com",cs.PROVIDER_ID="facebook.com";class us extends ls{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ns._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return us.credential(n,r)}catch(i){return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com",us.PROVIDER_ID="google.com";class ds extends ls{constructor(){super("github.com")}static credential(e){return ns._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ds.credential(t.oauthAccessToken)}catch(n){return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com",ds.PROVIDER_ID="github.com";class hs extends ls{constructor(){super("twitter.com")}static credential(e,t){return ns._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return hs.credential(n,r)}catch(i){return null}}}async function ps(e,t){return Ji(e,"POST","/v1/accounts:signUp",Qi(e,t))}hs.TWITTER_SIGN_IN_METHOD="twitter.com",hs.PROVIDER_ID="twitter.com";class fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await vo._fromIdTokenResponse(e,n,r),o=gs(n);return new fs({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=gs(n);return new fs({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function gs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ms extends Pn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ms.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ms(e,t,n,r)}}function ys(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ms._fromErrorAndOperation(e,n,t,r);throw n})}async function vs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await uo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return fs._forOperation(e,"link",r)}async function bs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(li(r.app))return Promise.reject(Li(r));const i="reauthenticate";try{const o=await uo(e,ys(r,i,t,e),n);Di(o.idToken,r,"internal-error");const s=lo(o.idToken);Di(s,r,"internal-error");const{sub:a}=s;return Di(e.uid===a,r,"user-mismatch"),fs._forOperation(e,i,o)}catch(Be){throw(null===Be||void 0===Be?void 0:Be.code)==="auth/".concat("user-not-found")&&Ni(r,"user-mismatch"),Be}}async function xs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(li(e.app))return Promise.reject(Li(e));const r="signIn",i=await ys(e,r,t),o=await fs._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function _s(e,t){return xs(Wo(e),t)}async function ws(e){const t=Wo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ks(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=$n(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await uo(i,async function(e,t){return Yi(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}new WeakMap;const Ss="__sak";class Cs{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ss,"1"),this.storage.removeItem(Ss),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ts extends Cs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ao(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Lo()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ts.type="LOCAL";const Es=Ts;class js extends Cs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}js.type="SESSION";const Is=js;class Ps{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ps(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ps.receivers=[];class Rs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const l=Ns("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Os(){return window}function Ls(){return"undefined"!==typeof Os().WorkerGlobalScope&&"function"===typeof Os().importScripts}const As="firebaseLocalStorageDb",Ds="firebaseLocalStorage",Ms="fbase_key";class zs{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fs(e,t){return e.transaction([Ds],t?"readwrite":"readonly").objectStore(Ds)}function Ws(){const e=indexedDB.open(As,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Ds,{keyPath:Ms})}catch(Be){n(Be)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Ds)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(As);return new zs(e).toPromise()}(),t(await Ws()))})})}async function Us(e,t,n){const r=Fs(e,!0).put({[Ms]:t,value:n});return new zs(r).toPromise()}function Bs(e,t){const n=Fs(e,!0).delete(t);return new zs(n).toPromise()}class Hs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Ws()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Be){if(t++>3)throw Be;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ls()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ps._getInstance(Ls()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Rs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ws();return await Us(e,Ss,"1"),await Bs(e,Ss),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Us(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Fs(e,!1).get(t),r=await new zs(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Bs(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Fs(e,!1).getAll();return new zs(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Hs.type="LOCAL";const qs=Hs;qo("rcb"),new Hi(3e4,6e4);const Vs="recaptcha";async function Gs(e,t,n){var r;const i=await n.verify();try{let o;if(Di("string"===typeof i,e,"argument-error"),Di(n.type===Vs,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Di("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Yi(e,"POST","/v2/accounts/mfaEnrollment:start",Qi(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Di("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Di(n,e,"missing-multi-factor-info");const s=await function(e,t){return Yi(e,"POST","/v2/accounts/mfaSignIn:start",Qi(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Yi(e,"POST","/v1/accounts:sendVerificationCode",Qi(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ks{constructor(e){this.providerId=Ks.PROVIDER_ID,this.auth=Wo(e)}verifyPhoneNumber(e,t){return Gs(this.auth,e,$n(t))}static credential(e,t){return is._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ks.credentialFromTaggedObject(t)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?is._fromTokenResponse(n,r):null}}function Qs(e,t){return t?xo(t):(Di(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ks.PROVIDER_ID="phone",Ks.PHONE_SIGN_IN_METHOD="phone";class Ys extends Jo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ts(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ts(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ts(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $s(e){return xs(e.auth,new Ys(e),e.bypassAuthState)}function Js(e){const{auth:t,user:n}=e;return Di(n,t,"internal-error"),bs(n,new Ys(e),e.bypassAuthState)}async function Xs(e){const{auth:t,user:n}=e;return Di(n,t,"internal-error"),vs(n,new Ys(e),e.bypassAuthState)}class Zs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Be){this.reject(Be)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(Be){this.reject(Be)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $s;case"linkViaPopup":case"linkViaRedirect":return Xs;case"reauthViaPopup":case"reauthViaRedirect":return Js;default:Ni(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ea=new Hi(2e3,1e4);class ta extends Zs{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Di(e,this.auth,"internal-error"),e}async onExecution(){zi(1===this.filter.length,"Popup operations only handle one event");const e=Ns();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,ea.get())};e()}}ta.currentPopupAction=null;const na=new Map;class ra extends Zs{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=na.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=sa(t),r=oa(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Be){e=()=>Promise.reject(Be)}na.set(this.auth._key(),e)}return this.bypassAuthState||na.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ia(e,t){na.set(e._key(),t)}function oa(e){return xo(e._redirectPersistence)}function sa(e){return ko("pendingRedirect",e.config.apiKey,e.name)}async function aa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(li(e.app))return Promise.reject(Li(e));const r=Wo(e),i=Qs(r,t),o=new ra(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class la{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ua(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ua(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ri(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ca(e))}saveEventToCache(e){this.cachedEventUids.add(ca(e)),this.lastProcessedEventTime=Date.now()}}function ca(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ua(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const da=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ha=/^https?/;async function pa(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Yi(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(fa(r))return}catch(n){}Ni(e,"unauthorized-domain")}function fa(e){const t=Fi(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ha.test(n))return!1;if(da.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ga=new Hi(3e4,6e4);function ma(){const e=Os().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ya(e){return new Promise((t,n)=>{var r,i,o;function s(){ma(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ma(),n(Ri(e,"network-request-failed"))},timeout:ga.get()})}if(null===(i=null===(r=Os().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Os().gapi)||void 0===o?void 0:o.load)){const t=qo("iframefcb");return Os()[t]=()=>{gapi.load?s():n(Ri(e,"network-request-failed"))},Ho("".concat(Bo.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw va=null,e})}let va=null;const ba=new Hi(5e3,15e3),xa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_a=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wa(e){const t=e.config;Di(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?qi(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:di},i=_a.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Bn(r).slice(1))}async function ka(e){const t=await function(e){return va=va||ya(e),va}(e),n=Os().gapi;return Di(n,e,"internal-error"),t.open({where:document.body,url:wa(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xa,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ri(e,"network-request-failed"),o=Os().setTimeout(()=>{r(i)},ba.get());function s(){Os().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const Sa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ca{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Be){}}}function Ta(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Sa),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Tn().toLowerCase();n&&(a=jo(c)?"_blank":n),To(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Oo(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Ca(null);const d=window.open(t||"",a,u);Di(d,e,"popup-blocked");try{d.focus()}catch(Be){}return new Ca(d)}const Ea="__/auth/handler",ja="emulator/auth/handler",Ia=encodeURIComponent("fac");async function Pa(e,t,n,r,i,o){Di(e.config.authDomain,e,"auth-domain-config-required"),Di(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:di,eventId:i};if(t instanceof as){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",zn(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof ls){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ia,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ea);return qi(t,ja)}(e),"?").concat(Bn(a).slice(1)).concat(c)}const Na="webStorageSupport";const Ra=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Is,this._completeRedirectFn=aa,this._overrideRedirectResult=ia}async _openPopup(e,t,n,r){var i;zi(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ta(e,await Pa(e,t,n,Fi(),r),Ns())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Os().location.href=e}(await Pa(e,t,n,Fi(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(zi(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await ka(e),n=new la(e);return t.register("authEvent",t=>{Di(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Na,{type:Na},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Na];void 0!==i&&t(!!i),Ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pa(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ao()||Eo()||Oo()}};var Oa="@firebase/auth",La="1.7.9";class Aa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Di(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Da=kn("authIdTokenMaxAge")||300;let Ma=null;var za;!function(e){Bo=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ri("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),za="Browser",si(new Jn("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Di(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:za,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Do(za)},c=new Fo(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),si(new Jn("auth-internal",e=>(e=>new Aa(e))(Wo(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),fi(Oa,La,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(za)),fi(Oa,La,"esm2017");const Fa="@firebase/database",Wa="1.0.8";let Ua="";function Ba(e){Ua=e}class Ha{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ln(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:On(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class qa{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Dn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Va=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ha(t)}}catch(Be){}return new qa},Ga=Va("localStorage"),Ka=Va("sessionStorage"),Qa=new ar("@firebase/database"),Ya=function(){let e=1;return function(){return e++}}(),$a=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,an(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Vn;n.update(t);const r=n.digest();return un.encodeByteArray(r)},Ja=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Ja.apply(null,n):e+="object"===typeof n?Ln(n):n,e+=" "}return e};let Xa=null,Za=!0;const el=function(e,t){an(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Qa.logLevel=nr.VERBOSE,Xa=Qa.log.bind(Qa),t&&Ka.set("logging_enabled",!0)):"function"===typeof e?Xa=e:(Xa=null,Ka.remove("logging_enabled"))},tl=function(){if(!0===Za&&(Za=!1,null===Xa&&!0===Ka.get("logging_enabled")&&el(!0)),Xa){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Ja.apply(null,t);Xa(r)}},nl=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];tl(e,...n)}},rl=function(){const e="FIREBASE INTERNAL ERROR: "+Ja(...arguments);Qa.error(e)},il=function(){const e="FIREBASE FATAL ERROR: ".concat(Ja(...arguments));throw Qa.error(e),new Error(e)},ol=function(){const e="FIREBASE WARNING: "+Ja(...arguments);Qa.warn(e)},sl=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},al="[MIN_NAME]",ll="[MAX_NAME]",cl=function(e,t){if(e===t)return 0;if(e===al||t===ll)return-1;if(t===al||e===ll)return 1;{const n=yl(e),r=yl(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},ul=function(e,t){return e===t?0:e<t?-1:1},dl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ln(t))},hl=function(e){if("object"!==typeof e||null===e)return Ln(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Ln(t[r]),n+=":",n+=hl(e[t[r]]);return n+="}",n},pl=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function fl(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const gl=function(e){an(!sl(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const ml=new RegExp("^-?(0*)\\d{1,10}$"),yl=function(e){if(ml.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},vl=function(e){try{e()}catch(Be){setTimeout(()=>{const t=Be.stack||"";throw ol("Exception was thrown by user callback.",t),Be},Math.floor(0))}},bl=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class xl{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){ol('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class _l{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(tl("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ol(e)}}class wl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}wl.OWNER="owner";const kl="5",Sl=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Cl="ac",Tl="websocket",El="long_polling";class jl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ga.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ga.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Il(e,t,n){let r;if(an("string"===typeof t,"typeof type must == string"),an("object"===typeof n,"typeof params must == object"),t===Tl)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==El)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return fl(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class Pl{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Dn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return gn(this.counters_)}}const Nl={},Rl={};function Ol(e){const t=e.toString();return Nl[t]||(Nl[t]=new Pl),Nl[t]}class Ll{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&vl(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Al="start";class Dl{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nl(e),this.stats_=Ol(t),this.urlFn=e=>(this.appCheckToken&&(e[Cl]=this.appCheckToken),Il(t,El,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ll(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(In()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ml(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Al)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},()=>{this.onClosed_()},this.urlFn);const e={};e[Al]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=kl,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Cl]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Sl.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Dl.forceAllow_=!0}static forceDisallow(){Dl.forceDisallow_=!0}static isAvailable(){return!In()&&(!!Dl.forceAllow_||!Dl.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ln(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=hn(t),r=pl(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(In())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ln(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Ml{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,In())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Ya(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Ml.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(Be){tl("frame writing exception"),Be.stack&&tl(Be.stack),tl(Be)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||tl("No IE domain setting required")}catch(Be){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){In()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{tl("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(Be){}},Math.floor(1))}}let zl=null;"undefined"!==typeof MozWebSocket?zl=MozWebSocket:"undefined"!==typeof WebSocket&&(zl=WebSocket);class Fl{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nl(this.connId),this.stats_=Ol(t),this.connURL=Fl.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=kl,!In()&&"undefined"!==typeof location&&location.hostname&&Sl.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[Cl]=r),i&&(o.p=i),Il(e,Tl,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ga.set("previous_websocket_failure",!0);try{let e;if(In()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(kl,"/").concat(Ua,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/Debit-shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new zl(this.connURL,[],e)}catch(Be){this.log_("Error instantiating WebSocket.");const t=Be.message||Be.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Fl.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==zl&&!Fl.forceDisallow_}static previouslyFailed(){return Ga.isInMemoryStorage||!0===Ga.get("previous_websocket_failure")}markConnectionHealthy(){Ga.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=On(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(an(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Ln(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=pl(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(Be){this.log_("Exception thrown from WebSocket.send():",Be.message||Be.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Fl.responsesRequiredToBeHealthy=2,Fl.healthyTimeout=3e4;class Wl{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Dl,Fl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Fl&&Fl.isAvailable();let n=t&&!Fl.previouslyFailed();if(e.webSocketOnly&&(t||ol("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Fl];else{const e=this.transports_=[];for(const t of Wl.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Wl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wl.globalTransportInitialized_=!1;class Ul{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nl("c:"+this.id+":"),this.transportManager_=new Wl(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=bl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=dl("t",e),n=dl("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=dl("t",e),n=dl("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=dl("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?rl("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rl("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),kl!==n&&ol("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),bl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ga.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Bl{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Hl{constructor(e){this.allowedEvents_=e,this.listeners_={},an(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){an(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class ql extends Hl{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||En()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ql}getInitialEvent(e){return an("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Vl{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Gl(){return new Vl("")}function Kl(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ql(e){return e.pieces_.length-e.pieceNum_}function Yl(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Vl(e.pieces_,t)}function $l(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Jl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Xl(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Vl(t,0)}function Zl(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Vl)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Vl(n,0)}function ec(e){return e.pieceNum_>=e.pieces_.length}function tc(e,t){const n=Kl(e),r=Kl(t);if(null===n)return t;if(n===r)return tc(Yl(e),Yl(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function nc(e,t){const n=Jl(e,0),r=Jl(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=cl(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function rc(e,t){if(Ql(e)!==Ql(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ic(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Ql(e)>Ql(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class oc{constructor(e,t){this.errorPrefix_=t,this.parts_=Jl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Yn(this.parts_[n]);sc(this)}}function sc(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ac(e))}function ac(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class lc extends Hl{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new lc}getInitialEvent(e){return an("visible"===e,"Unknown event type: "+e),[this.visible_]}}const cc=1e3;class uc extends Bl{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=uc.nextPersistentConnectionId_++,this.log_=nl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!In())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lc.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ql.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Ln(i)),an(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Sn,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),an(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),an(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{const o=i.d,s=i.s;uc.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Dn(e,"w")){const n=Mn(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();ol("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=An(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=An(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),an(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ln(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):rl("Unrecognized action received from server: "+Ln(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){an(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=cc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=cc),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+uc.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){an(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?tl("getToken() completed but was canceled"):(tl("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new Ul(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{ol(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(rl){this.log_("Failed to get token: "+rl),o||(this.repoInfo_.nodeAdmin&&ol(rl),a())}}}interrupt(e){tl("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){tl("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zn(this.interruptReasons_)&&(this.reconnectDelay_=cc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>hl(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Vl(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){tl("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){tl("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";In()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ua.replace(/\./g,"-")]=1,En()?e["framework.cordova"]=1:jn()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ql.getInstance().currentlyOnline();return zn(this.interruptReasons_)&&e}}uc.nextPersistentConnectionId_=0,uc.nextConnectionId_=0;class dc{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new dc(e,t)}}class hc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new dc(al,e),r=new dc(al,t);return 0!==this.compare(n,r)}minPost(){return dc.MIN}}let pc;class fc extends hc{static get __EMPTY_NODE(){return pc}static set __EMPTY_NODE(e){pc=e}compare(e,t){return cl(e.name,t.name)}isDefinedOn(e){throw ln("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return dc.MIN}maxPost(){return new dc(ll,pc)}makePost(e,t){return an("string"===typeof e,"KeyIndex indexValue must always be a string."),new dc(e,pc)}toString(){return".key"}}const gc=new fc;class mc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class yc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:yc.RED,this.left=null!=r?r:vc.EMPTY_NODE,this.right=null!=i?i:vc.EMPTY_NODE}copy(e,t,n,r,i){return new yc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return vc.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return vc.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,yc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,yc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}yc.RED=!0,yc.BLACK=!1;class vc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vc.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new vc(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,yc.BLACK,null,null))}remove(e){return new vc(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,yc.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new mc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new mc(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new mc(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new mc(this.root_,null,this.comparator_,!0,e)}}function bc(e,t){return cl(e.name,t.name)}function xc(e,t){return cl(e,t)}let _c;vc.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new yc(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const wc=function(e){return"number"===typeof e?"number:"+gl(e):"string:"+e},kc=function(e){if(e.isLeafNode()){const t=e.val();an("string"===typeof t||"number"===typeof t||"object"===typeof t&&Dn(t,".sv"),"Priority must be a string or number.")}else an(e===_c||e.isEmpty(),"priority of unexpected type.");an(e===_c||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Sc,Cc,Tc;class Ec{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ec.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,an(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),kc(this.priorityNode_)}static set __childrenNodeConstructor(e){Sc=e}static get __childrenNodeConstructor(){return Sc}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ec(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Ec.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ec(e)?this:".priority"===Kl(e)?this.priorityNode_:Ec.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Ec.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Kl(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(an(".priority"!==n||1===Ql(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Ec.__childrenNodeConstructor.EMPTY_NODE.updateChild(Yl(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+wc(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?gl(this.value_):this.value_,this.lazyHash_=$a(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ec.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ec.__childrenNodeConstructor?-1:(an(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Ec.VALUE_TYPE_ORDER.indexOf(t),i=Ec.VALUE_TYPE_ORDER.indexOf(n);return an(r>=0,"Unknown leaf type: "+t),an(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Ec.VALUE_TYPE_ORDER=["object","boolean","number","string"];const jc=new class extends hc{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?cl(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return dc.MIN}maxPost(){return new dc(ll,new Ec("[PRIORITY-POST]",Tc))}makePost(e,t){const n=Cc(e);return new dc(t,new Ec("[PRIORITY-POST]",n))}toString(){return".priority"}},Ic=Math.log(2);class Pc{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Ic,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Nc=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new yc(a,s.node,yc.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new yc(a,s.node,yc.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],d=n?n(u):u;l(new yc(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,yc.BLACK):(a(r,yc.BLACK),a(r,yc.RED))}return o}(new Pc(e.length));return new vc(r||t,o)};let Rc;const Oc={};class Lc{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return an(Oc&&jc,"ChildrenNode.ts has not been loaded"),Rc=Rc||new Lc({".priority":Oc},{".priority":jc}),Rc}get(e){const t=Mn(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof vc?t:null}hasIndex(e){return Dn(this.indexSet_,e.toString())}addIndex(e,t){an(e!==gc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(dc.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?Nc(n,e.getCompare()):Oc;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=o,new Lc(c,l)}addToIndexes(e,t){const n=Fn(this.indexes_,(n,r)=>{const i=Mn(this.indexSet_,r);if(an(i,"Missing index implementation for "+r),n===Oc){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(dc.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),Nc(n,i.getCompare())}return Oc}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new dc(e.name,r))),i.insert(e,e.node)}});return new Lc(n,this.indexSet_)}removeFromIndexes(e,t){const n=Fn(this.indexes_,n=>{if(n===Oc)return n;{const r=t.get(e.name);return r?n.remove(new dc(e.name,r)):n}});return new Lc(n,this.indexSet_)}}let Ac;class Dc{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&kc(this.priorityNode_),this.children_.isEmpty()&&an(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ac||(Ac=new Dc(new vc(xc),null,Lc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ac}updatePriority(e){return this.children_.isEmpty()?this:new Dc(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Ac:t}}getChild(e){const t=Kl(e);return null===t?this:this.getImmediateChild(t).getChild(Yl(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(an(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new dc(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Ac:this.priorityNode_;return new Dc(r,o,i)}}updateChild(e,t){const n=Kl(e);if(null===n)return t;{an(".priority"!==Kl(e)||1===Ql(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Yl(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(jc,(o,s)=>{t[o]=s.val(e),n++,i&&Dc.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+wc(this.getPriority().val())+":"),this.forEachChild(jc,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":$a(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new dc(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new dc(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new dc(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,dc.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,dc.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Mc?-1:0}withIndex(e){if(e===gc||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Dc(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===gc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(jc),n=t.getIterator(jc);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===gc?null:this.indexMap_.get(e.toString())}}Dc.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Mc=new class extends Dc{constructor(){super(new vc(xc),Dc.EMPTY_NODE,Lc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Dc.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(dc,{MIN:{value:new dc(al,Dc.EMPTY_NODE)},MAX:{value:new dc(ll,Mc)}}),fc.__EMPTY_NODE=Dc.EMPTY_NODE,Ec.__childrenNodeConstructor=Dc,_c=Mc,function(e){Tc=e}(Mc);function zc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Dc.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),an(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Ec(e,zc(t))}if(e instanceof Array){let n=Dc.EMPTY_NODE;return fl(e,(t,r)=>{if(Dn(e,t)&&"."!==t.substring(0,1)){const e=zc(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(zc(t))}{const n=[];let r=!1;if(fl(e,(e,t)=>{if("."!==e.substring(0,1)){const i=zc(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new dc(e,i)))}}),0===n.length)return Dc.EMPTY_NODE;const i=Nc(n,bc,e=>e.name,xc);if(r){const e=Nc(n,jc.getCompare());return new Dc(i,zc(t),new Lc({".priority":e},{".priority":jc}))}return new Dc(i,zc(t),Lc.Default)}}!function(e){Cc=e}(zc);class Fc extends hc{constructor(e){super(),this.indexPath_=e,an(!ec(e)&&".priority"!==Kl(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?cl(e.name,t.name):i}makePost(e,t){const n=zc(e),r=Dc.EMPTY_NODE.updateChild(this.indexPath_,n);return new dc(t,r)}maxPost(){const e=Dc.EMPTY_NODE.updateChild(this.indexPath_,Mc);return new dc(ll,e)}toString(){return Jl(this.indexPath_,0).join("/")}}const Wc=new class extends hc{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?cl(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return dc.MIN}maxPost(){return dc.MAX}makePost(e,t){const n=zc(e);return new dc(t,n)}toString(){return".value"}};function Uc(e){return{type:"value",snapshotNode:e}}function Bc(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Hc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function qc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Vc{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){an(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Hc(t,s)):an(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(Bc(t,n)):o.trackChildChange(qc(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(jc,(e,r)=>{t.hasChild(e)||n.trackChildChange(Hc(e,r))}),t.isLeafNode()||t.forEachChild(jc,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(qc(t,r,i))}else n.trackChildChange(Bc(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Dc.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Gc{constructor(e){this.indexedFilter_=new Vc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Gc.getStartPost_(e),this.endPost_=Gc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new dc(t,n))||(n=Dc.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Dc.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Dc.EMPTY_NODE);const i=this;return t.forEachChild(jc,(e,t)=>{i.matches(new dc(e,t))||(r=r.updateImmediateChild(e,Dc.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Kc{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Gc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new dc(t,n))||(n=Dc.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Dc.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Dc.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Dc.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Dc.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;an(s.numChildren()===this.limit_,"");const a=new dc(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,a);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(qc(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Hc(t,e));const n=s.updateImmediateChild(t,Dc.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(Bc(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,a)>=0?(null!=i&&(i.trackChildChange(Hc(l.name,l.node)),i.trackChildChange(Bc(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,Dc.EMPTY_NODE)):e}}class Qc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jc}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return an(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return an(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:al}hasEnd(){return this.endSet_}getIndexEndValue(){return an(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return an(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ll}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return an(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===jc}copy(){const e=new Qc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Yc(e){const t={};if(e.isDefault())return t;let n;if(e.index_===jc?n="$priority":e.index_===Wc?n="$value":e.index_===gc?n="$key":(an(e.index_ instanceof Fc,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ln(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Ln(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Ln(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Ln(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Ln(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function $c(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==jc&&(t.i=e.index_.toString()),t}class Jc extends Bl{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=nl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(an(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Jc.getListenId_(e,n),s={};this.listens_[o]=s;const a=Yc(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),Mn(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=Jc.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Yc(e._queryParams),n=e._path.toString(),r=new Sn;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Bn(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=On(a.responseText)}catch(Be){ol("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&ol("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}class Xc{constructor(){this.rootNode_=Dc.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Zc(){return{value:null,children:new Map}}function eu(e,t,n){if(ec(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Kl(t);e.children.has(r)||e.children.set(r,Zc());eu(e.children.get(r),t=Yl(t),n)}}function tu(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{tu(r,new Vl(t.toString()+"/"+e),n)})}class nu{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&fl(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class ru{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new nu(e);const n=1e4+2e4*Math.random();bl(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;fl(e,(e,r)=>{r>0&&Dn(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),bl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var iu;function ou(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(iu||(iu={}));class su{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=iu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ec(this.path)){if(null!=this.affectedTree.value)return an(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Vl(e));return new su(Gl(),t,this.revert)}}return an(Kl(this.path)===e,"operationForChild called for unrelated child."),new su(Yl(this.path),this.affectedTree,this.revert)}}class au{constructor(e,t){this.source=e,this.path=t,this.type=iu.LISTEN_COMPLETE}operationForChild(e){return ec(this.path)?new au(this.source,Gl()):new au(this.source,Yl(this.path))}}class lu{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=iu.OVERWRITE}operationForChild(e){return ec(this.path)?new lu(this.source,Gl(),this.snap.getImmediateChild(e)):new lu(this.source,Yl(this.path),this.snap)}}class cu{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=iu.MERGE}operationForChild(e){if(ec(this.path)){const t=this.children.subtree(new Vl(e));return t.isEmpty()?null:t.value?new lu(this.source,Gl(),t.value):new cu(this.source,Gl(),t)}return an(Kl(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new cu(this.source,Yl(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class uu{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ec(e))return this.isFullyInitialized()&&!this.filtered_;const t=Kl(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class du{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function hu(e,t,n,r,i,o){const s=r.filter(e=>e.type===n);s.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw ln("Should only compare child_ events.");const r=new dc(t.childName,t.snapshotNode),i=new dc(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),s.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function pu(e,t){return{eventCache:e,serverCache:t}}function fu(e,t,n,r){return pu(new uu(t,n,r),e.serverCache)}function gu(e,t,n,r){return pu(e.eventCache,new uu(t,n,r))}function mu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function yu(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let vu;class bu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(vu||(vu=new vc(ul)),vu);this.value=e,this.children=t}static fromObject(e){let t=new bu(null);return fl(e,(e,n)=>{t=t.set(new Vl(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Gl(),value:this.value};if(ec(e))return null;{const n=Kl(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Yl(e),t);if(null!=i){return{path:Zl(new Vl(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ec(e))return this;{const t=Kl(e),n=this.children.get(t);return null!==n?n.subtree(Yl(e)):new bu(null)}}set(e,t){if(ec(e))return new bu(t,this.children);{const n=Kl(e),r=(this.children.get(n)||new bu(null)).set(Yl(e),t),i=this.children.insert(n,r);return new bu(this.value,i)}}remove(e){if(ec(e))return this.children.isEmpty()?new bu(null):new bu(null,this.children);{const t=Kl(e),n=this.children.get(t);if(n){const r=n.remove(Yl(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new bu(null):new bu(this.value,i)}return this}}get(e){if(ec(e))return this.value;{const t=Kl(e),n=this.children.get(t);return n?n.get(Yl(e)):null}}setTree(e,t){if(ec(e))return t;{const n=Kl(e),r=(this.children.get(n)||new bu(null)).setTree(Yl(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new bu(this.value,i)}}fold(e){return this.fold_(Gl(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(Zl(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Gl(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(ec(e))return null;{const r=Kl(e),i=this.children.get(r);return i?i.findOnPath_(Yl(e),Zl(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Gl(),t)}foreachOnPath_(e,t,n){if(ec(e))return this;{this.value&&n(t,this.value);const r=Kl(e),i=this.children.get(r);return i?i.foreachOnPath_(Yl(e),Zl(t,r),n):new bu(null)}}foreach(e){this.foreach_(Gl(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(Zl(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class xu{constructor(e){this.writeTree_=e}static empty(){return new xu(new bu(null))}}function _u(e,t,n){if(ec(t))return new xu(new bu(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=tc(i,t);return o=o.updateChild(s,n),new xu(e.writeTree_.set(i,o))}{const r=new bu(n),i=e.writeTree_.setTree(t,r);return new xu(i)}}}function wu(e,t,n){let r=e;return fl(n,(e,n)=>{r=_u(r,Zl(t,e),n)}),r}function ku(e,t){if(ec(t))return xu.empty();{const n=e.writeTree_.setTree(t,new bu(null));return new xu(n)}}function Su(e,t){return null!=Cu(e,t)}function Cu(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(tc(n.path,t)):null}function Tu(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(jc,(e,n)=>{t.push(new dc(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new dc(e,n.value))}),t}function Eu(e,t){if(ec(t))return e;{const n=Cu(e,t);return new xu(null!=n?new bu(n):e.writeTree_.subtree(t))}}function ju(e){return e.writeTree_.isEmpty()}function Iu(e,t){return Pu(Gl(),e.writeTree_,t)}function Pu(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?(an(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Pu(Zl(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Zl(e,".priority"),r)),n}}function Nu(e,t){return qu(t,e)}function Ru(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);an(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&Ou(t,r.path)?i=!1:ic(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=Au(e.allWrites,Lu,Gl()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=ku(e.visibleWrites,r.path);else{fl(r.children,t=>{e.visibleWrites=ku(e.visibleWrites,Zl(r.path,t))})}return!0}return!1}function Ou(e,t){if(e.snap)return ic(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&ic(Zl(e.path,n),t))return!0;return!1}function Lu(e){return e.visible}function Au(e,t,n){let r=xu.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)ic(n,e)?(t=tc(n,e),r=_u(r,t,o.snap)):ic(e,n)&&(t=tc(e,n),r=_u(r,Gl(),o.snap.getChild(t)));else{if(!o.children)throw ln("WriteRecord should have .snap or .children");if(ic(n,e))t=tc(n,e),r=wu(r,t,o.children);else if(ic(e,n))if(t=tc(e,n),ec(t))r=wu(r,Gl(),o.children);else{const e=Mn(o.children,Kl(t));if(e){const n=e.getChild(Yl(t));r=_u(r,Gl(),n)}}}}}return r}function Du(e,t,n,r,i){if(r||i){const o=Eu(e.visibleWrites,t);if(!i&&ju(o))return n;if(i||null!=n||Su(o,Gl())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ic(e.path,t)||ic(t,e.path))};return Iu(Au(e.allWrites,o,t),n||Dc.EMPTY_NODE)}return null}{const r=Cu(e.visibleWrites,t);if(null!=r)return r;{const r=Eu(e.visibleWrites,t);if(ju(r))return n;if(null!=n||Su(r,Gl())){return Iu(r,n||Dc.EMPTY_NODE)}return null}}}function Mu(e,t,n,r){return Du(e.writeTree,e.treePath,t,n,r)}function zu(e,t){return function(e,t,n){let r=Dc.EMPTY_NODE;const i=Cu(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(jc,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=Eu(e.visibleWrites,t);return n.forEachChild(jc,(e,t)=>{const n=Iu(Eu(i,new Vl(e)),t);r=r.updateImmediateChild(e,n)}),Tu(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return Tu(Eu(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function Fu(e,t,n,r){return function(e,t,n,r,i){an(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Zl(t,n);if(Su(e.visibleWrites,o))return null;{const t=Eu(e.visibleWrites,o);return ju(t)?i.getChild(n):Iu(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Wu(e,t){return function(e,t){return Cu(e.visibleWrites,t)}(e.writeTree,Zl(e.treePath,t))}function Uu(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=Eu(e.visibleWrites,t),c=Cu(l,Gl());if(null!=c)a=c;else{if(null==n)return[];a=Iu(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function Bu(e,t,n){return function(e,t,n,r){const i=Zl(t,n),o=Cu(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return Iu(Eu(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Hu(e,t){return qu(Zl(e.treePath,t),e.writeTree)}function qu(e,t){return{treePath:e,writeTree:t}}class Vu{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;an("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),an(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,qc(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Hc(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Bc(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw ln("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,qc(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Gu=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Ku{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new uu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bu(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:yu(this.viewCache_),i=Uu(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Qu(e,t,n,r,i){const o=new Vu;let s,a;if(n.type===iu.OVERWRITE){const l=n;l.source.fromUser?s=Ju(e,t,l.path,l.snap,r,i,o):(an(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!ec(l.path),s=$u(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===iu.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach((r,l)=>{const c=Zl(n,r);Xu(t,Kl(c))&&(a=Ju(e,a,c,l,i,o,s))}),r.foreach((r,l)=>{const c=Zl(n,r);Xu(t,Kl(c))||(a=Ju(e,a,c,l,i,o,s))}),a}(e,t,l.path,l.children,r,i,o):(an(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=ed(e,t,l.path,l.children,r,i,a,o))}else if(n.type===iu.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=Wu(r,n))return t;{const a=new Ku(r,t,i),l=t.eventCache.getNode();let c;if(ec(n)||".priority"===Kl(n)){let n;if(t.serverCache.isFullyInitialized())n=Mu(r,yu(t));else{const e=t.serverCache.getNode();an(e instanceof Dc,"serverChildren would be complete if leaf node"),n=zu(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=Kl(n);let u=Bu(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,Yl(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Dc.EMPTY_NODE,Yl(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Mu(r,yu(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=Wu(r,Gl()),fu(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=Wu(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(ec(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return $u(e,t,n,l.getNode().getChild(n),i,o,a,s);if(ec(n)){let r=new bu(null);return l.getNode().forEachChild(gc,(e,t)=>{r=r.set(new Vl(e),t)}),ed(e,t,n,r,i,o,a,s)}return t}{let c=new bu(null);return r.foreach((e,t)=>{const r=Zl(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),ed(e,t,n,c,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==iu.LISTEN_COMPLETE)throw ln("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=gu(t,o.getNode(),o.isFullyInitialized()||ec(n),o.isFiltered());return Yu(e,s,n,r,Gu,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=mu(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Uc(mu(t)))}}(t,s,l),{viewCache:s,changes:l}}function Yu(e,t,n,r,i,o){const s=t.eventCache;if(null!=Wu(r,n))return t;{let a,l;if(ec(n))if(an(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=yu(t),i=zu(r,n instanceof Dc?n:Dc.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=Mu(r,yu(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=Kl(n);if(".priority"===c){an(1===Ql(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=Fu(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=Yl(n);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Fu(r,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else d=Bu(r,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,i,o):s.getNode()}}return fu(t,a,s.isFullyInitialized()||ec(n),e.filter.filtersNodes())}}function $u(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(ec(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=Kl(n);if(!l.isCompleteForPath(n)&&Ql(n)>1)return t;const i=Yl(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,Gu,null)}const d=gu(t,c,l.isFullyInitialized()||ec(n),u.filtersNodes());return Yu(e,d,n,i,new Ku(i,d,o),a)}function Ju(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new Ku(i,t,o);if(ec(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=fu(t,c,!0,e.filter.filtersNodes());else{const i=Kl(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=fu(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=Yl(n),c=a.getNode().getImmediateChild(i);let d;if(ec(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===$l(o)&&e.getChild(Xl(o)).isEmpty()?e:e.updateChild(o,r):Dc.EMPTY_NODE}if(c.equals(d))l=t;else{l=fu(t,e.filter.updateChild(a.getNode(),i,d,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Xu(e,t){return e.eventCache.isCompleteForChild(t)}function Zu(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function ed(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=ec(n)?r:new bu(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=Zu(0,t.serverCache.getNode().getImmediateChild(n),r);c=$u(e,c,new Vl(n),l,i,o,s,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Zu(0,t.serverCache.getNode().getImmediateChild(n),r);c=$u(e,c,new Vl(n),l,i,o,s,a)}}),c}class td{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Vc(n.getIndex()),i=(o=n).loadsAllData()?new Vc(o.getIndex()):o.hasLimit()?new Kc(o):new Gc(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(Dc.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(Dc.EMPTY_NODE,a.getNode(),null),u=new uu(l,s.isFullyInitialized(),r.filtersNodes()),d=new uu(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=pu(d,u),this.eventGenerator_=new du(this.query_)}get query(){return this.query_}}function nd(e,t){const n=yu(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ec(t)&&!n.getImmediateChild(Kl(t)).isEmpty())?n.getChild(t):null}function rd(e){return 0===e.eventRegistrations_.length}function id(e,t,n){const r=[];if(n){an(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function od(e,t,n,r){t.type===iu.MERGE&&null!==t.source.queryId&&(an(yu(e.viewCache_),"We should always have a full cache before handling merges"),an(mu(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=Qu(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,an(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),an(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),an(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,sd(e,o.changes,o.viewCache.eventCache.getNode(),null)}function sd(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),hu(e,i,"child_removed",t,r,n),hu(e,i,"child_added",t,r,n),hu(e,i,"child_moved",o,r,n),hu(e,i,"child_changed",t,r,n),hu(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let ad,ld;class cd{constructor(){this.views=new Map}}function ud(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return an(null!=o,"SyncTree gave us an op for an invalid query."),od(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(od(o,t,n,r));return i}}function dd(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=Mu(n,i?r:null),o=!1;e?o=!0:r instanceof Dc?(e=zu(n,r),o=!1):(e=Dc.EMPTY_NODE,o=!1);const s=pu(new uu(e,o,!1),new uu(r,i,!1));return new td(t,s)}return s}function hd(e,t,n,r,i,o){const s=dd(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(jc,(e,t)=>{r.push(Bc(e,t))});return n.isFullyInitialized()&&r.push(Uc(n.getNode())),sd(e,r,n.getNode(),t)}(s,n)}function pd(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=vd(e);if("default"===i)for(const[l,c]of e.views.entries())s=s.concat(id(c,n,r)),rd(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(i);t&&(s=s.concat(id(t,n,r)),rd(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!vd(e)&&o.push(new(an(ad,"Reference.ts has not been loaded"),ad)(t._repo,t._path)),{removed:o,events:s}}function fd(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function gd(e,t){let n=null;for(const r of e.views.values())n=n||nd(r,t);return n}function md(e,t){if(t._queryParams.loadsAllData())return bd(e);{const n=t._queryIdentifier;return e.views.get(n)}}function yd(e,t){return null!=md(e,t)}function vd(e){return null!=bd(e)}function bd(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let xd=1;class _d{constructor(e){this.listenProvider_=e,this.syncPointTree_=new bu(null),this.pendingWriteTree_={visibleWrites:xu.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function wd(e,t,n,r,i){return function(e,t,n,r,i){an(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=_u(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Nd(e,new lu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function kd(e,t,n,r){!function(e,t,n,r){an(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=wu(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=bu.fromObject(n);return Nd(e,new cu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Sd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Ru(e.pendingWriteTree_,t)){let t=new bu(null);return null!=r.snap?t=t.set(Gl(),!0):fl(r.children,e=>{t=t.set(new Vl(e),!0)}),Nd(e,new su(r.path,t,n))}return[]}function Cd(e,t,n){return Nd(e,new lu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Td(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||yd(s,t))){const l=pd(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(o,(e,t)=>vd(t));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&vd(t)){return[bd(t)]}{let e=[];return t&&(e=fd(t)),fl(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=Ld(e,r);e.listenProvider_.startListening(Wd(i),Ad(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Wd(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(Dd(t));e.listenProvider_.stopListening(Wd(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Dd(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function Ed(e,t,n,r){const i=Md(e,r);if(null!=i){const r=zd(i),o=r.path,s=r.queryId,a=tc(o,t);return Fd(e,o,new lu(ou(s),a,n))}return[]}function jd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(e,t)=>{const n=tc(e,i);o=o||gd(t,n),s=s||vd(t)});let a,l=e.syncPointTree_.get(i);if(l?(s=s||vd(l),o=o||gd(l,Gl())):(l=new cd,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o)a=!0;else{a=!1,o=Dc.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild((e,t)=>{const n=gd(t,Gl());n&&(o=o.updateImmediateChild(e,n))})}const c=yd(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Dd(t);an(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=xd++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=hd(l,t,n,Nu(e.pendingWriteTree_,i),o,a);if(!c&&!s&&!r){const n=md(l,t);u=u.concat(function(e,t,n){const r=t._path,i=Ad(e,t),o=Ld(e,n),s=e.listenProvider_.startListening(Wd(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)an(!vd(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!ec(e)&&t&&vd(t))return[bd(t).query];{let e=[];return t&&(e=e.concat(fd(t).map(e=>e.query))),fl(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Wd(r),Ad(e,r))}}return s}(e,t,n))}return u}function Id(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=gd(n,tc(e,t));if(r)return r});return Du(r,t,i,n,!0)}function Pd(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const i=tc(e,n);r=r||gd(t,i)});let i=e.syncPointTree_.get(n);i?r=r||gd(i,Gl()):(i=new cd,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new uu(r,!0,!1):null;return function(e){return mu(e.viewCache_)}(dd(i,t,Nu(e.pendingWriteTree_,t._path),o?s.getNode():Dc.EMPTY_NODE,o))}function Nd(e,t){return Rd(t,e.syncPointTree_,null,Nu(e.pendingWriteTree_,Gl()))}function Rd(e,t,n,r){if(ec(e.path))return Od(e,t,n,r);{const i=t.get(Gl());null==n&&null!=i&&(n=gd(i,Gl()));let o=[];const s=Kl(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=Hu(r,s);o=o.concat(Rd(a,l,e,t))}return i&&(o=o.concat(ud(i,e,r,n))),o}}function Od(e,t,n,r){const i=t.get(Gl());null==n&&null!=i&&(n=gd(i,Gl()));let o=[];return t.children.inorderTraversal((t,i)=>{const s=n?n.getImmediateChild(t):null,a=Hu(r,t),l=e.operationForChild(t);l&&(o=o.concat(Od(l,i,s,a)))}),i&&(o=o.concat(ud(i,e,r,n))),o}function Ld(e,t){const n=t.query,r=Ad(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Dc.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Md(e,n);if(r){const n=zd(r),i=n.path,o=n.queryId,s=tc(i,t);return Fd(e,i,new au(ou(o),s))}return[]}(e,n._path,r):function(e,t){return Nd(e,new au({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Td(e,n,null,r)}}}}function Ad(e,t){const n=Dd(t);return e.queryToTagMap.get(n)}function Dd(e){return e._path.toString()+"$"+e._queryIdentifier}function Md(e,t){return e.tagToQueryMap.get(t)}function zd(e){const t=e.indexOf("$");return an(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Vl(e.substr(0,t))}}function Fd(e,t,n){const r=e.syncPointTree_.get(t);an(r,"Missing sync point for query tag that we're tracking");return ud(r,n,Nu(e.pendingWriteTree_,t),null)}function Wd(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(an(ld,"Reference.ts has not been loaded"),ld)(e._repo,e._path):e}class Ud{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ud(t)}node(){return this.node_}}class Bd{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Zl(this.path_,e);return new Bd(this.syncTree_,t)}node(){return Id(this.syncTree_,this.path_)}}const Hd=function(e,t,n){return e&&"object"===typeof e?(an(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?qd(e[".sv"],t,n):"object"===typeof e[".sv"]?Vd(e[".sv"],t):void an(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},qd=function(e,t,n){if("timestamp"===e)return n.timestamp;an(!1,"Unexpected server value: "+e)},Vd=function(e,t,n){e.hasOwnProperty("increment")||an(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&an(!1,"Unexpected increment value: "+r);const i=t.node();if(an(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},Gd=function(e,t,n,r){return Qd(t,new Bd(n,e),r)},Kd=function(e,t,n){return Qd(e,new Ud(t),n)};function Qd(e,t,n){const r=e.getPriority().val(),i=Hd(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=Hd(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Ec(o,zc(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Ec(i))),r.forEachChild(jc,(e,r)=>{const i=Qd(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))}),o}}class Yd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function $d(e,t){let n=t instanceof Vl?t:new Vl(t),r=e,i=Kl(n);for(;null!==i;){const e=Mn(r.node.children,i)||{children:{},childCount:0};r=new Yd(i,r,e),n=Yl(n),i=Kl(n)}return r}function Jd(e){return e.node.value}function Xd(e,t){e.node.value=t,rh(e)}function Zd(e){return e.node.childCount>0}function eh(e,t){fl(e.node.children,(n,r)=>{t(new Yd(n,e,r))})}function th(e,t,n,r){n&&!r&&t(e),eh(e,e=>{th(e,t,!0,r)}),n&&r&&t(e)}function nh(e){return new Vl(null===e.parent?e.name:nh(e.parent)+"/"+e.name)}function rh(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Jd(e)&&!Zd(e)}(n),i=Dn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,rh(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,rh(e))}(e.parent,e.name,e)}const ih=/[\[\].#$\/\u0000-\u001F\u007F]/,oh=/[\[\].#$\u0000-\u001F\u007F]/,sh=10485760,ah=function(e){return"string"===typeof e&&0!==e.length&&!ih.test(e)},lh=function(e){return"string"===typeof e&&0!==e.length&&!oh.test(e)},ch=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!sl(e)||e&&"object"===typeof e&&Dn(e,".sv")},uh=function(e,t,n,r){r&&void 0===t||dh(Qn(e,"value"),t,n)},dh=function(e,t,n){const r=n instanceof Vl?new oc(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+ac(r));if("function"===typeof t)throw new Error(e+"contains a function "+ac(r)+" with contents = "+t.toString());if(sl(t))throw new Error(e+"contains "+t.toString()+" "+ac(r));if("string"===typeof t&&t.length>sh/3&&Yn(t)>sh)throw new Error(e+"contains a string greater than "+sh+" utf8 bytes "+ac(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(fl(t,(t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!ah(t)))throw new Error(e+" contains an invalid key ("+t+") "+ac(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Yn(t),sc(e)}(r,t),dh(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=Yn(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+ac(r)+" in addition to actual children.")}},hh=function(e,t,n,r){if(r&&void 0===t)return;const i=Qn(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];fl(t,(e,t)=>{const r=new Vl(e);if(dh(i,t,Zl(n,r)),".priority"===$l(r)&&!ch(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=Jl(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!ah(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(nc);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&ic(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},ph=function(e,t,n,r){if((!r||void 0!==n)&&!lh(n))throw new Error(Qn(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},fh=function(e,t){if(".info"===Kl(t))throw new Error(e+" failed = Can't modify data under /.info/")},gh=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!ah(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),lh(e)}(n))throw new Error(Qn(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class mh{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yh(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||rc(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function vh(e,t,n){yh(e,n),xh(e,e=>rc(e,t))}function bh(e,t,n){yh(e,n),xh(e,e=>ic(e,t)||ic(t,e))}function xh(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(_h(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function _h(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Xa&&tl("event: "+n.toString()),vl(r)}}}const wh="repo_interrupt";class kh{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mh,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zc(),this.transactionQueueTree_=new Yd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Sh(e,t,n){if(e.stats_=Ol(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Jc(e.repoInfo_,(t,n,r,i)=>{Eh(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>jh(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ln(n)}catch(Be){throw new Error("Invalid authOverride provided: "+Be)}}e.persistentConnection_=new uc(e.repoInfo_,t,(t,n,r,i)=>{Eh(e,t,n,r,i)},t=>{jh(e,t)},t=>{!function(e,t){fl(t,(t,n)=>{Ih(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return Rl[n]||(Rl[n]=t()),Rl[n]}(e.repoInfo_,()=>new ru(e.stats_,e.server_)),e.infoData_=new Xc,e.infoSyncTree_=new _d({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=Cd(e.infoSyncTree_,t._path,s),setTimeout(()=>{i("ok")},0)),o},stopListening:()=>{}}),Ih(e,"connected",!1),e.serverSyncTree_=new _d({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const o=i(n,r);bh(e.eventQueue_,t._path,o)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Ch(e){const t=e.infoData_.getNode(new Vl(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Th(e){return(t=(t={timestamp:Ch(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Eh(e,t,n,r,i){e.dataUpdateCount++;const o=new Vl(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=Fn(n,e=>zc(e));s=function(e,t,n,r){const i=Md(e,r);if(i){const r=zd(i),o=r.path,s=r.queryId,a=tc(o,t),l=bu.fromObject(n);return Fd(e,o,new cu(ou(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=zc(n);s=Ed(e.serverSyncTree_,o,t,i)}else if(r){const t=Fn(n,e=>zc(e));s=function(e,t,n){const r=bu.fromObject(n);return Nd(e,new cu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=zc(n);s=Cd(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=zh(e,o)),bh(e.eventQueue_,a,s)}function jh(e,t){Ih(e,"connected",t),!1===t&&function(e){Lh(e,"onDisconnectEvents");const t=Th(e),n=Zc();tu(e.onDisconnect_,Gl(),(r,i)=>{const o=Gd(r,i,e.serverSyncTree_,t);eu(n,r,o)});let r=[];tu(n,Gl(),(t,n)=>{r=r.concat(Cd(e.serverSyncTree_,t,n));const i=Hh(e,t);zh(e,i)}),e.onDisconnect_=Zc(),bh(e.eventQueue_,Gl(),r)}(e)}function Ih(e,t,n){const r=new Vl("/.info/"+t),i=zc(n);e.infoData_.updateSnapshot(r,i);const o=Cd(e.infoSyncTree_,r,i);bh(e.eventQueue_,r,o)}function Ph(e){return e.nextWriteId_++}function Nh(e,t,n,r,i){Lh(e,"set",{path:t.toString(),value:n,priority:r});const o=Th(e),s=zc(n,r),a=Id(e.serverSyncTree_,t),l=Kd(s,a,o),c=Ph(e),u=wd(e.serverSyncTree_,t,l,c,!0);yh(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(n,r)=>{const o="ok"===n;o||ol("set at "+t+" failed: "+n);const s=Sd(e.serverSyncTree_,c,!o);bh(e.eventQueue_,t,s),Ah(e,i,n,r)});const d=Hh(e,t);zh(e,d),bh(e.eventQueue_,d,[])}function Rh(e,t,n){let r;r=".info"===Kl(t._path)?Td(e.infoSyncTree_,t,n):Td(e.serverSyncTree_,t,n),vh(e.eventQueue_,t._path,r)}function Oh(e){e.persistentConnection_&&e.persistentConnection_.interrupt(wh)}function Lh(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];tl(t,...r)}function Ah(e,t,n,r){t&&vl(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}})}function Dh(e,t,n){return Id(e.serverSyncTree_,t,n)||Dc.EMPTY_NODE}function Mh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Bh(e,t),Jd(t)){const n=Wh(e,t);an(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=Dh(e,t,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const e=n[c];an(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=tc(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,r=>{Lh(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Sd(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();Bh(e,$d(e.transactionQueueTree_,t)),Mh(e,e.transactionQueueTree_),bh(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)vl(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{ol("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}zh(e,t)}},s)}(e,nh(t),n)}else Zd(t)&&eh(t,t=>{Mh(e,t)})}function zh(e,t){const n=Fh(e,t),r=nh(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter(e=>0===e.status),s=o.map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){const o=t[a],l=tc(n,o.path);let c,u=!1;if(an(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)u=!0,c=o.abortReason,i=i.concat(Sd(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=25)u=!0,c="maxretry",i=i.concat(Sd(e.serverSyncTree_,o.currentWriteId,!0));else{const n=Dh(e,o.path,s);o.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){dh("transaction failed: Data returned ",r,o.path);let t=zc(r);"object"===typeof r&&null!=r&&Dn(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=Th(e),c=Kd(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=Ph(e),s.splice(s.indexOf(a),1),i=i.concat(wd(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(Sd(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",i=i.concat(Sd(e.serverSyncTree_,o.currentWriteId,!0))}bh(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===c?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(c),!1,null))))}Bh(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)vl(r[a]);Mh(e,e.transactionQueueTree_)}(e,Wh(e,n),r),r}function Fh(e,t){let n,r=e.transactionQueueTree_;for(n=Kl(t);null!==n&&void 0===Jd(r);)r=$d(r,n),n=Kl(t=Yl(t));return r}function Wh(e,t){const n=[];return Uh(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Uh(e,t,n){const r=Jd(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);eh(t,t=>{Uh(e,t,n)})}function Bh(e,t){const n=Jd(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Xd(t,n.length>0?n:void 0)}eh(t,t=>{Bh(e,t)})}function Hh(e,t){const n=nh(Fh(e,t)),r=$d(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{qh(e,t)}),qh(e,r),th(r,t=>{qh(e,t)}),n}function qh(e,t){const n=Jd(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(an(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(an(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Sd(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Xd(t,void 0):n.length=o+1,bh(e.eventQueue_,nh(t),i);for(let e=0;e<r.length;e++)vl(r[e])}}const Vh=function(e,t){const n=Gh(e),r=n.namespace;"firebase.com"===n.domain&&il(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||il("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ol("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new jl(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Vl(n.pathString)}},Gh=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(Be){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ol("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Kh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Qh=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=Kh.charAt(n%64),n=Math.floor(n/64);an(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=Kh.charAt(t[i]);return an(20===s.length,"nextPushId: Length should be 20."),s}}();class Yh{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ln(this.snapshot.exportVal())}}class $h{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Jh{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return an(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Xh{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return ec(this._path)?null:$l(this._path)}get ref(){return new Zh(this._repo,this._path)}get _queryIdentifier(){const e=$c(this._queryParams),t=hl(e);return"{}"===t?"default":t}get _queryObject(){return $c(this._queryParams)}isEqual(e){if(!((e=$n(e))instanceof Xh))return!1;const t=this._repo===e._repo,n=rc(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Zh extends Xh{constructor(e,t){super(e,t,new Qc,!1)}get parent(){const e=Xl(this._path);return null===e?null:new Zh(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class ep{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Vl(e),n=np(this.ref,e);return new ep(this._node.getChild(t),n,jc)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new ep(n,np(this.ref,t),jc)))}hasChild(e){const t=new Vl(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function tp(e,t){return(e=$n(e))._checkNotDeleted("ref"),void 0!==t?np(e._root,t):e._root}function np(e,t){var n,r,i,o;return null===Kl((e=$n(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ph(n,r,i,o)):ph("child","path",t,!1),new Zh(e._repo,Zl(e._path,t))}function rp(e,t){e=$n(e),fh("push",e._path),uh("push",t,e._path,!0);const n=Ch(e._repo),r=Qh(n),i=np(e,r),o=np(e,r);let s;return s=null!=t?op(o,t).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function ip(e){return fh("remove",e._path),op(e,null)}function op(e,t){e=$n(e),fh("set",e._path),uh("set",t,e._path,!1);const n=new Sn;return Nh(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function sp(e,t){hh("update",t,e._path,!1);const n=new Sn;return function(e,t,n,r){Lh(e,"update",{path:t.toString(),value:n});let i=!0;const o=Th(e),s={};if(fl(n,(n,r)=>{i=!1,s[n]=Gd(Zl(t,n),zc(r),e.serverSyncTree_,o)}),i)tl("update() called with empty data.  Don't do anything."),Ah(0,r,"ok",void 0);else{const i=Ph(e),o=kd(e.serverSyncTree_,t,s,i);yh(e.eventQueue_,o),e.server_.merge(t.toString(),n,(n,o)=>{const s="ok"===n;s||ol("update at "+t+" failed: "+n);const a=Sd(e.serverSyncTree_,i,!s),l=a.length>0?zh(e,t):t;bh(e.eventQueue_,l,a),Ah(0,r,n,o)}),fl(n,n=>{const r=Hh(e,Zl(t,n));zh(e,r)}),bh(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function ap(e){e=$n(e);const t=new Jh(()=>{}),n=new lp(t);return function(e,t,n){const r=Pd(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(r=>{const i=zc(r).withIndex(t._queryParams.getIndex());let o;if(jd(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=Cd(e.serverSyncTree_,t._path,i);else{const n=Ad(e.serverSyncTree_,t);o=Ed(e.serverSyncTree_,t._path,i,n)}return bh(e.eventQueue_,t._path,o),Td(e.serverSyncTree_,t,n,null,!0),i},n=>(Lh(e,"get for query "+Ln(t)+" failed: "+n),Promise.reject(new Error(n))))}(e._repo,e,n).then(t=>new ep(t,new Zh(e._repo,e._path),e._queryParams.getIndex()))}class lp{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Yh("value",this,new ep(e.snapshotNode,new Zh(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new $h(this,e,t):null}matches(e){return e instanceof lp&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class cp{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new $h(this,e,t):null}createEvent(e,t){an(null!=e.childName,"Child events should have a childName.");const n=np(new Zh(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Yh(e.type,this,new ep(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof cp&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function up(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{Rh(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new Jh(n,o||void 0),a="value"===t?new lp(s):new cp(t,s);return function(e,t,n){let r;r=".info"===Kl(t._path)?jd(e.infoSyncTree_,t,n):jd(e.serverSyncTree_,t,n),vh(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>Rh(e._repo,e,a)}function dp(e,t,n,r){return up(e,"value",t,n,r)}!function(e){an(!ad,"__referenceConstructor has already been defined"),ad=e}(Zh),function(e){an(!ld,"__referenceConstructor has already been defined"),ld=e}(Zh);const hp={};let pp=!1;function fp(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||il("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),tl("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=Vh(o,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/Debit-shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,o="http://".concat(a,"?ns=").concat(c.namespace),l=Vh(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new wl(wl.OWNER):new _l(e.name,e.options,t);gh("Invalid Firebase Database URL",l),ec(l.path)||il("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=hp[t.name];i||(i={},hp[t.name]=i);let o=i[e.toURLString()];o&&il("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new kh(e,pp,n,r),i[e.toURLString()]=o,o}(c,e,u,new xl(e.name,n));return new gp(d,e)}class gp{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Sh(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zh(this._repo,Gl())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=hp[t];n&&n[e.key]===e||il("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Oh(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&il("Cannot call "+e+" on a deleted database.")}}uc.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},uc.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Ba(di),si(new Jn("database",(e,t)=>{let{instanceIdentifier:n}=t;return fp(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),fi(Fa,Wa,e),fi(Fa,Wa,"esm2017")}();const mp="firebasestorage.googleapis.com",yp="storageBucket";class vp extends Pn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(_p(e),"Firebase Storage: ".concat(t," (").concat(_p(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vp.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _p(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var bp,xp;function _p(e){return"storage/"+e}function wp(){return new vp(bp.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function kp(){return new vp(bp.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Sp(){return new vp(bp.CANCELED,"User canceled the upload/download.")}function Cp(e){return new vp(bp.INVALID_ARGUMENT,e)}function Tp(){return new vp(bp.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(bp||(bp={}));class Ep{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Ep.makeFromUrl(e,t)}catch(Be){return new Ep(e,"")}if(""===n.path)return n;throw r=e,new vp(bp.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===mp?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Ep(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new vp(bp.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class jp{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Ip(e,t,n,r){if(r<t)throw Cp("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Cp("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Pp(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Np(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(xp||(xp={}));class Rp{constructor(e,t,n,r,i,o,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Op(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===xp.NO_ERROR,i=n.getStatus();if(!t||Np(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===xp.ABORT;return void e(!1,new Op(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new Op(o,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(Be){r(Be)}else if(null!==i){const e=wp();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Tp():Sp())}else{r(kp())}};this.canceled_?t(0,new Op(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(p,l())},t)}function h(){o&&clearTimeout(o)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let f=!1;function g(e){f||(f=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,g(!0)},n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Op{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Lp(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class Ap{constructor(e,t){this._service=e,this._location=t instanceof Ep?t:Ep.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ap(e,t)}get root(){const e=new Ep(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Lp(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Ep(this._location.bucket,e);return new Ap(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new vp(bp.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Dp(e,t){const n=null===t||void 0===t?void 0:t[yp];return null==n?null:Ep.makeFromBucketSpec(n,e)}class Mp{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=mp,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ep.makeFromBucketSpec(r,this._host):Dp(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Ep.makeFromBucketSpec(this._url,e):this._bucket=Dp(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ip("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ip("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ap(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new jp(Tp());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=Pp(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Rp(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const zp="@firebase/storage",Fp="0.13.2",Wp="storage";function Up(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Mp(r,i,o,n,di)}si(new Jn(Wp,Up,"PUBLIC").setMultipleInstances(!0)),fi(zp,Fp,""),fi(zp,Fp,"esm2017");const Bp=hi({apiKey:"AIzaSyALChv_yWRFyLjWmHA5RWEjRpyBcb0fNzQ",authDomain:"school-pva.firebaseapp.com",databaseURL:"https://school-pva-default-rtdb.firebaseio.com",projectId:"school-pva",storageBucket:"school-pva.firebasestorage.app",messagingSenderId:"555907156467",appId:"1:555907156467:web:51e6c3ddddcb1c2477ea86"}),Hp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi();const t=ai(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=ai(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Wn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ni(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ra,persistence:[qs,Es,Is]}),r=kn("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Da)return;const r=null===t||void 0===t?void 0:t.token;Ma!==r&&(Ma=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){$n(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){$n(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=xn("auth");return o&&Qo(n,"http://".concat(o)),n}(Bp),qp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi(),t=arguments.length>1?arguments[1]:void 0;const n=ai(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=_n("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=$n(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&il("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&il('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new wl(wl.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:Cn(r.mockUserToken,e.app.options.projectId);o=new wl(t)}!function(e,t,n,r){e.repoInfo_=new jl("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...e)}return n}(Bp);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi(),t=arguments.length>1?arguments[1]:void 0;e=$n(e);const n=ai(e,Wp).getImmediate({identifier:t}),r=_n("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Cn(i,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(Bp);var Vp=n(579);const Gp=(0,i.createContext)();function Kp(){return(0,i.useContext)(Gp)}function Qp(e){let{children:t}=e;const[n,r]=(0,i.useState)(null),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(!0);(0,i.useEffect)(()=>{const e=function(e,t,n,r){return $n(e).onAuthStateChanged(t,n,r)}(Hp,async e=>{if(r(e),e){const t=await ap(tp(qp,"users/".concat(e.uid)));s(t.val())}else s(null);l(!1)});return e},[]);const c={currentUser:n,userProfile:o,register:async function(e,t,n){const r=await async function(e,t,n){if(li(e.app))return Promise.reject(Li(e));const r=Wo(e),i=Ko(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ps),o=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ws(e),t}),s=await fs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(Hp,e,t);return await ks(r.user,{displayName:n}),await op(tp(qp,"users/".concat(r.user.uid)),{name:n,email:e,role:"user",createdAt:Date.now()}),r},login:async function(e,t){return function(e,t,n){return li(e.app)?Promise.reject(Li(e)):_s($n(e),ss.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ws(e),t})}(Hp,e,t)},logout:async function(){return function(e){return $n(e).signOut()}(Hp)},loading:a};return(0,Vp.jsx)(Gp.Provider,{value:c,children:!a&&t})}const Yp=(0,i.createContext)();function $p(){return(0,i.useContext)(Yp)}function Jp(e){let{children:t}=e;const{currentUser:n}=Kp(),[r,o]=(0,i.useState)([]),[s,a]=(0,i.useState)([]);async function l(e){n&&await ip(tp(qp,"carts/".concat(n.uid,"/").concat(e)))}(0,i.useEffect)(()=>{if(!n)return o([]),void a([]);const e=tp(qp,"carts/".concat(n.uid)),t=tp(qp,"wishlists/".concat(n.uid)),r=dp(e,e=>{const t=e.val();o(t?Object.values(t):[])}),i=dp(t,e=>{const t=e.val();a(t?Object.values(t):[])});return()=>{r(),i()}},[n]);const c=r.reduce((e,t)=>e+t.price*t.qty,0),u=r.reduce((e,t)=>e+t.qty,0);return(0,Vp.jsx)(Yp.Provider,{value:{cart:r,wishlist:s,addToCart:async function(e){if(!n)return!1;const t=r.find(t=>t.id===e.id);return t?await op(tp(qp,"carts/".concat(n.uid,"/").concat(e.id)),Ue(Ue({},t),{},{qty:t.qty+1})):await op(tp(qp,"carts/".concat(n.uid,"/").concat(e.id)),Ue(Ue({},e),{},{qty:1})),!0},removeFromCart:l,updateQty:async function(e,t){if(!n)return;if(t<=0)return void l(e);const i=r.find(t=>t.id===e);i&&await op(tp(qp,"carts/".concat(n.uid,"/").concat(e)),Ue(Ue({},i),{},{qty:t}))},clearCart:async function(){n&&await ip(tp(qp,"carts/".concat(n.uid)))},toggleWishlist:async function(e){if(!n)return!1;const t=s.find(t=>t.id===e.id);return t?await ip(tp(qp,"wishlists/".concat(n.uid,"/").concat(e.id))):await op(tp(qp,"wishlists/".concat(n.uid,"/").concat(e.id)),e),!0},cartTotal:c,cartCount:u},children:t})}function Xp(){const{currentUser:e,userProfile:t,logout:n}=Kp(),{cartCount:r,cart:o}=$p(),[s,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1),[h,p]=(0,i.useState)(""),[f,g]=(0,i.useState)(null),[m,y]=(0,i.useState)(!1),[v,b]=(0,i.useState)(!1),x=oe(),_=re(),w=(0,i.useRef)(null);(0,i.useEffect)(()=>{const e=()=>a(window.scrollY>20);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,i.useEffect)(()=>{c(!1),d(!1),y(!1)},[_]),(0,i.useEffect)(()=>{const e=e=>{e.target.closest("#user-menu-wrap")||y(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const k=e=>{clearTimeout(w.current),g(e)},S=()=>{w.current=setTimeout(()=>g(null),120)},C=[{label:"Home",path:"/"},{label:"New Arrivals",path:"/category/new-arrivals"},{label:"Men",path:"/category/men",sub:[{label:"All Men",path:"/category/men"},{label:"T-Shirts",path:"/category/men-tshirts"},{label:"Shirts",path:"/category/men-shirts"},{label:"Pants",path:"/category/men-pants"},{label:"Shorts",path:"/category/men-shorts"},{label:"Jackets",path:"/category/men-jackets"},{label:"Jerseys",path:"/category/men-jerseys"},{label:"Accessories",path:"/category/accessories"}]},{label:"Women",path:"/category/women",sub:[{label:"All Women",path:"/category/women"},{label:"Tops",path:"/category/women-tops"},{label:"Bottoms",path:"/category/women-bottoms"},{label:"Dresses",path:"/category/women-dresses"},{label:"Jackets",path:"/category/women-jackets"},{label:"Swimwear",path:"/category/swimwear"},{label:"Jerseys",path:"/category/women-jerseys"},{label:"Accessories",path:"/category/accessories"}]},{label:"Collections",path:"/category/collections",sub:[{label:"Summer Capsule",path:"/category/summer-capsule"},{label:"Classics",path:"/category/classics"},{label:"Lookbook",path:"/lookbook"}]},{label:"Classics",path:"/category/classics"},{label:"Lookbook",path:"/lookbook"},{label:"Debit Citizen",path:"/debit-citizen",special:!0}],T=e=>({fontFamily:"'Jost', sans-serif",fontSize:12,fontWeight:500,letterSpacing:2,textTransform:"uppercase",color:e?"#86efac":"#fff",textDecoration:"none",padding:"8px 0",borderBottom:e?"1px solid #86efac":"1px solid transparent",transition:"color 0.2s",cursor:"pointer"}),E=i=>{var s,a;let{isMobile:l}=i;return(0,Vp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:l?10:14},children:[(0,Vp.jsx)("button",{onClick:()=>d(e=>!e),style:{background:"none",border:"none",cursor:"pointer",padding:4,display:"flex",alignItems:"center"},children:(0,Vp.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#fff",strokeWidth:"1.5",children:[(0,Vp.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,Vp.jsx)("path",{d:"m21 21-4.35-4.35"})]})}),(0,Vp.jsxs)("div",{style:{position:"relative"},onMouseEnter:()=>!l&&b(!0),onMouseLeave:()=>!l&&b(!1),children:[(0,Vp.jsxs)(Oe,{to:"/cart",style:{display:"flex",alignItems:"center",padding:4,position:"relative"},children:[(0,Vp.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#fff",strokeWidth:"1.5",children:[(0,Vp.jsx)("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,Vp.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,Vp.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),r>0&&(0,Vp.jsx)("span",{style:{position:"absolute",top:-3,right:-5,background:"#ea580c",color:"#fff",borderRadius:"50%",width:16,height:16,fontSize:9,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center"},children:r>9?"9+":r})]}),!l&&v&&o.length>0&&(0,Vp.jsxs)("div",{style:{position:"absolute",right:0,top:"100%",marginTop:12,background:"#fff",border:"1px solid #e8e8e8",width:300,zIndex:300,boxShadow:"0 8px 32px rgba(0,0,0,0.1)",padding:"16px"},children:[(0,Vp.jsxs)("p",{style:{fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,marginBottom:14,color:"#888"},children:["Cart (",r,")"]}),o.slice(0,3).map(e=>(0,Vp.jsxs)("div",{style:{display:"flex",gap:10,marginBottom:10,alignItems:"center"},children:[(0,Vp.jsx)("img",{src:e.image||"https://via.placeholder.com/48x58",alt:e.name,style:{width:44,height:54,objectFit:"cover",background:"#f5f5f5"}}),(0,Vp.jsxs)("div",{style:{flex:1},children:[(0,Vp.jsx)("p",{style:{fontSize:12,color:"#111",marginBottom:2},children:e.name}),(0,Vp.jsxs)("p",{style:{fontSize:12,color:"#888"},children:["\xd7",e.qty," \u2014 \u20a6",Number(e.price*e.qty).toLocaleString()]})]})]},e.id)),o.length>3&&(0,Vp.jsxs)("p",{style:{fontSize:11,color:"#aaa",marginBottom:8},children:["+",o.length-3," more items"]}),(0,Vp.jsx)(Oe,{to:"/cart",style:{display:"block",background:"#111",color:"#fff",textAlign:"center",padding:"11px",fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,marginTop:8},children:"View Cart"})]})]}),e?(0,Vp.jsxs)("div",{id:"user-menu-wrap",style:{position:"relative"},children:[(0,Vp.jsx)("button",{onClick:()=>y(e=>!e),style:{background:"none",border:"none",cursor:"pointer",padding:0,display:"flex",alignItems:"center"},children:(0,Vp.jsx)("div",{style:{width:30,height:30,borderRadius:"50%",background:"linear-gradient(135deg, #ea580c, #84cc16)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:700,color:"#fff",flexShrink:0},children:null===(s=(null===t||void 0===t?void 0:t.name)||e.email)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.toUpperCase()})}),m&&(0,Vp.jsxs)("div",{style:{position:"absolute",right:0,top:"calc(100% + 10px)",background:"#fff",border:"1px solid #e8e8e8",minWidth:190,zIndex:300,boxShadow:"0 8px 32px rgba(0,0,0,0.1)"},children:[(0,Vp.jsx)("p",{style:{padding:"12px 18px 8px",fontSize:11,color:"#888",letterSpacing:1,textTransform:"uppercase",borderBottom:"1px solid #f0f0f0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:(null===t||void 0===t?void 0:t.name)||"My Account"}),"admin"===(null===t||void 0===t?void 0:t.role)&&(0,Vp.jsx)(Oe,{to:"/admin",onClick:()=>y(!1),style:{display:"block",padding:"11px 18px",fontSize:12,letterSpacing:1,textTransform:"uppercase",color:"#ea580c",fontWeight:600,borderBottom:"1px solid #f5f5f5"},children:"Admin Panel"}),(0,Vp.jsx)(Oe,{to:"/dashboard",onClick:()=>y(!1),style:{display:"block",padding:"11px 18px",fontSize:12,letterSpacing:1,textTransform:"uppercase",color:"#333",borderBottom:"1px solid #f5f5f5"},children:"Dashboard"}),(0,Vp.jsx)(Oe,{to:"/orders",onClick:()=>y(!1),style:{display:"block",padding:"11px 18px",fontSize:12,letterSpacing:1,textTransform:"uppercase",color:"#333",borderBottom:"1px solid #f5f5f5"},children:"My Orders"}),(0,Vp.jsx)(Oe,{to:"/wishlist",onClick:()=>y(!1),style:{display:"block",padding:"11px 18px",fontSize:12,letterSpacing:1,textTransform:"uppercase",color:"#333",borderBottom:"1px solid #f5f5f5"},children:"Wishlist"}),(0,Vp.jsx)("button",{onClick:()=>{n(),y(!1)},style:{display:"block",width:"100%",textAlign:"left",padding:"11px 18px",fontSize:12,letterSpacing:1,textTransform:"uppercase",color:"#e53e3e",background:"none",border:"none",cursor:"pointer"},children:"Sign Out"})]})]}):(0,Vp.jsx)(Oe,{to:"/login",title:"Login",style:{display:"flex",alignItems:"center",padding:4},children:(0,Vp.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#fff",strokeWidth:"1.5",children:[(0,Vp.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,Vp.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})})]})};return(0,Vp.jsxs)(Vp.Fragment,{children:[(0,Vp.jsxs)("nav",{style:{position:"fixed",top:0,left:0,right:0,zIndex:1e3,background:s?"rgba(22,101,52,0.98)":"rgba(22,101,52,0.92)",backdropFilter:s?"blur(12px)":"none",borderBottom:s?"1px solid rgba(255,255,255,0.15)":"1px solid rgba(255,255,255,0.1)",transition:"all 0.4s ease"},children:[(0,Vp.jsx)("div",{style:{background:"#ea580c",color:"#fff",textAlign:"center",padding:"7px 16px",fontSize:11,letterSpacing:2,fontWeight:500,textTransform:"uppercase",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"Free shipping on orders above \u20a650,000 \xa0|\xa0 WhatsApp: +234 903 434 4183"}),(0,Vp.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",height:64,padding:"0 20px",maxWidth:1400,margin:"0 auto",position:"relative"},children:[(0,Vp.jsx)("div",{className:"desk-only",style:{display:"flex",gap:24,alignItems:"center"},children:C.slice(0,3).map(e=>(0,Vp.jsxs)("div",{style:{position:"relative"},onMouseEnter:()=>e.sub&&k(e.label),onMouseLeave:S,children:[(0,Vp.jsx)(Oe,{to:e.path,style:T(_.pathname===e.path),onMouseEnter:e=>e.currentTarget.style.color="#86efac",onMouseLeave:t=>t.currentTarget.style.color=_.pathname===e.path?"#86efac":"#fff",children:e.label}),e.sub&&f===e.label&&(0,Vp.jsx)("div",{onMouseEnter:()=>k(e.label),onMouseLeave:S,style:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",marginTop:16,background:"#fff",border:"1px solid #e8e8e8",minWidth:180,zIndex:200,boxShadow:"0 8px 32px rgba(0,0,0,0.08)",padding:"8px 0"},children:e.sub.map(e=>(0,Vp.jsx)(Oe,{to:e.path,style:{display:"block",padding:"9px 20px",fontSize:12,letterSpacing:1.5,textTransform:"uppercase",color:"#555",fontWeight:500,transition:"color 0.15s"},onMouseEnter:e=>e.currentTarget.style.color="#ea580c",onMouseLeave:e=>e.currentTarget.style.color="#555",children:e.label},e.label))})]},e.label))}),(0,Vp.jsxs)("button",{onClick:()=>c(e=>!e),className:"mob-only",style:{background:"none",border:"none",cursor:"pointer",padding:6,display:"flex",flexDirection:"column",gap:5},children:[(0,Vp.jsx)("span",{style:{display:"block",width:22,height:1.5,background:l?"#86efac":"#fff",transition:"all 0.3s",transform:l?"rotate(45deg) translate(4px, 5px)":"none"}}),(0,Vp.jsx)("span",{style:{display:"block",width:16,height:1.5,background:l?"#86efac":"#fff",transition:"all 0.3s",opacity:l?0:1}}),(0,Vp.jsx)("span",{style:{display:"block",width:22,height:1.5,background:l?"#86efac":"#fff",transition:"all 0.3s",transform:l?"rotate(-45deg) translate(4px, -5px)":"none"}})]}),(0,Vp.jsx)(Oe,{to:"/",style:{position:"absolute",left:"50%",transform:"translateX(-50%)",display:"flex",alignItems:"center"},children:(0,Vp.jsx)("img",{src:"https://image2url.com/r2/default/images/1771744477788-d24d1011-8148-4221-8598-97f76db22f6b.png",alt:"debit",style:{height:70,width:"auto",maxWidth:200,objectFit:"contain"}})}),(0,Vp.jsxs)("div",{className:"desk-only",style:{display:"flex",gap:24,alignItems:"center"},children:[C.slice(3).map(e=>(0,Vp.jsxs)("div",{style:{position:"relative"},onMouseEnter:()=>e.sub&&k(e.label),onMouseLeave:S,children:[(0,Vp.jsx)(Oe,{to:e.path,style:Ue(Ue({},T(_.pathname===e.path)),e.special?{color:"#86efac",borderBottom:"1px solid #86efac",fontWeight:700}:{}),onMouseEnter:e=>e.currentTarget.style.color="#ea580c",onMouseLeave:t=>t.currentTarget.style.color=_.pathname===e.path||e.special?"#ea580c":"#111",children:e.label}),e.sub&&f===e.label&&(0,Vp.jsx)("div",{onMouseEnter:()=>k(e.label),onMouseLeave:S,style:{position:"absolute",top:"100%",right:0,marginTop:16,background:"#fff",border:"1px solid #e8e8e8",minWidth:180,zIndex:200,boxShadow:"0 8px 32px rgba(0,0,0,0.08)",padding:"8px 0"},children:e.sub.map(e=>(0,Vp.jsx)(Oe,{to:e.path,style:{display:"block",padding:"9px 20px",fontSize:12,letterSpacing:1.5,textTransform:"uppercase",color:"#555",fontWeight:500,transition:"color 0.15s"},onMouseEnter:e=>e.currentTarget.style.color="#ea580c",onMouseLeave:e=>e.currentTarget.style.color="#555",children:e.label},e.label))})]},e.label)),(0,Vp.jsx)(E,{isMobile:!1})]}),(0,Vp.jsx)("div",{className:"mob-only",style:{display:"flex",alignItems:"center"},children:(0,Vp.jsx)(E,{isMobile:!0})})]}),u&&(0,Vp.jsx)("div",{style:{borderTop:"1px solid #e8e8e8",background:"#fff",padding:"14px 20px"},children:(0,Vp.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h.trim()&&(x("/search?q=".concat(encodeURIComponent(h.trim()))),p(""),d(!1))},style:{display:"flex",maxWidth:600,margin:"0 auto"},children:[(0,Vp.jsx)("input",{autoFocus:!0,value:h,onChange:e=>p(e.target.value),placeholder:"Search for products...",style:{flex:1,border:"none",borderBottom:"2px solid #111",padding:"10px 0",fontSize:15,outline:"none",background:"transparent"}}),(0,Vp.jsx)("button",{type:"submit",style:{background:"none",border:"none",cursor:"pointer",padding:"0 12px"},children:(0,Vp.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#111",strokeWidth:"1.5",children:[(0,Vp.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,Vp.jsx)("path",{d:"m21 21-4.35-4.35"})]})}),(0,Vp.jsx)("button",{type:"button",onClick:()=>d(!1),style:{background:"none",border:"none",cursor:"pointer",padding:"0 8px",fontSize:18,color:"#aaa"},children:"\u2715"})]})}),l&&(0,Vp.jsxs)("div",{style:{background:"#fff",borderTop:"1px solid #e8e8e8",maxHeight:"75vh",overflowY:"auto"},children:[C.map(e=>(0,Vp.jsxs)("div",{style:{borderBottom:"1px solid #f0f0f0"},children:[(0,Vp.jsx)(Oe,{to:e.path,style:{display:"block",padding:"14px 20px",fontSize:13,letterSpacing:2,textTransform:"uppercase",fontWeight:600,color:e.special||"/"===e.path?"#16a34a":"#111"},children:e.label}),e.sub&&e.sub.map(e=>(0,Vp.jsx)(Oe,{to:e.path,style:{display:"block",padding:"9px 32px",fontSize:12,letterSpacing:1.5,textTransform:"uppercase",color:"#888",borderTop:"1px solid #fafafa"},children:e.label},e.label))]},e.label)),(0,Vp.jsxs)("div",{style:{padding:"20px",background:"#fafafa",borderTop:"2px solid #f0f0f0"},children:[(0,Vp.jsx)("p",{style:{fontSize:12,color:"#888",marginBottom:6},children:"\ud83d\udcde +234 903 434 4183"}),(0,Vp.jsx)("p",{style:{fontSize:12,color:"#888"},children:"\u2709\ufe0f Debitbyrecent@gmail.com"})]})]})]}),(0,Vp.jsx)("style",{children:"\n        /* Desktop: show desk-only, hide mob-only */\n        @media (min-width: 901px) {\n          .desk-only { display: flex !important; }\n          .mob-only  { display: none !important; }\n        }\n        /* Mobile: hide desk-only, show mob-only */\n        @media (max-width: 900px) {\n          .desk-only { display: none !important; }\n          .mob-only  { display: flex !important; }\n        }\n      "})]})}function Zp(){const[e,t]=(0,i.useState)("");return(0,Vp.jsxs)("footer",{style:{background:"#ea580c",color:"#fff",marginTop:80},children:[(0,Vp.jsxs)("div",{style:{maxWidth:1400,margin:"0 auto",padding:"60px 40px 40px",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:40},children:[(0,Vp.jsxs)("div",{children:[(0,Vp.jsx)(Oe,{to:"/",style:{display:"block",marginBottom:16},children:(0,Vp.jsx)("img",{src:"https://image2url.com/r2/default/images/1771744477788-d24d1011-8148-4221-8598-97f76db22f6b.png",alt:"debit",style:{height:48,width:"auto",objectFit:"contain",filter:"brightness(0) invert(1)"}})}),(0,Vp.jsx)("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:13,lineHeight:1.8,marginBottom:24,maxWidth:240},children:"The luxury destination for premium streetwear in Nigeria."}),(0,Vp.jsx)("div",{style:{display:"flex",gap:16},children:[{name:"Instagram",path:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"},{name:"Twitter",path:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"}].map(e=>(0,Vp.jsx)("a",{href:"#",style:{color:"rgba(255,255,255,0.7)",transition:"color 0.2s"},onMouseEnter:e=>e.currentTarget.style.color="#fff",onMouseLeave:e=>e.currentTarget.style.color="rgba(255,255,255,0.7)",children:(0,Vp.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Vp.jsx)("path",{d:e.path})})},e.name))})]}),(0,Vp.jsxs)("div",{children:[(0,Vp.jsx)("h4",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:700,marginBottom:20,color:"rgba(255,255,255,0.5)"},children:"Shop"}),["New Arrivals","Men's Collection","Women's Collection","Collections","Classics","Lookbook","Debit Citizen"].map(e=>(0,Vp.jsx)(Oe,{to:"Debit Citizen"===e?"/debit-citizen":"/category/".concat(e.toLowerCase().replace(/[' ]/g,"-").replace(/'/g,"")),style:{display:"block",color:"rgba(255,255,255,0.75)",fontSize:13,marginBottom:10,transition:"color 0.2s"},onMouseEnter:e=>e.currentTarget.style.color="#fff",onMouseLeave:e=>e.currentTarget.style.color="rgba(255,255,255,0.75)",children:e},e))]}),(0,Vp.jsxs)("div",{children:[(0,Vp.jsx)("h4",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:700,marginBottom:20,color:"rgba(255,255,255,0.5)"},children:"Help"}),[{label:"My Account",path:"/dashboard"},{label:"Track Order",path:"/orders"},{label:"Wishlist",path:"/wishlist"},{label:"Contact Us",path:"/contact"}].map(e=>(0,Vp.jsx)(Oe,{to:e.path,style:{display:"block",color:"rgba(255,255,255,0.75)",fontSize:13,marginBottom:10,transition:"color 0.2s"},onMouseEnter:e=>e.currentTarget.style.color="#fff",onMouseLeave:e=>e.currentTarget.style.color="rgba(255,255,255,0.75)",children:e.label},e.label))]}),(0,Vp.jsxs)("div",{children:[(0,Vp.jsx)("h4",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:700,marginBottom:20,color:"rgba(255,255,255,0.5)"},children:"Contact"}),(0,Vp.jsxs)("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:13,lineHeight:1.8,marginBottom:20},children:["Lagos, Nigeria",(0,Vp.jsx)("br",{}),"+234 903 434 4183",(0,Vp.jsx)("br",{}),"Debitbyrecent@gmail.com"]}),(0,Vp.jsx)("h4",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:700,marginBottom:14,color:"rgba(255,255,255,0.5)"},children:"Newsletter"}),(0,Vp.jsxs)("form",{onSubmit:n=>{n.preventDefault(),e&&(alert("Thank you for subscribing!"),t(""))},style:{display:"flex"},children:[(0,Vp.jsx)("input",{value:e,onChange:e=>t(e.target.value),placeholder:"Your email",type:"email",style:{flex:1,background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.3)",borderRight:"none",padding:"10px 14px",color:"#fff",fontSize:13,outline:"none"}}),(0,Vp.jsx)("button",{type:"submit",style:{background:"#111",border:"none",padding:"10px 16px",color:"#fff",fontSize:11,letterSpacing:1.5,textTransform:"uppercase",fontWeight:600,cursor:"pointer",whiteSpace:"nowrap"},children:"Join"})]})]})]}),(0,Vp.jsxs)("div",{style:{borderTop:"1px solid rgba(0,0,0,0.15)",padding:"20px 40px",maxWidth:1400,margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:12},children:[(0,Vp.jsx)("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:12},children:"\xa9 2026 debit. All rights reserved."}),(0,Vp.jsx)("div",{style:{display:"flex",gap:24},children:["Privacy Policy","Terms of Service","Returns Policy"].map(e=>(0,Vp.jsx)("a",{href:"#",style:{color:"rgba(255,255,255,0.7)",fontSize:12,transition:"color 0.2s"},onMouseEnter:e=>e.currentTarget.style.color="#fff",onMouseLeave:e=>e.currentTarget.style.color="rgba(255,255,255,0.7)",children:e},e))})]})]})}function ef(){const[e,t]=(0,i.useState)(!1);return(0,Vp.jsxs)("a",{href:"https://wa.me/2349034344183?text=Hi!%20I'm%20interested%20in%20your%20products.",target:"_blank",rel:"noopener noreferrer",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),style:{position:"fixed",bottom:32,right:32,zIndex:999,display:"flex",alignItems:"center",gap:10,background:"#25D366",borderRadius:40,padding:e?"13px 20px":"13px",boxShadow:"0 4px 24px rgba(37,211,102,0.4)",textDecoration:"none",color:"#fff",transition:"all 0.3s ease",overflow:"hidden"},children:[(0,Vp.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"white",children:(0,Vp.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),(0,Vp.jsx)("span",{style:{fontSize:13,fontWeight:600,whiteSpace:"nowrap",maxWidth:e?120:0,overflow:"hidden",transition:"max-width 0.3s ease",fontFamily:"'Jost', sans-serif"},children:"Chat with us"})]})}function tf(e){let{product:t}=e;const{addToCart:n,toggleWishlist:r,wishlist:o}=$p(),{currentUser:s}=Kp(),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),d=o.some(e=>e.id===t.id),h=void 0===t.stock||t.stock>0;return(0,Vp.jsx)("div",{onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),style:{position:"relative",background:"#fff",cursor:"pointer"},children:(0,Vp.jsxs)(Oe,{to:"/product/".concat(t.id),style:{textDecoration:"none",color:"inherit"},children:[(0,Vp.jsxs)("div",{style:{position:"relative",paddingBottom:"125%",overflow:"hidden",background:"#f5f5f5"},children:[(0,Vp.jsx)("img",{src:t.image||"https://images.unsplash.com/photo-1523398002811-999ca8dec234?w=533&q=80",alt:t.name,style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",opacity:a&&t.image2?0:1,transition:"opacity 0.4s ease"}}),t.image2&&(0,Vp.jsx)("img",{src:t.image2,alt:t.name+" alt",style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",opacity:a?1:0,transition:"opacity 0.4s ease"}}),(0,Vp.jsxs)("div",{style:{position:"absolute",top:12,left:12,display:"flex",flexDirection:"column",gap:5},children:[t.isNew&&(0,Vp.jsx)("span",{style:{background:"#ea580c",color:"#fff",padding:"3px 8px",fontSize:10,letterSpacing:1.5,fontWeight:600,textTransform:"uppercase"},children:"New"}),!h&&(0,Vp.jsx)("span",{style:{background:"#111",color:"#fff",padding:"3px 8px",fontSize:10,letterSpacing:1.5,fontWeight:600,textTransform:"uppercase"},children:"Sold Out"})]}),(0,Vp.jsx)("button",{onClick:async e=>{e.preventDefault(),e.stopPropagation(),s?(await r(t),nn.success(d?"Removed from wishlist":"Saved to wishlist")):nn.error("Please login first")},style:{position:"absolute",top:12,right:12,background:"rgba(255,255,255,0.9)",border:"none",width:34,height:34,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",opacity:a?1:0,transition:"opacity 0.2s",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:(0,Vp.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:d?"#ea580c":"none",stroke:d?"#ea580c":"#555",strokeWidth:"1.5",children:(0,Vp.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),h&&(0,Vp.jsx)("button",{onClick:async e=>{e.preventDefault(),e.stopPropagation(),s?h?(u(!0),await n(t),nn.success("Added to cart!"),u(!1)):nn.error("Out of stock"):nn.error("Please login first")},disabled:c,style:{position:"absolute",bottom:0,left:0,right:0,background:"rgba(17,17,17,0.88)",color:"#fff",border:"none",padding:"12px",fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,cursor:c?"not-allowed":"pointer",opacity:a?1:0,transform:a?"translateY(0)":"translateY(8px)",transition:"opacity 0.25s, transform 0.25s"},children:c?"Adding...":"Quick Add"})]}),(0,Vp.jsxs)("div",{style:{paddingTop:14,paddingBottom:4},children:[(0,Vp.jsx)("p",{style:{fontSize:10,letterSpacing:2.5,textTransform:"uppercase",fontWeight:700,marginBottom:6,background:"linear-gradient(90deg, #84cc16, #eab308)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:t.category}),(0,Vp.jsx)("p",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:17,color:"#111",fontWeight:500,marginBottom:8,lineHeight:1.3,letterSpacing:.3},children:t.name}),(0,Vp.jsxs)("p",{style:{fontFamily:"'Jost', sans-serif",fontSize:15,fontWeight:700,letterSpacing:.5,color:"#eab308"},children:["\u20a6",Number(t.price).toLocaleString(),!h&&(0,Vp.jsx)("span",{style:{color:"#aaa",fontSize:11,fontWeight:400,marginLeft:8,letterSpacing:1,textTransform:"uppercase"},children:"Sold out"})]})]})]})})}function nf(){const e=i.useRef(null);return i.useEffect(()=>{e.current&&e.current.play().catch(()=>{})},[]),(0,Vp.jsxs)("div",{style:{position:"relative",height:"100vh",minHeight:500,overflow:"hidden",background:"#111"},children:[(0,Vp.jsxs)("video",{ref:e,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"auto",poster:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=1600&q=80",style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",objectPosition:"center",opacity:.85},children:[(0,Vp.jsx)("source",{src:"https://image2url.com/r2/default/videos/1772114975196-336fcc5e-ff17-498e-bced-84053f48257d.mp4",type:"video/mp4"}),(0,Vp.jsx)("source",{src:"https://cdn.coverr.co/videos/coverr-man-walking-in-a-city-5569/1080p.mp4",type:"video/mp4"})]}),(0,Vp.jsx)("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, rgba(0,0,0,0.15) 0%, rgba(0,0,0,0.4) 55%, rgba(0,0,0,0.72) 100%)"}}),(0,Vp.jsxs)("div",{style:{position:"absolute",bottom:"12%",left:"50%",transform:"translateX(-50%)",textAlign:"center",width:"90%",maxWidth:700,padding:"0 16px",boxSizing:"border-box"},children:[(0,Vp.jsx)("p",{style:{color:"rgba(255,255,255,0.75)",fontSize:"clamp(9px, 1.5vw, 11px)",letterSpacing:5,textTransform:"uppercase",fontWeight:500,marginBottom:16},children:"New Collection"}),(0,Vp.jsx)("h1",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:"clamp(40px, 9vw, 96px)",color:"#fff",fontWeight:300,lineHeight:1,letterSpacing:2,marginBottom:28},children:"New Arrivals"}),(0,Vp.jsx)(Oe,{to:"/category/new-arrivals",style:{display:"inline-block",background:"#fff",color:"#111",padding:"clamp(10px, 2vw, 14px) clamp(28px, 5vw, 44px)",fontSize:"clamp(9px, 1.5vw, 11px)",letterSpacing:3,textTransform:"uppercase",fontWeight:600,transition:"all 0.25s",textDecoration:"none"},onMouseEnter:e=>{e.currentTarget.style.background="#ea580c",e.currentTarget.style.color="#fff"},onMouseLeave:e=>{e.currentTarget.style.background="#fff",e.currentTarget.style.color="#111"},children:"Shop Now"})]}),(0,Vp.jsxs)("div",{style:{position:"absolute",bottom:28,left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",gap:6,opacity:.6},children:[(0,Vp.jsx)("span",{style:{color:"#fff",fontSize:9,letterSpacing:3,textTransform:"uppercase"},children:"Scroll"}),(0,Vp.jsx)("div",{style:{width:1,height:36,background:"linear-gradient(to bottom, #fff, transparent)",animation:"scrollPulse 1.8s ease-in-out infinite"}})]}),(0,Vp.jsx)("style",{children:"\n        @keyframes scrollPulse {\n          0%, 100% { opacity: 0.3; transform: scaleY(1); }\n          50% { opacity: 1; transform: scaleY(1.1); }\n        }\n        /* On very short screens (landscape mobile) adjust bottom offset */\n        @media (max-height: 500px) {\n          .hero-content { bottom: 8% !important; }\n        }\n      "})]})}function rf(e){var t,n;let{title:r,allProducts:o,tabs:s,viewAllPath:a,accent:l="#ea580c"}=e;const[c,u]=(0,i.useState)((null===(t=s[0])||void 0===t?void 0:t.key)||"all"),d="all"===c?o:o.filter(e=>((e,t)=>{const n=(e.category||"").toLowerCase(),r=t.toLowerCase();return(n.includes(" - ")?n.split(" - ").slice(1).join(" - "):n).includes(r)||n.includes(r)})(e,c)),h=d.slice(0,8);return(0,Vp.jsxs)("section",{style:{padding:"64px 40px",maxWidth:1400,margin:"0 auto"},children:[(0,Vp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:32,flexWrap:"wrap",gap:16},children:[(0,Vp.jsx)("h2",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:"clamp(32px, 4vw, 48px)",fontWeight:300,letterSpacing:1,color:"#ea580c"},children:r}),(0,Vp.jsx)(Oe,{to:a,style:{fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,color:"#111",borderBottom:"1px solid #111",paddingBottom:2,transition:"color 0.2s, border-color 0.2s"},onMouseEnter:e=>{e.currentTarget.style.color=l,e.currentTarget.style.borderColor=l},onMouseLeave:e=>{e.currentTarget.style.color="#111",e.currentTarget.style.borderColor="#111"},children:"View All"})]}),s.length>1&&(0,Vp.jsx)("div",{style:{display:"flex",gap:0,marginBottom:36,borderBottom:"1px solid #e8e8e8",overflowX:"auto",scrollbarWidth:"none"},children:s.map(e=>(0,Vp.jsx)("button",{onClick:()=>u(e.key),style:{padding:"10px 20px",background:"none",border:"none",fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,color:c===e.key?l:"#888",borderBottom:"2px solid ".concat(c===e.key?l:"transparent"),cursor:"pointer",transition:"all 0.2s",whiteSpace:"nowrap",marginBottom:-1},children:e.label},e.key))}),0===h.length?(0,Vp.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"48px 0",background:"#fafafa",border:"1px dashed #e8e8e8"},children:[(0,Vp.jsx)("p",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:22,fontWeight:300,color:"#ccc",marginBottom:8},children:(null===(n=s.find(e=>e.key===c))||void 0===n?void 0:n.label)||"Products"}),(0,Vp.jsx)("p",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",color:"#ea580c",fontWeight:600},children:"Coming Soon!"})]}):(0,Vp.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:"32px 20px"},children:h.map(e=>(0,Vp.jsx)(tf,{product:e},e.id))}),(0,Vp.jsx)("div",{style:{textAlign:"center",marginTop:48},children:(0,Vp.jsx)(Oe,{to:a,style:{display:"inline-block",border:"1px solid #111",padding:"13px 48px",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,color:"#111",transition:"all 0.25s"},onMouseEnter:e=>{e.currentTarget.style.background=l,e.currentTarget.style.color="#fff",e.currentTarget.style.borderColor=l},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="#111",e.currentTarget.style.borderColor="#111"},children:"See More"})})]})}function of(e){let{img:t,label:n,title:r,link:i,flip:o}=e;return(0,Vp.jsxs)("div",{style:{position:"relative",height:520,overflow:"hidden",background:"#f5f5f5"},children:[(0,Vp.jsx)("img",{src:t,alt:r,style:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.6s ease"},onMouseEnter:e=>e.target.style.transform="scale(1.03)",onMouseLeave:e=>e.target.style.transform="scale(1)"}),(0,Vp.jsx)("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 30%, rgba(0,0,0,0.55) 100%)"}}),(0,Vp.jsxs)("div",{style:{position:"absolute",bottom:40,left:40},children:[n&&(0,Vp.jsx)("p",{style:{color:"#faff00",fontSize:11,letterSpacing:3,textTransform:"uppercase",marginBottom:10},children:n}),(0,Vp.jsx)("h3",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:42,color:"#84cc16",fontWeight:300,marginBottom:20,lineHeight:1.1},children:r}),(0,Vp.jsx)(Oe,{to:i,style:{display:"inline-block",background:"#fff",color:"#111",padding:"12px 36px",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,transition:"all 0.25s"},onMouseEnter:e=>{e.currentTarget.style.background="#ea580c",e.currentTarget.style.color="#fff"},onMouseLeave:e=>{e.currentTarget.style.background="#fff",e.currentTarget.style.color="#111"},children:"Shop Now"})]})]})}function sf(){return(0,Vp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",maxWidth:1400,margin:"0 auto",gap:2,padding:"0 40px 64px"},className:"dual-banner",children:[(0,Vp.jsx)(of,{img:"https://images.unsplash.com/photo-1489987707025-afc232f7ea0f?w=800&q=80",label:"New Season",title:"Men's\nCollection",link:"/category/men"}),(0,Vp.jsx)(of,{img:"https://images.unsplash.com/photo-1469334031218-e382a71b716b?w=800&q=80",label:"New Season",title:"Women's\nCollection",link:"/category/women"})]})}function af(){const e=["New Arrivals","Premium Quality","Free Shipping Over \u20a650,000","Men","Women","Collections","Luxury Streetwear"];return(0,Vp.jsxs)("div",{style:{background:"#ea580c",overflow:"hidden",padding:"12px 0",marginBottom:0},children:[(0,Vp.jsx)("div",{style:{display:"flex",animation:"marquee 20s linear infinite",whiteSpace:"nowrap"},children:[...e,...e,...e].map((e,t)=>(0,Vp.jsxs)("span",{style:{color:"#fff",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,padding:"0 32px"},children:[e," ",(0,Vp.jsx)("span",{style:{opacity:.5,marginLeft:16},children:"\u2726"})]},t))}),(0,Vp.jsx)("style",{children:"\n        @keyframes marquee { from { transform: translateX(0); } to { transform: translateX(-33.33%); } }\n      "})]})}function lf(){return(0,Vp.jsxs)("section",{style:{padding:"0 40px 80px",maxWidth:1400,margin:"0 auto"},children:[(0,Vp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:28,flexWrap:"wrap",gap:12},children:[(0,Vp.jsx)("h2",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:"clamp(28px, 4vw, 44px)",fontWeight:300,letterSpacing:1,color:"#111"},children:"Lookbook"}),(0,Vp.jsx)(Oe,{to:"/lookbook",style:{fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,color:"#111",borderBottom:"1px solid #111",paddingBottom:2},children:"View All"})]}),(0,Vp.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:4},className:"lookbook-grid",children:["https://image2url.com/r2/default/images/1771747791389-9ebdd379-7003-4659-bf79-275c820d9e3f.jpeg","https://image2url.com/r2/default/images/1771747833224-4eead591-0ec2-4141-be82-ec4fe223e206.jpeg","https://image2url.com/r2/default/images/1771747868528-36d1051b-7aaa-441e-9e20-f5df8f26a5d3.jpeg","https://image2url.com/r2/default/images/1771747928888-5ff44007-8c59-407c-8045-bfcbef3361d9.jpeg","https://image2url.com/r2/default/images/1771748007781-746730e0-316d-42f2-8cb2-21f2f96959c4.jpeg","https://image2url.com/r2/default/images/1771748085028-c380d445-dd4f-40db-89bd-b84dcc60a66a.jpeg"].map((e,t)=>(0,Vp.jsx)("div",{style:{position:"relative",paddingBottom:"130%",overflow:"hidden",background:"#f5f5f5"},children:(0,Vp.jsx)("img",{src:e,alt:"Look ".concat(t+1),style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.5s ease"},onMouseEnter:e=>e.target.style.transform="scale(1.06)",onMouseLeave:e=>e.target.style.transform="scale(1)"})},t))}),(0,Vp.jsx)("style",{children:"\n        @media (max-width: 900px) { .lookbook-grid { grid-template-columns: repeat(3, 1fr) !important; } }\n        @media (max-width: 600px) { .lookbook-grid { grid-template-columns: repeat(2, 1fr) !important; } }\n      "})]})}function cf(){return(0,Vp.jsx)("div",{style:{borderTop:"1px solid #e8e8e8",borderBottom:"1px solid #e8e8e8",padding:"28px 40px",background:"#fafafa"},children:(0,Vp.jsx)("div",{style:{maxWidth:1400,margin:"0 auto",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:24},children:[{icon:"\ud83d\ude9a",label:"Free Shipping",sub:"Orders over \u20a650,000"},{icon:"\ud83d\udd04",label:"Easy Returns",sub:"30-day return policy"},{icon:"\ud83d\udd12",label:"Secure Payment",sub:"Powered by Paystack"},{icon:"\ud83d\udcac",label:"Live Support",sub:"WhatsApp: +234 903 434 4183"}].map(e=>(0,Vp.jsxs)("div",{style:{textAlign:"center"},children:[(0,Vp.jsx)("div",{style:{fontSize:24,marginBottom:8},children:e.icon}),(0,Vp.jsx)("p",{style:{fontSize:12,fontWeight:600,letterSpacing:1,textTransform:"uppercase",marginBottom:4},children:e.label}),(0,Vp.jsx)("p",{style:{fontSize:12,color:"#888"},children:e.sub})]},e.label))})})}function uf(){const[e,t]=(0,i.useState)([]);(0,i.useEffect)(()=>{const e=dp(tp(qp,"products"),e=>{const n=e.val();if(n){const e=Object.entries(n).map(e=>{let[t,n]=e;return Ue({id:t},n)});e.sort((e,t)=>(t.createdAt||0)-(e.createdAt||0)),t(e)}else t([])});return e},[]);const n=e.filter(e=>e.isNew),r=e.filter(e=>(e.category||"").toLowerCase().includes("men")&&!(e.category||"").toLowerCase().includes("women")),o=e.filter(e=>(e.category||"").toLowerCase().includes("women")),s=n.length>0?n:e;return(0,Vp.jsxs)("div",{style:{background:"#fff"},children:[(0,Vp.jsx)(nf,{}),(0,Vp.jsx)(af,{}),(0,Vp.jsx)(rf,{title:"New Arrivals",allProducts:s,tabs:[{key:"all",label:"New Arrivals"}],viewAllPath:"/category/new-arrivals",accent:"#ea580c"}),(0,Vp.jsx)("div",{style:{borderTop:"1px solid #e8e8e8",maxWidth:1400,margin:"0 auto"}}),(0,Vp.jsx)(rf,{title:"Men",allProducts:r.length>0?r:e,tabs:[{key:"all",label:"All"},{key:"t-shirt",label:"T-Shirts"},{key:"shirt",label:"Shirts"},{key:"pant",label:"Pants"},{key:"short",label:"Shorts"},{key:"jacket",label:"Jackets"},{key:"jersey",label:"Jerseys"},{key:"belt",label:"Belts"},{key:"glass",label:"Glasses"},{key:"headwear",label:"Headwear's"},{key:"sock",label:"Socks"}],viewAllPath:"/category/men",accent:"#84cc16"}),(0,Vp.jsx)(sf,{}),(0,Vp.jsx)(rf,{title:"Women",allProducts:o.length>0?o:e,tabs:[{key:"all",label:"All"},{key:"top",label:"Tops"},{key:"dress",label:"Dresses"},{key:"bottom",label:"Bottoms"},{key:"jacket",label:"Jackets"},{key:"swimwear",label:"Swimwear"},{key:"jersey",label:"Jerseys"},{key:"belt",label:"Belts"},{key:"glass",label:"Glasses"},{key:"headwear",label:"Headwear's"},{key:"sock",label:"Socks"}],viewAllPath:"/category/women",accent:"#ea580c"}),(0,Vp.jsx)("div",{style:{maxWidth:1400,margin:"0 auto",padding:"0 40px 64px"},children:(0,Vp.jsx)(of,{img:"https://image2url.com/r2/default/images/1772108719285-5819ce0f-d8ec-4681-9ad7-4ce85935b0e8.jpeg",label:"Exclusive Drop",title:"Collections",link:"/category/collections"})}),(0,Vp.jsx)(lf,{}),(0,Vp.jsx)(cf,{}),(0,Vp.jsx)("style",{children:"\n        @media (max-width: 700px) { .dual-banner { grid-template-columns: 1fr !important; } }\n      "})]})}function df(e){let{label:t,type:n,value:r,onChange:o,required:s}=e;const[a,l]=(0,i.useState)(!1),c="password"===n;return(0,Vp.jsxs)("div",{style:{marginBottom:18},children:[(0,Vp.jsx)("label",{style:{display:"block",fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,marginBottom:8,color:"#555"},children:t}),(0,Vp.jsxs)("div",{style:{position:"relative"},children:[(0,Vp.jsx)("input",{type:c?a?"text":"password":n,value:r,onChange:o,required:s,style:{width:"100%",padding:"12px 0",border:"none",borderBottom:"1px solid #ddd",fontSize:15,outline:"none",background:"transparent",boxSizing:"border-box",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#ea580c",onBlur:e=>e.target.style.borderColor="#ddd"}),c&&(0,Vp.jsx)("button",{type:"button",onClick:()=>l(e=>!e),style:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#999",fontSize:12},children:a?"Hide":"Show"})]})]})}function hf(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(!1),{login:a}=Kp(),l=oe();return(0,Vp.jsxs)("div",{style:{minHeight:"100vh",display:"flex",paddingTop:100},children:[(0,Vp.jsx)("div",{style:{flex:1,display:"none"},className:"auth-img",children:(0,Vp.jsx)("img",{src:"https://image2url.com/r2/default/images/1772108965783-9e677225-571d-45e0-9d01-2e70956814e8.png",alt:"Fashion",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,Vp.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"40px 20px"},children:(0,Vp.jsxs)("div",{style:{width:"100%",maxWidth:400},children:[(0,Vp.jsx)(Oe,{to:"/",style:{display:"block",textAlign:"center",marginBottom:40},children:(0,Vp.jsx)("img",{src:"https://image2url.com/r2/default/images/1772109924175-5a2755bb-6b62-47a1-a099-1d1485a20018.png",alt:"Debit",style:{height:76,width:"auto",objectFit:"contain"}})}),(0,Vp.jsx)("h1",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:36,fontWeight:300,textAlign:"center",marginBottom:8},children:"Sign In"}),(0,Vp.jsx)("p",{style:{textAlign:"center",color:"#888",fontSize:13,marginBottom:40},children:"Welcome back to Debit"}),(0,Vp.jsxs)("form",{onSubmit:async function(t){t.preventDefault(),s(!0);try{await a(e,n),nn.success("Welcome back!"),l("/dashboard")}catch(i){var r;nn.error((null===(r=i.message)||void 0===r?void 0:r.replace("Firebase: ","").replace(" (auth/invalid-credential).",""))||"Login failed")}s(!1)},children:[(0,Vp.jsx)(df,{label:"Email Address",type:"email",value:e,onChange:e=>t(e.target.value),required:!0}),(0,Vp.jsx)(df,{label:"Password",type:"password",value:n,onChange:e=>r(e.target.value),required:!0}),(0,Vp.jsx)("button",{type:"submit",disabled:o,style:{width:"100%",padding:"15px",background:o?"#888":"#ea580c",color:"#fff",border:"none",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,cursor:o?"not-allowed":"pointer",marginTop:8,transition:"background 0.2s"},onMouseEnter:e=>{o||(e.currentTarget.style.background="#16a34a")},onMouseLeave:e=>{o||(e.currentTarget.style.background="#ea580c")},children:o?"Signing in...":"Sign In"})]}),(0,Vp.jsxs)("p",{style:{textAlign:"center",marginTop:28,color:"#888",fontSize:13},children:["Don't have an account?"," ",(0,Vp.jsx)(Oe,{to:"/register",style:{color:"#111",fontWeight:600,borderBottom:"1px solid #111"},children:"Create one"})]})]})}),(0,Vp.jsx)("style",{children:"@media (min-width: 900px) { .auth-img { display: block !important; } }"})]})}function pf(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),{register:d}=Kp(),h=oe();return(0,Vp.jsxs)("div",{style:{minHeight:"100vh",display:"flex",paddingTop:100},children:[(0,Vp.jsx)("div",{style:{flex:1,display:"none"},className:"auth-img",children:(0,Vp.jsx)("img",{src:"https://image2url.com/r2/default/images/1772109203982-8d63f574-aa69-41cf-866d-5227d1cebb14.jpeg",alt:"Fashion",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,Vp.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"40px 20px"},children:(0,Vp.jsxs)("div",{style:{width:"100%",maxWidth:400},children:[(0,Vp.jsx)(Oe,{to:"/",style:{display:"block",textAlign:"center",marginBottom:40},children:(0,Vp.jsx)("img",{src:"https://image2url.com/r2/default/images/1772109924175-5a2755bb-6b62-47a1-a099-1d1485a20018.png",alt:"Debit",style:{height:76,width:"auto",objectFit:"contain"}})}),(0,Vp.jsx)("h1",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:36,fontWeight:300,textAlign:"center",marginBottom:8},children:"Create Account"}),(0,Vp.jsx)("p",{style:{textAlign:"center",color:"#888",fontSize:13,marginBottom:40},children:"Join the Debit family"}),(0,Vp.jsxs)("form",{onSubmit:async function(t){if(t.preventDefault(),o===a)if(o.length<6)nn.error("Password must be at least 6 characters");else{u(!0);try{await d(n,o,e),nn.success("Account created! Welcome to Debit."),h("/dashboard")}catch(i){var r;nn.error((null===(r=i.message)||void 0===r?void 0:r.replace("Firebase: ",""))||"Registration failed")}u(!1)}else nn.error("Passwords do not match")},children:[(0,Vp.jsx)(df,{label:"Full Name",type:"text",value:e,onChange:e=>t(e.target.value),required:!0}),(0,Vp.jsx)(df,{label:"Email Address",type:"email",value:n,onChange:e=>r(e.target.value),required:!0}),(0,Vp.jsx)(df,{label:"Password",type:"password",value:o,onChange:e=>s(e.target.value),required:!0}),(0,Vp.jsx)(df,{label:"Confirm Password",type:"password",value:a,onChange:e=>l(e.target.value),required:!0}),(0,Vp.jsx)("button",{type:"submit",disabled:c,style:{width:"100%",padding:"15px",background:c?"#888":"#ea580c",color:"#fff",border:"none",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,cursor:c?"not-allowed":"pointer",marginTop:8,transition:"background 0.2s"},onMouseEnter:e=>{c||(e.currentTarget.style.background="#16a34a")},onMouseLeave:e=>{c||(e.currentTarget.style.background="#ea580c")},children:c?"Creating...":"Create Account"})]}),(0,Vp.jsxs)("p",{style:{textAlign:"center",marginTop:28,color:"#888",fontSize:13},children:["Already have an account?"," ",(0,Vp.jsx)(Oe,{to:"/login",style:{color:"#111",fontWeight:600,borderBottom:"1px solid #111"},children:"Sign in"})]})]})}),(0,Vp.jsx)("style",{children:"@media (min-width: 900px) { .auth-img { display: block !important; } }"})]})}const ff={pending:{bg:"#fef3c7",color:"#92400e",label:"Pending"},processing:{bg:"#dbeafe",color:"#1e40af",label:"Processing"},shipped:{bg:"#ede9fe",color:"#5b21b6",label:"Shipped"},delivered:{bg:"#dcfce7",color:"#166534",label:"Delivered"},cancelled:{bg:"#fee2e2",color:"#991b1b",label:"Cancelled"}};function gf(){var e;const{currentUser:t,userProfile:n}=Kp(),{wishlist:r,toggleWishlist:o,addToCart:s}=$p(),[a,l]=(0,i.useState)([]),[c,u]=(0,i.useState)("orders");if(!t)return(0,Vp.jsx)(_e,{to:"/login"});(0,i.useEffect)(()=>{const e=dp(tp(qp,"orders/".concat(t.uid)),e=>{const t=e.val();l(t?Object.entries(t).map(e=>{let[t,n]=e;return Ue({id:t},n)}).reverse():[])});return e},[t]);const d=[{id:"orders",label:"My Orders",count:a.length},{id:"wishlist",label:"Wishlist",count:r.length},{id:"account",label:"Account"}];return(0,Vp.jsx)("div",{style:{paddingTop:100,minHeight:"100vh",background:"#fff"},children:(0,Vp.jsxs)("div",{style:{maxWidth:1200,margin:"0 auto",padding:"40px 40px 80px"},children:[(0,Vp.jsxs)("div",{style:{marginBottom:48},children:[(0,Vp.jsx)("p",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",color:"#999",marginBottom:8},children:"My Account"}),(0,Vp.jsxs)("h1",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:48,fontWeight:300},children:["Hello, ",(null===n||void 0===n||null===(e=n.name)||void 0===e?void 0:e.split(" ")[0])||"there"," \ud83d\udc4b"]})]}),(0,Vp.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:16,marginBottom:48},children:[{label:"Total Orders",value:a.length,color:"#ea580c"},{label:"Delivered",value:a.filter(e=>"delivered"===e.status).length,color:"#65a30d"},{label:"In Progress",value:a.filter(e=>["processing","shipped"].includes(e.status)).length,color:"#3b82f6"},{label:"Wishlist",value:r.length,color:"#a855f7"}].map(e=>(0,Vp.jsxs)("div",{style:{border:"1px solid #e8e8e8",padding:"20px",textAlign:"center"},children:[(0,Vp.jsx)("div",{style:{fontSize:36,fontWeight:300,color:e.color,fontFamily:"'Cormorant Garamond', serif",marginBottom:4},children:e.value}),(0,Vp.jsx)("div",{style:{fontSize:11,letterSpacing:2,textTransform:"uppercase",color:"#888",fontWeight:600},children:e.label})]},e.label))}),(0,Vp.jsx)("div",{style:{display:"flex",gap:0,borderBottom:"1px solid #e8e8e8",marginBottom:36},children:d.map(e=>(0,Vp.jsxs)("button",{onClick:()=>u(e.id),style:{padding:"12px 24px",background:"none",border:"none",fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,color:c===e.id?"#ea580c":"#888",borderBottom:"2px solid ".concat(c===e.id?"#ea580c":"transparent"),cursor:"pointer",transition:"all 0.2s",marginBottom:-1,display:"flex",alignItems:"center",gap:8},children:[e.label,void 0!==e.count&&(0,Vp.jsx)("span",{style:{background:c===e.id?"#ea580c":"#e8e8e8",color:c===e.id?"#fff":"#888",borderRadius:"50%",width:18,height:18,fontSize:10,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700},children:e.count})]},e.id))}),"orders"===c&&(0,Vp.jsx)("div",{children:0===a.length?(0,Vp.jsxs)("div",{style:{textAlign:"center",padding:"60px 0",color:"#999"},children:[(0,Vp.jsx)("p",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:28,fontWeight:300,marginBottom:16},children:"No orders yet"}),(0,Vp.jsx)(Oe,{to:"/",style:{display:"inline-block",border:"1px solid #111",padding:"12px 36px",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600},children:"Start Shopping"})]}):a.map(e=>{var t,n;const r=ff[e.status]||ff.pending,o=["pending","processing","shipped","delivered"],s=o.indexOf(e.status);return(0,Vp.jsxs)("div",{style:{border:"1px solid #e8e8e8",marginBottom:16,padding:24},children:[(0,Vp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:12,marginBottom:16},children:[(0,Vp.jsxs)("div",{children:[(0,Vp.jsxs)("p",{style:{fontSize:12,fontWeight:600,letterSpacing:1,color:"#111",marginBottom:2},children:["Order #",e.id.slice(-8).toUpperCase()]}),(0,Vp.jsx)("p",{style:{fontSize:12,color:"#999"},children:new Date(e.createdAt).toLocaleDateString("en-NG",{year:"numeric",month:"long",day:"numeric"})})]}),(0,Vp.jsx)("span",{style:{background:r.bg,color:r.color,padding:"5px 12px",fontSize:11,letterSpacing:1,fontWeight:600,textTransform:"uppercase"},children:r.label})]}),(0,Vp.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:16},children:[null===(t=e.items)||void 0===t?void 0:t.slice(0,4).map((e,t)=>(0,Vp.jsxs)("div",{style:{display:"flex",gap:10,alignItems:"center",background:"#fafafa",padding:"8px 12px",fontSize:13},children:[(0,Vp.jsx)("img",{src:e.image||"https://via.placeholder.com/36x44",alt:e.name,style:{width:36,height:44,objectFit:"cover"}}),(0,Vp.jsxs)("span",{style:{color:"#555"},children:[e.name," \xd7",e.qty]})]},t)),(null===(n=e.items)||void 0===n?void 0:n.length)>4&&(0,Vp.jsxs)("span",{style:{padding:"8px 12px",color:"#999",fontSize:12,display:"flex",alignItems:"center"},children:["+",e.items.length-4," more"]})]}),(0,Vp.jsx)("div",{style:{display:"flex",gap:4,marginBottom:16,alignItems:"center"},children:o.map((t,n)=>(0,Vp.jsxs)(i.Fragment,{children:[(0,Vp.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:4,flex:1},children:[(0,Vp.jsx)("div",{style:{width:10,height:10,borderRadius:"50%",background:n<=s&&"cancelled"!==e.status?"#ea580c":"#e8e8e8",transition:"background 0.3s"}}),(0,Vp.jsx)("span",{style:{fontSize:9,letterSpacing:1,textTransform:"uppercase",color:n<=s&&"cancelled"!==e.status?"#ea580c":"#ccc",fontWeight:600},children:t})]}),n<o.length-1&&(0,Vp.jsx)("div",{style:{height:1,flex:2,background:n<s&&"cancelled"!==e.status?"#ea580c":"#e8e8e8",marginBottom:20,transition:"background 0.3s"}})]},t))}),(0,Vp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Vp.jsxs)("span",{style:{fontSize:14,fontWeight:600},children:["\u20a6",Number(e.total).toLocaleString()]}),e.shippingAddress&&(0,Vp.jsxs)("span",{style:{fontSize:12,color:"#888"},children:["\u2192 ",e.shippingAddress.city,", ",e.shippingAddress.state]})]})]},e.id)})}),"wishlist"===c&&(0,Vp.jsx)("div",{children:0===r.length?(0,Vp.jsxs)("div",{style:{textAlign:"center",padding:"60px 0",color:"#999"},children:[(0,Vp.jsx)("p",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:28,fontWeight:300,marginBottom:16},children:"Your wishlist is empty"}),(0,Vp.jsx)(Oe,{to:"/",style:{display:"inline-block",border:"1px solid #111",padding:"12px 36px",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600},children:"Explore Products"})]}):(0,Vp.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:"40px 20px"},children:r.map(e=>(0,Vp.jsx)(tf,{product:e},e.id))})}),"account"===c&&(0,Vp.jsxs)("div",{style:{maxWidth:480},children:[(0,Vp.jsxs)("div",{style:{border:"1px solid #e8e8e8",padding:28,marginBottom:20},children:[(0,Vp.jsx)("h3",{style:{fontSize:13,letterSpacing:2,textTransform:"uppercase",fontWeight:600,marginBottom:20},children:"Account Details"}),[{label:"Name",value:(null===n||void 0===n?void 0:n.name)||"\u2014"},{label:"Email",value:t.email},{label:"Member Since",value:null!==n&&void 0!==n&&n.createdAt?new Date(n.createdAt).toLocaleDateString("en-NG",{year:"numeric",month:"long"}):"\u2014"},{label:"Role",value:(null===n||void 0===n?void 0:n.role)||"customer"}].map(e=>(0,Vp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"12px 0",borderBottom:"1px solid #f5f5f5",fontSize:14},children:[(0,Vp.jsx)("span",{style:{color:"#888",fontSize:12,letterSpacing:1,textTransform:"uppercase",fontWeight:600},children:e.label}),(0,Vp.jsx)("span",{style:{color:"#111"},children:e.value})]},e.label))]}),(0,Vp.jsx)(Oe,{to:"/contact",style:{display:"inline-block",border:"1px solid #111",padding:"12px 32px",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600},children:"Contact Support"})]})]})})}const mf=["New Arrivals","Men - T-Shirts","Men - Shirts","Men - Pants","Men - Shorts","Men - Jackets","Men - Jerseys","Men - Belts","Men - Glasses","Men - Headwear's","Men - Socks","Women - Tops","Women - Bottoms","Women - Dresses","Women - Jackets","Women - Swimwear","Women - Jerseys","Women - Belts","Women - Glasses","Women - Headwear's","Women - Socks","Collections","Classics","Accessories"],yf=["pending","processing","shipped","delivered","cancelled"],vf={pending:"#f59e0b",processing:"#3b82f6",shipped:"#8b5cf6",delivered:"#22c55e",cancelled:"#ef4444"},bf=["XS","S","M","L","XL","XXL","XXXL","One Size"];function xf(e){let{label:t,value:n,sub:r,accent:i="#ea580c"}=e;return(0,Vp.jsxs)("div",{style:{border:"1px solid #e8e8e8",padding:"24px 20px"},children:[(0,Vp.jsx)("div",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:40,fontWeight:300,color:i,marginBottom:4},children:n}),(0,Vp.jsx)("div",{style:{fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,color:"#888",marginBottom:r?4:0},children:t}),r&&(0,Vp.jsx)("div",{style:{fontSize:12,color:i},children:r})]})}function _f(e){let{sizes:t,onChange:n}=e;const[r,o]=(0,i.useState)(""),s=()=>{const e=r.trim().toUpperCase();e&&(t.find(t=>t.label===e)?nn.error("Size already added"):(n([...t,{label:e,chest:"",length:""}]),o("")))},a=(e,r,i)=>{n(t.map(t=>t.label===e?Ue(Ue({},t),{},{[r]:i}):t))},l={padding:"6px 8px",border:"1px solid #e8e8e8",fontSize:13,outline:"none",transition:"border-color 0.2s",background:"#fff",width:"100%",boxSizing:"border-box"};return(0,Vp.jsxs)("div",{style:{marginBottom:28},children:[(0,Vp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:16},children:[(0,Vp.jsx)("span",{style:{fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,color:"#555"},children:"Size Chart"}),(0,Vp.jsx)("span",{style:{fontSize:11,color:"#bbb"},children:"(add sizes with measurements)"})]}),(0,Vp.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:6,marginBottom:14},children:bf.map(e=>{const r=t.find(t=>t.label===e);return(0,Vp.jsxs)("button",{type:"button",onClick:()=>{r||n([...t,{label:e,chest:"",length:""}])},style:{padding:"4px 12px",fontSize:11,letterSpacing:1,fontWeight:600,border:"1px solid ".concat(r?"#ea580c":"#e8e8e8"),background:r?"#fff5f0":"#fff",color:r?"#ea580c":"#888",cursor:r?"default":"pointer",transition:"all 0.15s"},children:[e," ",r?"\u2713":"+"]},e)})}),(0,Vp.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:16},children:[(0,Vp.jsx)("input",{type:"text",placeholder:"Custom size (e.g. 2XL, 32, etc.)",value:r,onChange:e=>o(e.target.value),onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),s()),style:Ue(Ue({},l),{},{flex:1}),onFocus:e=>e.target.style.borderColor="#ea580c",onBlur:e=>e.target.style.borderColor="#e8e8e8"}),(0,Vp.jsx)("button",{type:"button",onClick:s,style:{padding:"6px 18px",background:"#111",color:"#fff",border:"none",fontSize:11,letterSpacing:2,fontWeight:600,cursor:"pointer"},children:"Add"})]}),t.length>0&&(0,Vp.jsxs)("div",{style:{border:"1px solid #f0f0f0",overflow:"hidden"},children:[(0,Vp.jsx)("div",{style:{display:"grid",gridTemplateColumns:"80px 1fr 1fr 36px",gap:0,background:"#fafafa",padding:"8px 12px"},children:["Size","Chest (in)","Length (in)",""].map(e=>(0,Vp.jsx)("span",{style:{fontSize:10,letterSpacing:1.5,textTransform:"uppercase",fontWeight:700,color:"#999"},children:e},e))}),t.map((e,r)=>(0,Vp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"80px 1fr 1fr 36px",gap:0,alignItems:"center",padding:"8px 12px",borderTop:r>0?"1px solid #f5f5f5":"none",background:"#fff"},children:[(0,Vp.jsx)("span",{style:{fontWeight:700,fontSize:13,color:"#111",letterSpacing:1},children:e.label}),(0,Vp.jsx)("div",{style:{paddingRight:8},children:(0,Vp.jsx)("input",{type:"number",step:"0.5",min:"0",value:e.chest,onChange:t=>a(e.label,"chest",t.target.value),placeholder:"e.g. 40",style:Ue({},l),onFocus:e=>e.target.style.borderColor="#ea580c",onBlur:e=>e.target.style.borderColor="#e8e8e8"})}),(0,Vp.jsx)("div",{style:{paddingRight:8},children:(0,Vp.jsx)("input",{type:"number",step:"0.5",min:"0",value:e.length,onChange:t=>a(e.label,"length",t.target.value),placeholder:"e.g. 28",style:Ue({},l),onFocus:e=>e.target.style.borderColor="#ea580c",onBlur:e=>e.target.style.borderColor="#e8e8e8"})}),(0,Vp.jsx)("button",{type:"button",onClick:()=>{return r=e.label,n(t.filter(e=>e.label!==r));var r},style:{width:28,height:28,borderRadius:"50%",background:"#fee2e2",border:"none",color:"#ef4444",fontSize:14,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700},children:"\xd7"})]},e.label))]}),0===t.length&&(0,Vp.jsx)("p",{style:{fontSize:12,color:"#ccc",fontStyle:"italic",padding:"10px 0"},children:"No sizes added yet. Click a size above or type a custom one."})]})}function wf(){var e;const{currentUser:t,userProfile:n}=Kp(),[r,o]=(0,i.useState)("overview"),[s,a]=(0,i.useState)([]),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)([]),[h,p]=(0,i.useState)([]),[f,g]=(0,i.useState)({}),m={name:"",price:"",category:"",description:"",stock:"",isNew:!0,imageUrl:"",imageUrl2:""},[y,v]=(0,i.useState)(m),[b,x]=(0,i.useState)([]),[_,w]=(0,i.useState)(null),[k,S]=(0,i.useState)(""),[C,T]=(0,i.useState)(""),[E,j]=(0,i.useState)(""),[I,P]=(0,i.useState)(""),[N,R]=(0,i.useState)(!1),[O,L]=(0,i.useState)(""),[A,D]=(0,i.useState)(null),[M,z]=(0,i.useState)([]),[F,W]=(0,i.useState)({personName:"",caption:"",type:"photo",mediaUrl:""}),[U,B]=(0,i.useState)(""),[H,q]=(0,i.useState)(""),[V,G]=(0,i.useState)(!1),[K,Q]=(0,i.useState)(null);if(!t)return(0,Vp.jsx)(_e,{to:"/login"});if("admin"!==(null===n||void 0===n?void 0:n.role))return(0,Vp.jsxs)("div",{style:{paddingTop:140,textAlign:"center",minHeight:"100vh"},children:[(0,Vp.jsx)("p",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:32,fontWeight:300,color:"#999"},children:"Access Denied"}),(0,Vp.jsx)("p",{style:{fontSize:13,color:"#aaa",marginTop:8},children:"Admin access required."})]});(0,i.useEffect)(()=>{const e=[dp(tp(qp,"products"),e=>{const t=e.val();a(t?Object.entries(t).map(e=>{let[t,n]=e;return Ue({id:t},n)}).sort((e,t)=>(t.createdAt||0)-(e.createdAt||0)):[])}),dp(tp(qp,"users"),e=>{const t=e.val();d(t?Object.entries(t).map(e=>{let[t,n]=e;return Ue({id:t},n)}):[])}),dp(tp(qp,"messages"),e=>{const t=e.val();p(t?Object.entries(t).map(e=>{let[t,n]=e;return Ue({id:t},n)}).reverse():[])}),dp(tp(qp,"revenue"),e=>g(e.val()||{})),dp(tp(qp,"allOrders"),e=>{const t=e.val();c(t?Object.entries(t).map(e=>{let[t,n]=e;return Ue({id:t},n)}).reverse():[])}),dp(tp(qp,"citizenPosts"),e=>{const t=e.val();z(t?Object.entries(t).map(e=>{let[t,n]=e;return Ue({id:t},n)}).sort((e,t)=>(t.createdAt||0)-(e.createdAt||0)):[])})];return()=>e.forEach(e=>e())},[]);(new Date).toISOString().split("T")[0];const Y=e=>Object.entries(f).reduce((t,n)=>{let[r,i]=n;if("month"===e){const e=new Date(r);return e.getMonth()===(new Date).getMonth()&&e.getFullYear()===(new Date).getFullYear()?t+i:t}if("year"===e)return new Date(r).getFullYear()===(new Date).getFullYear()?t+i:t;return(Date.now()-new Date(r).getTime())/864e5<=e?t+i:t},0),$={};l.forEach(e=>{var t;return null===(t=e.items)||void 0===t?void 0:t.forEach(e=>{$[e.id]=($[e.id]||0)+e.qty})});const J=[...s].map(e=>Ue(Ue({},e),{},{sold:$[e.id]||0})).sort((e,t)=>t.sold-e.sold),X=async(e,t)=>{const n=e.target.files[0];if(!n)return;if(n.size>2097152)return void nn.error("Image must be under 2MB");const r=await(e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}))(n);1===t?(j(r),S(r)):(P(r),T(r))},Z=e=>{var t;w(e),v({name:e.name,price:e.price,category:e.category,description:e.description||"",stock:null!==(t=e.stock)&&void 0!==t?t:"",isNew:e.isNew||!1,imageUrl:"",imageUrl2:""}),x(e.sizes||[]),j(""),P(""),S(e.image||""),T(e.image2||""),o("products"),window.scrollTo(0,0)},ee=u.filter(e=>!O||(e.name||"").toLowerCase().includes(O.toLowerCase())||(e.email||"").toLowerCase().includes(O.toLowerCase())),te=h.filter(e=>"unread"===e.status).length,ne=[{id:"overview",label:"Overview"},{id:"products",label:"Products"},{id:"orders",label:"Orders"},{id:"users",label:"Users"},{id:"messages",label:"Messages".concat(te>0?" (".concat(te,")"):"")},{id:"stock",label:"Stock"},{id:"citizen",label:"Debit Citizen"}],re={width:"100%",padding:"10px 0",border:"none",borderBottom:"1px solid #ddd",fontSize:14,outline:"none",background:"transparent",boxSizing:"border-box",transition:"border-color 0.2s"},ie={display:"block",fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,color:"#555",marginBottom:8};return(0,Vp.jsxs)("div",{style:{paddingTop:80,minHeight:"100vh",background:"#fff"},children:[(0,Vp.jsxs)("div",{style:{background:"#111",color:"#fff",padding:"16px 40px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:12},children:[(0,Vp.jsxs)("div",{children:[(0,Vp.jsx)("span",{style:{fontFamily:"'Bebas Neue', sans-serif",fontSize:20,letterSpacing:3},children:"DEBIT ADMIN"}),(0,Vp.jsxs)("span",{style:{color:"#888",fontSize:12,marginLeft:16},children:["Welcome, ",null===n||void 0===n?void 0:n.name]})]}),(0,Vp.jsx)("div",{style:{display:"flex",gap:24},children:[["Products",s.length,"#ea580c"],["Orders",l.length,"#84cc16"],["Users",u.length,"#3b82f6"],["Messages",te,"#f59e0b"]].map(e=>{let[t,n,r]=e;return(0,Vp.jsxs)("div",{style:{textAlign:"center"},children:[(0,Vp.jsx)("div",{style:{fontSize:20,fontWeight:700,color:r},children:n}),(0,Vp.jsx)("div",{style:{fontSize:10,color:"#888",letterSpacing:1,textTransform:"uppercase"},children:t})]},t)})})]}),(0,Vp.jsxs)("div",{style:{maxWidth:1400,margin:"0 auto",padding:"32px 40px 80px"},children:[(0,Vp.jsx)("div",{style:{display:"flex",gap:0,borderBottom:"1px solid #e8e8e8",marginBottom:36,overflowX:"auto",scrollbarWidth:"none"},children:ne.map(e=>(0,Vp.jsx)("button",{onClick:()=>o(e.id),style:{padding:"12px 20px",background:"none",border:"none",fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,color:r===e.id?"#ea580c":"#888",borderBottom:"2px solid ".concat(r===e.id?"#ea580c":"transparent"),cursor:"pointer",transition:"all 0.2s",marginBottom:-1,whiteSpace:"nowrap"},children:e.label},e.id))}),"overview"===r&&(0,Vp.jsxs)("div",{children:[(0,Vp.jsx)("h2",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:32,fontWeight:300,marginBottom:24},children:"Dashboard Overview"}),(0,Vp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:16,marginBottom:40},children:[(0,Vp.jsx)(xf,{label:"Today's Revenue",value:"\u20a6".concat(Number(Y(1)).toLocaleString()),accent:"#ea580c"}),(0,Vp.jsx)(xf,{label:"Weekly Revenue",value:"\u20a6".concat(Number(Y(7)).toLocaleString()),accent:"#84cc16"}),(0,Vp.jsx)(xf,{label:"Monthly Revenue",value:"\u20a6".concat(Number(Y("month")).toLocaleString()),accent:"#3b82f6"}),(0,Vp.jsx)(xf,{label:"Yearly Revenue",value:"\u20a6".concat(Number(Y("year")).toLocaleString()),accent:"#8b5cf6"}),(0,Vp.jsx)(xf,{label:"Total Products",value:s.length,accent:"#111"}),(0,Vp.jsx)(xf,{label:"Total Orders",value:l.length,accent:"#f59e0b"}),(0,Vp.jsx)(xf,{label:"Out of Stock",value:s.filter(e=>0===e.stock).length,accent:"#ef4444"}),(0,Vp.jsx)(xf,{label:"Total Users",value:u.length,accent:"#0891b2"})]}),(0,Vp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:24},className:"ov-grid",children:[(0,Vp.jsxs)("div",{style:{border:"1px solid #e8e8e8",padding:24},children:[(0,Vp.jsx)("h3",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:700,marginBottom:20},children:"Recent Orders"}),l.slice(0,6).map(e=>{var t;return(0,Vp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0",borderBottom:"1px solid #f5f5f5",flexWrap:"wrap",gap:8},children:[(0,Vp.jsxs)("div",{children:[(0,Vp.jsxs)("p",{style:{fontSize:13,fontWeight:500,color:"#111"},children:["#",e.id.slice(-7).toUpperCase()]}),(0,Vp.jsx)("p",{style:{fontSize:11,color:"#999"},children:null===(t=e.shippingAddress)||void 0===t?void 0:t.name})]}),(0,Vp.jsx)("span",{style:{background:vf[e.status]+"20",color:vf[e.status],padding:"3px 10px",fontSize:11,fontWeight:600,letterSpacing:1,textTransform:"uppercase"},children:e.status}),(0,Vp.jsxs)("span",{style:{fontSize:13,fontWeight:600},children:["\u20a6",Number(e.total).toLocaleString()]})]},e.id)}),0===l.length&&(0,Vp.jsx)("p",{style:{color:"#999",fontSize:13},children:"No orders yet."})]}),(0,Vp.jsxs)("div",{style:{border:"1px solid #e8e8e8",padding:24},children:[(0,Vp.jsx)("h3",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:700,marginBottom:20},children:"Top Products"}),J.slice(0,6).map((e,t)=>(0,Vp.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center",padding:"8px 0",borderBottom:"1px solid #f5f5f5"},children:[(0,Vp.jsx)("span",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:20,fontWeight:300,color:"#ccc",minWidth:24},children:t+1}),(0,Vp.jsx)("img",{src:e.image||"https://via.placeholder.com/36x44",alt:e.name,style:{width:36,height:44,objectFit:"cover",background:"#f5f5f5"}}),(0,Vp.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,Vp.jsx)("p",{style:{fontSize:13,color:"#111",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),(0,Vp.jsx)("p",{style:{fontSize:11,color:"#999"},children:e.category})]}),(0,Vp.jsxs)("span",{style:{fontSize:12,fontWeight:600,color:e.sold>0?"#65a30d":"#ccc",whiteSpace:"nowrap"},children:[e.sold," sold"]})]},e.id)),0===s.length&&(0,Vp.jsx)("p",{style:{color:"#999",fontSize:13},children:"No products yet."})]})]})]}),"products"===r&&(0,Vp.jsxs)("div",{children:[(0,Vp.jsxs)("div",{style:{border:"1px solid #e8e8e8",padding:32,marginBottom:40},children:[(0,Vp.jsx)("h3",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:700,marginBottom:28},children:_?"Editing: ".concat(_.name):"Add New Product"}),(0,Vp.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),y.name&&y.price&&y.category){R(!0);try{const e=E||y.imageUrl||(null===_||void 0===_?void 0:_.image)||"",t=I||y.imageUrl2||(null===_||void 0===_?void 0:_.image2)||"",n=Ue(Ue({},y),{},{price:Number(y.price),stock:""!==y.stock?Number(y.stock):void 0,image:e,image2:t,sizes:b.filter(e=>e.label).map(e=>({label:e.label,chest:e.chest?Number(e.chest):null,length:e.length?Number(e.length):null})),updatedAt:Date.now()},!_&&{createdAt:Date.now()});if(delete n.imageUrl,delete n.imageUrl2,_)await op(tp(qp,"products/".concat(_.id)),n),nn.success("Product updated!");else{const e=rp(tp(qp,"products"));await op(e,n),nn.success("Product added!")}v(m),x([]),j(""),P(""),S(""),T(""),w(null)}catch(t){nn.error("Error: "+t.message)}R(!1)}else nn.error("Fill required fields")},children:[(0,Vp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:"0 24px"},children:[[{k:"name",l:"Product Name *"},{k:"price",l:"Price (\u20a6) *",t:"number"},{k:"stock",l:"Stock Qty",t:"number"}].map(e=>(0,Vp.jsxs)("div",{style:{marginBottom:20},children:[(0,Vp.jsx)("label",{style:ie,children:e.l}),(0,Vp.jsx)("input",{type:e.t||"text",value:y[e.k],onChange:t=>v(Ue(Ue({},y),{},{[e.k]:t.target.value})),required:"name"===e.k||"price"===e.k,style:re,onFocus:e=>e.target.style.borderColor="#ea580c",onBlur:e=>e.target.style.borderColor="#ddd"})]},e.k)),(0,Vp.jsxs)("div",{style:{marginBottom:20},children:[(0,Vp.jsx)("label",{style:ie,children:"Category *"}),(0,Vp.jsxs)("select",{value:y.category,onChange:e=>v(Ue(Ue({},y),{},{category:e.target.value})),required:!0,style:Ue(Ue({},re),{},{cursor:"pointer"}),children:[(0,Vp.jsx)("option",{value:"",children:"Select..."}),mf.map(e=>(0,Vp.jsx)("option",{value:e,children:e},e))]})]})]}),(0,Vp.jsxs)("div",{style:{marginBottom:20},children:[(0,Vp.jsx)("label",{style:ie,children:"Description"}),(0,Vp.jsx)("textarea",{rows:3,value:y.description,onChange:e=>v(Ue(Ue({},y),{},{description:e.target.value})),style:Ue(Ue({},re),{},{resize:"vertical",fontFamily:"'Jost', sans-serif"}),onFocus:e=>e.target.style.borderColor="#ea580c",onBlur:e=>e.target.style.borderColor="#ddd"})]}),(0,Vp.jsx)("div",{style:{borderTop:"1px solid #f0f0f0",paddingTop:24,marginBottom:8},children:(0,Vp.jsx)(_f,{sizes:b,onChange:x})}),(0,Vp.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0 24px"},className:"img-grid",children:[{l:"Main Image",urlKey:"imageUrl",which:1,preview:k},{l:"Alt / Hover Image",urlKey:"imageUrl2",which:2,preview:C}].map(e=>(0,Vp.jsxs)("div",{style:{marginBottom:20},children:[(0,Vp.jsx)("label",{style:ie,children:e.l}),(0,Vp.jsx)("input",{type:"url",value:y[e.urlKey],onChange:t=>{v(Ue(Ue({},y),{},{[e.urlKey]:t.target.value})),1===e.which?(S(t.target.value),j("")):(T(t.target.value),P(""))},placeholder:"Paste image URL (https://...)",style:Ue(Ue({},re),{},{marginBottom:10}),onFocus:e=>e.target.style.borderColor="#ea580c",onBlur:e=>e.target.style.borderColor="#ddd"}),(0,Vp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:10},children:[(0,Vp.jsx)("div",{style:{flex:1,height:1,background:"#eee"}}),(0,Vp.jsx)("span",{style:{fontSize:10,color:"#bbb",letterSpacing:2,textTransform:"uppercase"},children:"or upload file"}),(0,Vp.jsx)("div",{style:{flex:1,height:1,background:"#eee"}})]}),(0,Vp.jsx)("input",{type:"file",accept:"image/*",onChange:t=>X(t,e.which),style:Ue(Ue({},re),{},{cursor:"pointer",fontSize:12})}),(0,Vp.jsx)("p",{style:{fontSize:10,color:"#bbb",marginTop:4},children:"Max 2MB. Stored directly \u2014 no Storage needed."}),e.preview&&(0,Vp.jsxs)("div",{style:{marginTop:10,position:"relative",display:"inline-block"},children:[(0,Vp.jsx)("img",{src:e.preview,alt:"preview",style:{width:80,height:100,objectFit:"cover",border:"1px solid #e8e8e8",background:"#f5f5f5"},onError:e=>e.target.style.display="none"}),(0,Vp.jsx)("button",{type:"button",onClick:()=>{1===e.which?(S(""),j(""),v(e=>Ue(Ue({},e),{},{imageUrl:""}))):(T(""),P(""),v(e=>Ue(Ue({},e),{},{imageUrl2:""})))},style:{position:"absolute",top:-6,right:-6,width:18,height:18,borderRadius:"50%",background:"#ef4444",border:"none",color:"#fff",fontSize:10,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1},children:"\u2715"})]})]},e.which))}),(0,Vp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:24},children:[(0,Vp.jsx)("input",{type:"checkbox",id:"isNewChk",checked:y.isNew,onChange:e=>v(Ue(Ue({},y),{},{isNew:e.target.checked}))}),(0,Vp.jsx)("label",{htmlFor:"isNewChk",style:{fontSize:13,cursor:"pointer"},children:"Mark as New Arrival"})]}),(0,Vp.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,Vp.jsx)("button",{type:"submit",disabled:N,style:{padding:"12px 36px",background:N?"#888":"#111",color:"#fff",border:"none",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,cursor:N?"not-allowed":"pointer",transition:"background 0.2s"},onMouseEnter:e=>{N||(e.currentTarget.style.background="#ea580c")},onMouseLeave:e=>{N||(e.currentTarget.style.background="#111")},children:N?"Saving...":_?"Update Product":"Add Product"}),_&&(0,Vp.jsx)("button",{type:"button",onClick:()=>{w(null),v(m),x([])},style:{padding:"12px 24px",background:"transparent",border:"1px solid #ddd",fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,cursor:"pointer"},children:"Cancel"})]})]})]}),(0,Vp.jsxs)("div",{style:{border:"1px solid #e8e8e8"},children:[(0,Vp.jsx)("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e8e8e8",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,Vp.jsxs)("h3",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:700},children:["All Products (",s.length,")"]})}),(0,Vp.jsxs)("div",{style:{overflowX:"auto"},children:[(0,Vp.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Vp.jsx)("thead",{children:(0,Vp.jsx)("tr",{style:{borderBottom:"1px solid #e8e8e8",background:"#fafafa"},children:["Image","Name","Category","Price","Stock","Sizes","Sold","Actions"].map(e=>(0,Vp.jsx)("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:10,letterSpacing:2,textTransform:"uppercase",fontWeight:700,color:"#888",whiteSpace:"nowrap"},children:e},e))})}),(0,Vp.jsx)("tbody",{children:s.map(e=>(0,Vp.jsxs)("tr",{style:{borderBottom:"1px solid #f5f5f5"},onMouseEnter:e=>e.currentTarget.style.background="#fafafa",onMouseLeave:e=>e.currentTarget.style.background="transparent",children:[(0,Vp.jsx)("td",{style:{padding:"12px 16px"},children:(0,Vp.jsx)("img",{src:e.image||"https://via.placeholder.com/40x50",alt:e.name,style:{width:40,height:50,objectFit:"cover",background:"#f5f5f5"}})}),(0,Vp.jsxs)("td",{style:{padding:"12px 16px",fontSize:13,maxWidth:200},children:[(0,Vp.jsx)("div",{style:{color:"#111"},children:e.name}),e.isNew&&(0,Vp.jsx)("span",{style:{background:"#ea580c",color:"#fff",padding:"1px 6px",fontSize:9,fontWeight:700,letterSpacing:1},children:"NEW"})]}),(0,Vp.jsx)("td",{style:{padding:"12px 16px",fontSize:12,color:"#888",whiteSpace:"nowrap"},children:e.category}),(0,Vp.jsxs)("td",{style:{padding:"12px 16px",fontSize:13,fontWeight:500,whiteSpace:"nowrap"},children:["\u20a6",Number(e.price).toLocaleString()]}),(0,Vp.jsx)("td",{style:{padding:"12px 16px"},children:(0,Vp.jsx)("span",{style:{fontSize:12,fontWeight:600,color:0===e.stock?"#ef4444":e.stock<=5?"#f59e0b":"#22c55e"},children:void 0===e.stock?"\u221e":0===e.stock?"Out":e.stock})}),(0,Vp.jsx)("td",{style:{padding:"12px 16px"},children:e.sizes&&e.sizes.length>0?(0,Vp.jsx)("div",{style:{display:"flex",gap:3,flexWrap:"wrap"},children:e.sizes.map(e=>(0,Vp.jsx)("span",{style:{fontSize:9,fontWeight:700,letterSpacing:.5,padding:"2px 5px",background:"#f5f5f5",color:"#555",border:"1px solid #e8e8e8"},children:e.label},e.label))}):(0,Vp.jsx)("span",{style:{fontSize:11,color:"#ccc"},children:"\u2014"})}),(0,Vp.jsx)("td",{style:{padding:"12px 16px",fontSize:13,fontWeight:600,color:$[e.id]>0?"#65a30d":"#ccc"},children:$[e.id]||0}),(0,Vp.jsx)("td",{style:{padding:"12px 16px"},children:(0,Vp.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,Vp.jsx)("button",{onClick:()=>Z(e),style:{padding:"6px 12px",border:"1px solid #3b82f6",background:"transparent",color:"#3b82f6",fontSize:11,cursor:"pointer",fontWeight:600},children:"Edit"}),(0,Vp.jsx)("button",{onClick:()=>(async e=>{window.confirm("Delete this product?")&&(await ip(tp(qp,"products/".concat(e))),nn.success("Deleted"))})(e.id),style:{padding:"6px 12px",border:"1px solid #ef4444",background:"transparent",color:"#ef4444",fontSize:11,cursor:"pointer",fontWeight:600},children:"Delete"})]})})]},e.id))})]}),0===s.length&&(0,Vp.jsx)("p",{style:{textAlign:"center",padding:40,color:"#999",fontSize:13},children:"No products yet. Add your first product above."})]})]})]}),"orders"===r&&(0,Vp.jsxs)("div",{children:[(0,Vp.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24,flexWrap:"wrap",gap:12},children:(0,Vp.jsxs)("h2",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:32,fontWeight:300},children:["All Orders (",l.length,")"]})}),(0,Vp.jsxs)("div",{style:{border:"1px solid #e8e8e8",overflowX:"auto"},children:[(0,Vp.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Vp.jsx)("thead",{children:(0,Vp.jsx)("tr",{style:{borderBottom:"1px solid #e8e8e8",background:"#fafafa"},children:["Order ID","Customer","Phone","Delivery Address","Items","Total","Date","Status","Update"].map(e=>(0,Vp.jsx)("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:10,letterSpacing:2,textTransform:"uppercase",fontWeight:700,color:"#888",whiteSpace:"nowrap"},children:e},e))})}),(0,Vp.jsx)("tbody",{children:l.map(e=>{var t,n,r,i,o;return(0,Vp.jsxs)("tr",{style:{borderBottom:"1px solid #f5f5f5"},onMouseEnter:e=>e.currentTarget.style.background="#fafafa",onMouseLeave:e=>e.currentTarget.style.background="transparent",children:[(0,Vp.jsxs)("td",{style:{padding:"12px 16px",fontSize:12,fontFamily:"monospace",color:"#555"},children:["#",e.id.slice(-8).toUpperCase()]}),(0,Vp.jsxs)("td",{style:{padding:"12px 16px"},children:[(0,Vp.jsx)("div",{style:{fontSize:13,color:"#111",fontWeight:500},children:(null===(t=e.shippingAddress)||void 0===t?void 0:t.name)||"\u2014"}),(0,Vp.jsx)("div",{style:{fontSize:11,color:"#999"},children:(null===(n=e.shippingAddress)||void 0===n?void 0:n.email)||e.userEmail})]}),(0,Vp.jsx)("td",{style:{padding:"12px 16px",fontSize:13,color:"#555",whiteSpace:"nowrap"},children:(null===(r=e.shippingAddress)||void 0===r?void 0:r.phone)||e.phone||"\u2014"}),(0,Vp.jsx)("td",{style:{padding:"12px 16px",minWidth:200},children:e.shippingAddress?(0,Vp.jsxs)("div",{children:[e.shippingAddress.address&&(0,Vp.jsx)("div",{style:{fontSize:12,color:"#555"},children:e.shippingAddress.address}),(e.shippingAddress.city||e.shippingAddress.state)&&(0,Vp.jsx)("div",{style:{fontSize:12,color:"#888"},children:[e.shippingAddress.city,e.shippingAddress.state].filter(Boolean).join(", ")})]}):(0,Vp.jsx)("span",{style:{fontSize:12,color:"#ccc"},children:"\u2014"})}),(0,Vp.jsxs)("td",{style:{padding:"12px 16px",fontSize:13,color:"#555"},children:[(null===(i=e.items)||void 0===i?void 0:i.length)||0," item",1!==(null===(o=e.items)||void 0===o?void 0:o.length)?"s":""]}),(0,Vp.jsxs)("td",{style:{padding:"12px 16px",fontSize:13,fontWeight:600},children:["\u20a6",Number(e.total).toLocaleString()]}),(0,Vp.jsx)("td",{style:{padding:"12px 16px",fontSize:12,color:"#888",whiteSpace:"nowrap"},children:new Date(e.createdAt).toLocaleDateString()}),(0,Vp.jsx)("td",{style:{padding:"12px 16px"},children:(0,Vp.jsx)("span",{style:{background:vf[e.status]+"20",color:vf[e.status],padding:"4px 10px",fontSize:10,fontWeight:700,letterSpacing:1,textTransform:"uppercase",whiteSpace:"nowrap"},children:e.status})}),(0,Vp.jsx)("td",{style:{padding:"12px 16px"},children:(0,Vp.jsx)("select",{value:e.status,onChange:t=>(async(e,t,n)=>{await sp(tp(qp,"allOrders/".concat(e)),{status:n}),await sp(tp(qp,"orders/".concat(t,"/").concat(e)),{status:n}),nn.success("Order ".concat(n))})(e.id,e.userId,t.target.value),style:{border:"1px solid #ddd",background:"#fff",padding:"6px 10px",fontSize:12,cursor:"pointer",outline:"none"},children:yf.map(e=>(0,Vp.jsx)("option",{value:e,children:e},e))})})]},e.id)})})]}),0===l.length&&(0,Vp.jsx)("p",{style:{textAlign:"center",padding:40,color:"#999",fontSize:13},children:"No orders yet."})]})]}),"users"===r&&(0,Vp.jsxs)("div",{children:[(0,Vp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24,flexWrap:"wrap",gap:16},children:[(0,Vp.jsxs)("h2",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:32,fontWeight:300},children:["Users (",ee.length,")"]}),(0,Vp.jsx)("input",{value:O,onChange:e=>L(e.target.value),placeholder:"Search by name or email...",style:{padding:"9px 14px",border:"1px solid #e8e8e8",fontSize:13,outline:"none",minWidth:250,transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#ea580c",onBlur:e=>e.target.style.borderColor="#e8e8e8"})]}),(0,Vp.jsxs)("div",{style:{border:"1px solid #e8e8e8",overflowX:"auto"},children:[(0,Vp.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Vp.jsx)("thead",{children:(0,Vp.jsx)("tr",{style:{borderBottom:"1px solid #e8e8e8",background:"#fafafa"},children:["User","Email","Role","Joined","Orders"].map(e=>(0,Vp.jsx)("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:10,letterSpacing:2,textTransform:"uppercase",fontWeight:700,color:"#888"},children:e},e))})}),(0,Vp.jsx)("tbody",{children:ee.map(e=>{const t=l.filter(t=>t.userId===e.id);return(0,Vp.jsxs)("tr",{style:{borderBottom:"1px solid #f5f5f5"},children:[(0,Vp.jsx)("td",{style:{padding:"12px 16px"},children:(0,Vp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,Vp.jsx)("div",{style:{width:32,height:32,borderRadius:"50%",background:"linear-gradient(135deg,#ea580c,#84cc16)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:13,fontWeight:700,color:"#fff",flexShrink:0},children:(e.name||"U")[0].toUpperCase()}),(0,Vp.jsx)("span",{style:{fontSize:13,color:"#111"},children:e.name||"\u2014"})]})}),(0,Vp.jsx)("td",{style:{padding:"12px 16px",fontSize:13,color:"#555"},children:e.email}),(0,Vp.jsx)("td",{style:{padding:"12px 16px"},children:(0,Vp.jsx)("span",{style:{background:"admin"===e.role?"#fff0e6":"#f0f9ff",color:"admin"===e.role?"#ea580c":"#0369a1",padding:"3px 10px",fontSize:11,fontWeight:700,letterSpacing:1,textTransform:"uppercase"},children:e.role||"user"})}),(0,Vp.jsx)("td",{style:{padding:"12px 16px",fontSize:13,color:"#888"},children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"\u2014"}),(0,Vp.jsx)("td",{style:{padding:"12px 16px",fontSize:13,fontWeight:600,color:t.length>0?"#65a30d":"#ccc"},children:t.length})]},e.id)})})]}),0===ee.length&&(0,Vp.jsx)("p",{style:{textAlign:"center",padding:40,color:"#999",fontSize:13},children:"No users found."})]})]}),"messages"===r&&(0,Vp.jsxs)("div",{children:[(0,Vp.jsxs)("h2",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:32,fontWeight:300,marginBottom:24},children:["Customer Messages (",h.length,")"]}),(0,Vp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"360px 1fr",gap:24,alignItems:"start"},className:"msg-grid",children:[(0,Vp.jsxs)("div",{style:{border:"1px solid #e8e8e8"},children:[0===h.length&&(0,Vp.jsx)("p",{style:{padding:32,textAlign:"center",color:"#999",fontSize:13},children:"No messages yet."}),h.map(e=>(0,Vp.jsxs)("div",{onClick:()=>{D(e),"unread"===e.status&&sp(tp(qp,"messages/".concat(e.id)),{status:"read"})},style:{padding:"16px 20px",borderBottom:"1px solid #f5f5f5",cursor:"pointer",background:(null===A||void 0===A?void 0:A.id)===e.id?"#fff8f5":"unread"===e.status?"#fffbf5":"#fff",transition:"background 0.15s"},children:[(0,Vp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:4},children:[(0,Vp.jsx)("span",{style:{fontSize:13,fontWeight:"unread"===e.status?700:400,color:"#111"},children:e.name}),"unread"===e.status&&(0,Vp.jsx)("span",{style:{width:8,height:8,borderRadius:"50%",background:"#ea580c",flexShrink:0}})]}),(0,Vp.jsx)("p",{style:{fontSize:12,color:"#888",marginBottom:4},children:e.email}),(0,Vp.jsx)("p",{style:{fontSize:12,color:"#aaa",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.description}),(0,Vp.jsx)("p",{style:{fontSize:10,color:"#ccc",marginTop:4,letterSpacing:.5},children:new Date(e.createdAt).toLocaleDateString()})]},e.id))]}),A?(0,Vp.jsxs)("div",{style:{border:"1px solid #e8e8e8",padding:32},children:[(0,Vp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:24,flexWrap:"wrap",gap:12},children:[(0,Vp.jsxs)("div",{children:[(0,Vp.jsx)("h3",{style:{fontFamily:"'Cormorant Garamond',serif",fontSize:28,fontWeight:300,marginBottom:4},children:A.name}),(0,Vp.jsx)("p",{style:{fontSize:13,color:"#888"},children:A.email}),A.location&&(0,Vp.jsxs)("p",{style:{fontSize:13,color:"#888"},children:["\ud83d\udccd ",A.location]})]}),(0,Vp.jsx)("span",{style:{fontSize:11,color:"#999"},children:new Date(A.createdAt).toLocaleString()})]}),A.subject&&(0,Vp.jsxs)("p",{style:{fontSize:12,letterSpacing:1,textTransform:"uppercase",color:"#ea580c",fontWeight:600,marginBottom:16},children:["Subject: ",A.subject]}),(0,Vp.jsx)("div",{style:{background:"#fafafa",border:"1px solid #f0f0f0",padding:20,marginBottom:24},children:(0,Vp.jsx)("p",{style:{fontSize:14,color:"#333",lineHeight:1.8},children:A.description})}),(0,Vp.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,Vp.jsx)("a",{href:"mailto:".concat(A.email,"?subject=Re: ").concat(A.subject||"Your message to Debit"),style:{display:"inline-block",background:"#111",color:"#fff",padding:"12px 28px",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,transition:"background 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#ea580c",onMouseLeave:e=>e.currentTarget.style.background="#111",children:"Reply via Email"}),(0,Vp.jsx)("a",{href:"https://wa.me/".concat(null===(e=A.phone)||void 0===e?void 0:e.replace(/\D/g,"")),target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",background:"#25D366",color:"#fff",padding:"12px 28px",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600},children:"WhatsApp"})]})]}):(0,Vp.jsx)("div",{style:{border:"1px solid #e8e8e8",display:"flex",alignItems:"center",justifyContent:"center",minHeight:300},children:(0,Vp.jsx)("p",{style:{color:"#ccc",fontSize:13,letterSpacing:2,textTransform:"uppercase"},children:"Select a message"})})]})]}),"stock"===r&&(0,Vp.jsxs)("div",{children:[(0,Vp.jsx)("h2",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:32,fontWeight:300,marginBottom:32},children:"Stock Management"}),(0,Vp.jsxs)("h3",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:700,color:"#ef4444",marginBottom:16},children:["Out of Stock (",s.filter(e=>0===e.stock).length,")"]}),(0,Vp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:16,marginBottom:40},children:[s.filter(e=>0===e.stock).map(e=>(0,Vp.jsxs)("div",{style:{border:"1px solid #fee2e2",padding:16},children:[(0,Vp.jsx)("img",{src:e.image||"https://via.placeholder.com/180x220",alt:e.name,style:{width:"100%",height:160,objectFit:"cover",background:"#f5f5f5",marginBottom:10}}),(0,Vp.jsx)("p",{style:{fontSize:13,color:"#111",marginBottom:4},children:e.name}),(0,Vp.jsx)("p",{style:{fontSize:11,color:"#999",marginBottom:10},children:e.category}),(0,Vp.jsx)("button",{onClick:()=>Z(e),style:{width:"100%",background:"transparent",border:"1px solid #ea580c",color:"#ea580c",padding:"8px",fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,cursor:"pointer"},children:"Restock"})]},e.id)),0===s.filter(e=>0===e.stock).length&&(0,Vp.jsx)("p",{style:{color:"#999",fontSize:13},children:"All products are in stock \u2713"})]}),(0,Vp.jsxs)("h3",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:700,color:"#f59e0b",marginBottom:16},children:["Low Stock \u2014 5 or fewer (",s.filter(e=>e.stock>0&&e.stock<=5).length,")"]}),(0,Vp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:16},children:[s.filter(e=>e.stock>0&&e.stock<=5).map(e=>(0,Vp.jsxs)("div",{style:{border:"1px solid #fef3c7",padding:16},children:[(0,Vp.jsx)("img",{src:e.image||"https://via.placeholder.com/180x220",alt:e.name,style:{width:"100%",height:160,objectFit:"cover",background:"#f5f5f5",marginBottom:10}}),(0,Vp.jsx)("p",{style:{fontSize:13,color:"#111",marginBottom:4},children:e.name}),(0,Vp.jsx)("p",{style:{fontSize:11,color:"#999",marginBottom:4},children:e.category}),(0,Vp.jsxs)("p",{style:{fontSize:14,fontWeight:700,color:"#f59e0b",marginBottom:10},children:[e.stock," remaining"]}),(0,Vp.jsx)("button",{onClick:()=>Z(e),style:{width:"100%",background:"transparent",border:"1px solid #f59e0b",color:"#f59e0b",padding:"8px",fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,cursor:"pointer"},children:"Update Stock"})]},e.id)),0===s.filter(e=>e.stock>0&&e.stock<=5).length&&(0,Vp.jsx)("p",{style:{color:"#999",fontSize:13},children:"No low-stock items."})]})]})]}),"citizen"===r&&(0,Vp.jsxs)("div",{children:[(0,Vp.jsx)("h2",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:32,fontWeight:300,marginBottom:8},children:"Debit Citizen"}),(0,Vp.jsx)("p",{style:{fontSize:13,color:"#888",marginBottom:32},children:"Upload photos and videos of people wearing Debit products. They appear on the public Debit Citizen page."}),(0,Vp.jsxs)("div",{style:{border:"1px solid #e8e8e8",padding:32,marginBottom:40},children:[(0,Vp.jsx)("h3",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:700,marginBottom:24},children:K?"Editing Post":"Add New Post"}),(0,Vp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:"0 24px"},children:[(0,Vp.jsxs)("div",{style:{marginBottom:20},children:[(0,Vp.jsx)("label",{style:ie,children:"Person's Name (optional)"}),(0,Vp.jsx)("input",{type:"text",value:F.personName,onChange:e=>W(Ue(Ue({},F),{},{personName:e.target.value})),placeholder:"e.g. Tunde A.",style:re,onFocus:e=>e.target.style.borderColor="#ea580c",onBlur:e=>e.target.style.borderColor="#ddd"})]}),(0,Vp.jsxs)("div",{style:{marginBottom:20},children:[(0,Vp.jsx)("label",{style:ie,children:"Media Type *"}),(0,Vp.jsxs)("select",{value:F.type,onChange:e=>{W(Ue(Ue({},F),{},{type:e.target.value,mediaUrl:""})),q("")},style:Ue(Ue({},re),{},{cursor:"pointer"}),children:[(0,Vp.jsx)("option",{value:"photo",children:"\ud83d\udcf7 Photo"}),(0,Vp.jsx)("option",{value:"video",children:"\ud83c\udfac Video"})]})]})]}),(0,Vp.jsxs)("div",{style:{marginBottom:20},children:[(0,Vp.jsx)("label",{style:ie,children:"Caption (optional)"}),(0,Vp.jsx)("textarea",{rows:2,value:F.caption,onChange:e=>W(Ue(Ue({},F),{},{caption:e.target.value})),placeholder:"Short description or quote...",style:Ue(Ue({},re),{},{resize:"vertical",fontFamily:"'Jost', sans-serif"}),onFocus:e=>e.target.style.borderColor="#ea580c",onBlur:e=>e.target.style.borderColor="#ddd"})]}),(0,Vp.jsxs)("div",{style:{marginBottom:8},children:[(0,Vp.jsxs)("label",{style:ie,children:["video"===F.type?"Video":"Photo"," URL *"]}),(0,Vp.jsx)("input",{type:"url",value:F.mediaUrl,onChange:e=>{const t=e.target.value;W(Ue(Ue({},F),{},{mediaUrl:t})),q(t)},placeholder:"video"===F.type?"https://example.com/video.mp4  or  YouTube/Vimeo embed URL":"https://example.com/photo.jpg  or  image hosting URL",style:re,onFocus:e=>e.target.style.borderColor="#ea580c",onBlur:e=>e.target.style.borderColor="#ddd"}),(0,Vp.jsx)("p",{style:{fontSize:11,color:"#aaa",marginTop:6},children:"video"===F.type?"Paste a direct MP4 link, or a Google Drive / Cloudinary / Firebase Storage video URL.":"Paste a direct image link from Cloudinary, Firebase Storage, or any image host."})]}),H&&(0,Vp.jsxs)("div",{style:{marginBottom:24,marginTop:16},children:[(0,Vp.jsx)("label",{style:ie,children:"Preview"}),"video"===F.type?(0,Vp.jsx)("video",{src:H,controls:!0,style:{maxWidth:320,maxHeight:220,border:"1px solid #e8e8e8",display:"block",background:"#f5f5f5"},onError:()=>nn.error("Video URL could not be loaded \u2014 check the link")},H):(0,Vp.jsx)("img",{src:H,alt:"preview",style:{maxWidth:200,maxHeight:200,objectFit:"cover",border:"1px solid #e8e8e8",display:"block"},onError:e=>{e.target.style.display="none",nn.error("Image URL could not be loaded \u2014 check the link")}})]}),(0,Vp.jsxs)("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[(0,Vp.jsx)("button",{onClick:async()=>{const e=(F.mediaUrl||(null===K||void 0===K?void 0:K.mediaUrl)||"").trim();if(e){G(!0);try{const t=Ue(Ue({},F),{},{mediaUrl:e,updatedAt:Date.now()},!K&&{createdAt:Date.now()});K?(await op(tp(qp,"citizenPosts/".concat(K.id)),t),nn.success("Post updated!")):(await op(rp(tp(qp,"citizenPosts")),t),nn.success("Post added!")),W({personName:"",caption:"",type:"photo",mediaUrl:""}),q(""),Q(null)}catch(t){nn.error("Error: "+t.message)}G(!1)}else nn.error("Please enter a photo or video URL")},disabled:V,style:{background:"#ea580c",color:"#fff",border:"none",padding:"12px 32px",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:700,cursor:V?"not-allowed":"pointer",opacity:V?.6:1},children:V?"Saving...":K?"Update Post":"Publish Post"}),K&&(0,Vp.jsx)("button",{onClick:()=>{Q(null),W({personName:"",caption:"",type:"photo",mediaUrl:""}),q("")},style:{background:"transparent",border:"1px solid #ddd",padding:"12px 24px",fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,cursor:"pointer",color:"#888"},children:"Cancel"})]})]}),(0,Vp.jsxs)("h3",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:700,marginBottom:20},children:["Published Posts (",M.length,")"]}),0===M.length?(0,Vp.jsx)("p",{style:{color:"#999",fontSize:13},children:"No posts yet. Upload your first one above."}):(0,Vp.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:16},children:M.map(e=>(0,Vp.jsxs)("div",{style:{border:"1px solid #e8e8e8",overflow:"hidden",position:"relative"},children:["video"===e.type?(0,Vp.jsx)("video",{src:e.mediaUrl,style:{width:"100%",height:180,objectFit:"cover",display:"block",background:"#f5f5f5"}}):(0,Vp.jsx)("img",{src:e.mediaUrl,alt:e.caption,style:{width:"100%",height:180,objectFit:"cover",display:"block",background:"#f5f5f5"}}),(0,Vp.jsx)("span",{style:{position:"absolute",top:8,left:8,background:"video"===e.type?"#ea580c":"#111",color:"#fff",padding:"2px 8px",fontSize:9,letterSpacing:1.5,textTransform:"uppercase",fontWeight:700},children:"video"===e.type?"\ud83c\udfac Video":"\ud83d\udcf7 Photo"}),(0,Vp.jsxs)("div",{style:{padding:"12px 14px 14px"},children:[e.personName&&(0,Vp.jsx)("p",{style:{fontSize:12,fontWeight:600,color:"#111",marginBottom:4},children:e.personName}),e.caption&&(0,Vp.jsx)("p",{style:{fontSize:12,color:"#888",marginBottom:10,lineHeight:1.5},children:e.caption.length>60?e.caption.slice(0,60)+"\u2026":e.caption}),(0,Vp.jsx)("p",{style:{fontSize:10,color:"#bbb",marginBottom:12},children:e.createdAt?new Date(e.createdAt).toLocaleDateString():""}),(0,Vp.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,Vp.jsx)("button",{onClick:()=>{Q(e),W({personName:e.personName||"",caption:e.caption||"",type:e.type||"photo",mediaUrl:e.mediaUrl||""}),q(e.mediaUrl||""),window.scrollTo(0,0)},style:{flex:1,background:"transparent",border:"1px solid #ea580c",color:"#ea580c",padding:"7px",fontSize:10,letterSpacing:2,textTransform:"uppercase",fontWeight:600,cursor:"pointer"},children:"Edit"}),(0,Vp.jsx)("button",{onClick:async()=>{window.confirm("Delete this post?")&&(await ip(tp(qp,"citizenPosts/".concat(e.id))),nn.success("Deleted"))},style:{flex:1,background:"transparent",border:"1px solid #fee2e2",color:"#ef4444",padding:"7px",fontSize:10,letterSpacing:2,textTransform:"uppercase",fontWeight:600,cursor:"pointer"},children:"Delete"})]})]})]},e.id))})]}),(0,Vp.jsx)("style",{children:"\n        @media (max-width: 900px) {\n          .ov-grid { grid-template-columns: 1fr !important; }\n          .msg-grid { grid-template-columns: 1fr !important; }\n          .img-grid { grid-template-columns: 1fr !important; }\n        }\n      "})]})}function kf(){const{cart:e,removeFromCart:t,updateQty:n,cartTotal:r,cartCount:i}=$p(),{currentUser:o}=Kp();if(!o)return(0,Vp.jsx)(_e,{to:"/login"});const s=r>=5e4?0:2500;return(0,Vp.jsxs)("div",{style:{paddingTop:100,minHeight:"100vh",background:"#fff"},children:[(0,Vp.jsxs)("div",{style:{maxWidth:1200,margin:"0 auto",padding:"40px 40px 80px"},children:[(0,Vp.jsx)("h1",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:48,fontWeight:300,marginBottom:8},children:"Shopping Cart"}),(0,Vp.jsxs)("p",{style:{color:"#999",fontSize:13,marginBottom:48},children:[i," item",1!==i?"s":""]}),0===e.length?(0,Vp.jsxs)("div",{style:{textAlign:"center",padding:"80px 0"},children:[(0,Vp.jsx)("p",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:32,fontWeight:300,marginBottom:16,color:"#999"},children:"Your cart is empty"}),(0,Vp.jsx)(Oe,{to:"/",style:{display:"inline-block",border:"1px solid #111",padding:"13px 40px",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,color:"#111",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#111",e.currentTarget.style.color="#fff"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="#111"},children:"Continue Shopping"})]}):(0,Vp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 340px",gap:48,alignItems:"start"},className:"cart-layout",children:[(0,Vp.jsxs)("div",{children:[(0,Vp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr auto auto",gap:16,paddingBottom:12,borderBottom:"1px solid #e8e8e8",marginBottom:0},children:[(0,Vp.jsx)("span",{style:{fontSize:11,letterSpacing:2,textTransform:"uppercase",color:"#999",fontWeight:600},children:"Product"}),(0,Vp.jsx)("span",{style:{fontSize:11,letterSpacing:2,textTransform:"uppercase",color:"#999",fontWeight:600,minWidth:100,textAlign:"center"},children:"Qty"}),(0,Vp.jsx)("span",{style:{fontSize:11,letterSpacing:2,textTransform:"uppercase",color:"#999",fontWeight:600,minWidth:100,textAlign:"right"},children:"Total"})]}),e.map(e=>(0,Vp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr auto auto",gap:16,padding:"24px 0",borderBottom:"1px solid #f0f0f0",alignItems:"center"},children:[(0,Vp.jsxs)("div",{style:{display:"flex",gap:16,alignItems:"center"},children:[(0,Vp.jsx)(Oe,{to:"/product/".concat(e.id),children:(0,Vp.jsx)("img",{src:e.image||"https://via.placeholder.com/80x100",alt:e.name,style:{width:72,height:90,objectFit:"cover",background:"#f5f5f5"}})}),(0,Vp.jsxs)("div",{children:[(0,Vp.jsx)("p",{style:{fontSize:11,color:"#999",letterSpacing:1,textTransform:"uppercase",marginBottom:4},children:e.category}),(0,Vp.jsx)(Oe,{to:"/product/".concat(e.id),style:{fontSize:14,color:"#111",display:"block",marginBottom:4},children:e.name}),(0,Vp.jsxs)("p",{style:{fontSize:14,color:"#555"},children:["\u20a6",Number(e.price).toLocaleString()]}),(0,Vp.jsx)("button",{onClick:()=>t(e.id),style:{background:"none",border:"none",fontSize:11,color:"#999",cursor:"pointer",padding:0,marginTop:6,letterSpacing:1,textTransform:"uppercase",textDecoration:"underline"},children:"Remove"})]})]}),(0,Vp.jsxs)("div",{style:{display:"flex",alignItems:"center",border:"1px solid #e8e8e8",width:100},children:[(0,Vp.jsx)("button",{onClick:()=>n(e.id,e.qty-1),style:{width:32,height:36,background:"none",border:"none",cursor:"pointer",fontSize:16},children:"\u2212"}),(0,Vp.jsx)("span",{style:{flex:1,textAlign:"center",fontSize:14},children:e.qty}),(0,Vp.jsx)("button",{onClick:()=>n(e.id,e.qty+1),style:{width:32,height:36,background:"none",border:"none",cursor:"pointer",fontSize:16},children:"+"})]}),(0,Vp.jsxs)("p",{style:{fontSize:14,fontWeight:500,textAlign:"right",minWidth:100},children:["\u20a6",Number(e.price*e.qty).toLocaleString()]})]},e.id))]}),(0,Vp.jsxs)("div",{style:{background:"#fafafa",border:"1px solid #e8e8e8",padding:28},children:[(0,Vp.jsx)("h3",{style:{fontSize:13,letterSpacing:2,textTransform:"uppercase",fontWeight:600,marginBottom:24},children:"Order Summary"}),[{label:"Subtotal",value:"\u20a6".concat(Number(r).toLocaleString())},{label:"Shipping",value:0===s?"Free":"\u20a6".concat(Number(s).toLocaleString())}].map(e=>(0,Vp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:12,fontSize:13},children:[(0,Vp.jsx)("span",{style:{color:"#555"},children:e.label}),(0,Vp.jsx)("span",{style:{color:"Shipping"===e.label&&0===s?"#65a30d":"#111"},children:e.value})]},e.label)),(0,Vp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px solid #e8e8e8",paddingTop:16,marginTop:8,marginBottom:24},children:[(0,Vp.jsx)("span",{style:{fontWeight:600,fontSize:14},children:"Total"}),(0,Vp.jsxs)("span",{style:{fontWeight:600,fontSize:16},children:["\u20a6",Number(r+s).toLocaleString()]})]}),r<5e4&&(0,Vp.jsxs)("p",{style:{fontSize:11,color:"#ea580c",marginBottom:16,letterSpacing:.5},children:["Add \u20a6",Number(5e4-r).toLocaleString()," more for free shipping!"]}),(0,Vp.jsx)(Oe,{to:"/checkout",style:{display:"block",background:"#111",color:"#fff",textAlign:"center",padding:"15px",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,marginBottom:10,transition:"background 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#ea580c",onMouseLeave:e=>e.currentTarget.style.background="#111",children:"Checkout"}),(0,Vp.jsx)(Oe,{to:"/",style:{display:"block",textAlign:"center",fontSize:11,color:"#888",letterSpacing:1},children:"Continue Shopping"})]})]})]}),(0,Vp.jsx)("style",{children:"@media (max-width: 768px) { .cart-layout { grid-template-columns: 1fr !important; } }"})]})}function Sf(){const{cart:e,cartTotal:t,clearCart:n}=$p(),{currentUser:r,userProfile:o}=Kp(),s=oe(),[a,l]=(0,i.useState)({name:(null===o||void 0===o?void 0:o.name)||"",email:(null===r||void 0===r?void 0:r.email)||"",phone:"",address:"",city:"",state:""}),[c,u]=(0,i.useState)(!1);if(!r)return(0,Vp.jsx)(_e,{to:"/login"});if(0===e.length)return(0,Vp.jsx)(_e,{to:"/cart"});const d=t>=5e4?0:2500,h=t+d;return(0,Vp.jsxs)("div",{style:{paddingTop:100,minHeight:"100vh",background:"#fff"},children:[(0,Vp.jsxs)("div",{style:{maxWidth:1100,margin:"0 auto",padding:"40px 40px 80px"},children:[(0,Vp.jsx)("h1",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:48,fontWeight:300,marginBottom:48},children:"Checkout"}),(0,Vp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 380px",gap:60,alignItems:"start"},className:"checkout-layout",children:[(0,Vp.jsxs)("div",{children:[(0,Vp.jsx)("h3",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:700,marginBottom:28,paddingBottom:12,borderBottom:"1px solid #e8e8e8"},children:"Shipping Information"}),(0,Vp.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0 24px"},className:"form-grid",children:[{key:"name",label:"Full Name *",type:"text",span:!1},{key:"email",label:"Email Address *",type:"email",span:!1},{key:"phone",label:"Phone Number *",type:"tel",span:!0},{key:"address",label:"Street Address *",type:"text",span:!0},{key:"city",label:"City",type:"text",span:!1},{key:"state",label:"State",type:"text",span:!1}].map(e=>(0,Vp.jsxs)("div",{style:{gridColumn:e.span?"1 / -1":"span 1",marginBottom:20},children:[(0,Vp.jsx)("label",{style:{display:"block",fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,color:"#555",marginBottom:8},children:e.label}),(0,Vp.jsx)("input",{type:e.type,value:a[e.key],onChange:t=>l(Ue(Ue({},a),{},{[e.key]:t.target.value})),style:{width:"100%",padding:"12px 0",border:"none",borderBottom:"1px solid #ddd",fontSize:14,outline:"none",background:"transparent",transition:"border-color 0.2s",boxSizing:"border-box"},onFocus:e=>e.target.style.borderColor="#ea580c",onBlur:e=>e.target.style.borderColor="#ddd"})]},e.key))})]}),(0,Vp.jsxs)("div",{style:{background:"#fafafa",border:"1px solid #e8e8e8",padding:28,position:"sticky",top:100},children:[(0,Vp.jsx)("h3",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:700,marginBottom:20},children:"Your Order"}),e.map(e=>(0,Vp.jsxs)("div",{style:{display:"flex",gap:12,marginBottom:16,alignItems:"center"},children:[(0,Vp.jsx)("img",{src:e.image||"https://via.placeholder.com/52x64",alt:e.name,style:{width:52,height:64,objectFit:"cover",background:"#f0f0f0"}}),(0,Vp.jsxs)("div",{style:{flex:1},children:[(0,Vp.jsx)("p",{style:{fontSize:13,color:"#111",marginBottom:2},children:e.name}),(0,Vp.jsxs)("p",{style:{fontSize:12,color:"#888"},children:["\xd7",e.qty]})]}),(0,Vp.jsxs)("span",{style:{fontSize:13,fontWeight:500},children:["\u20a6",Number(e.price*e.qty).toLocaleString()]})]},e.id)),(0,Vp.jsxs)("div",{style:{borderTop:"1px solid #e8e8e8",paddingTop:16,marginTop:8},children:[[{label:"Subtotal",val:"\u20a6".concat(Number(t).toLocaleString())},{label:"Shipping",val:0===d?"Free":"\u20a6".concat(Number(d).toLocaleString())}].map(e=>(0,Vp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10,fontSize:13},children:[(0,Vp.jsx)("span",{style:{color:"#555"},children:e.label}),(0,Vp.jsx)("span",{children:e.val})]},e.label)),(0,Vp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:12,borderTop:"1px solid #e8e8e8",marginBottom:20},children:[(0,Vp.jsx)("span",{style:{fontWeight:700,fontSize:14},children:"Total"}),(0,Vp.jsxs)("span",{style:{fontWeight:700,fontSize:18},children:["\u20a6",Number(h).toLocaleString()]})]}),(0,Vp.jsx)("button",{onClick:async()=>{if(a.name&&a.email&&a.phone&&a.address){u(!0);try{const t={items:e,total:h,status:"pending",createdAt:Date.now(),paymentRef:"whatsapp-order",shippingAddress:a,userId:r.uid,userEmail:r.email},i=rp(tp(qp,"orders/".concat(r.uid)));await op(i,t),await op(tp(qp,"allOrders/".concat(i.key)),Ue(Ue({},t),{},{orderId:i.key}));const o=e.map((e,t)=>"".concat(t+1,". ").concat(e.name,"\n   Qty: ").concat(e.qty,"  |  \u20a6").concat(Number(e.price*e.qty).toLocaleString())).join("\n"),l=["\ud83d\udecd\ufe0f *NEW ORDER \u2014 DEBIT*","\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500","","*Customer Details*","\ud83d\udc64 Name: ".concat(a.name),"\ud83d\udce7 Email: ".concat(a.email),"\ud83d\udcde Phone: ".concat(a.phone),"\ud83d\udccd Address: ".concat(a.address),a.city?"\ud83c\udfd9\ufe0f City: ".concat(a.city):"",a.state?"\ud83d\uddfa\ufe0f State: ".concat(a.state):"","","\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500","*Order Items (".concat(e.length,")*"),o,"","\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500","\ud83d\ude9a Shipping: ".concat(0===d?"FREE":"\u20a6"+Number(d).toLocaleString()),"\ud83d\udcb0 *TOTAL: \u20a6".concat(Number(h).toLocaleString(),"*"),"","\ud83d\udd16 Order ID: #".concat(i.key.slice(-8).toUpperCase()),"","_Please reply to confirm and arrange payment._"].filter(e=>null!==e&&void 0!==e&&!0).join("\n");await n(),nn.success("Order sent! Redirecting to WhatsApp...");const c=encodeURIComponent(l),p="https://wa.me/".concat("2348124931302","?text=").concat(c);setTimeout(()=>{window.open(p,"_blank"),s("/dashboard"),u(!1)},1200)}catch(t){nn.error("Something went wrong: "+t.message),u(!1)}}else nn.error("Please fill all required fields")},disabled:c,style:{width:"100%",padding:"15px",background:c?"#888":"#111",color:"#fff",border:"none",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,cursor:c?"not-allowed":"pointer",marginBottom:10,transition:"background 0.2s"},onMouseEnter:e=>{c||(e.currentTarget.style.background="#ea580c")},onMouseLeave:e=>{c||(e.currentTarget.style.background="#111")},children:c?"Sending Order...":"\ud83d\udcf2  Order via WhatsApp"}),(0,Vp.jsx)("p",{style:{fontSize:11,color:"#aaa",textAlign:"center"},children:"\ud83d\udcac You'll be taken to WhatsApp to confirm"})]})]})]})]}),(0,Vp.jsx)("style",{children:"\n        @media (max-width: 768px) {\n          .checkout-layout { grid-template-columns: 1fr !important; }\n          .form-grid { grid-template-columns: 1fr !important; }\n        }\n      "})]})}function Cf(e){let{product:t,onClose:n}=e;const[r,o]=(0,i.useState)("idle"),[s,a]=(0,i.useState)(0),l=function(e){const t=((e.category||"")+" "+(e.name||"")).toLowerCase();return/glass|spec|sunglass|goggle|eyewear|shade/.test(t)?"glasses":/hat|cap|beanie|beret|turban|headwear|headband|snapback|bucket\s*hat|fedora|helmet|bonnet|durag|headscarf/.test(t)?"headwear":/belt|waist\s*band/.test(t)?"belt":/sock|ankle\s*wear|stocking/.test(t)?"socks":/shoe|sneaker|boot|sandal|slipper|footwear|loafer|heel|trainer/.test(t)?"shoes":/bag|backpack|handbag|purse|tote|clutch|wallet/.test(t)?"bag":/watch|bracelet|necklace|ring|chain|jewel/.test(t)?"accessory":/pant|trouser|jeans|denim|chino|legging|jogger/.test(t)?"pants":/short|nikker|knicker|boxer|brief|underwear|swim/.test(t)?"shorts":/dress|gown|skirt/.test(t)?"dress":/jacket|hoodie|coat|blazer|cardigan|sweater|sweatshirt/.test(t)?"jacket":"shirt"}(t),c="result"===r,u={shirt:"Top / Shirt",jacket:"Jacket",pants:"Trousers / Pants",shorts:"Shorts / Underwear",dress:"Dress / Skirt",glasses:"Glasses / Eyewear",headwear:"Hat / Headwear",belt:"Belt",socks:"Socks",shoes:"Shoes / Footwear",bag:"Bag",accessory:"Accessory"}[l]||"Garment",d="M 104 178 C 88 184 74 200 70 222 L 68 338 L 252 338 L 250 222 C 246 200 232 184 216 178 C 204 168 184 161 160 159 C 136 161 116 168 104 178 Z",h="M 104 178 C 88 184 74 200 70 222 L 40 280 C 34 298 32 318 36 332 L 72 322 C 70 308 72 290 78 274 L 98 226 L 104 178 Z",p="M 216 178 C 232 184 246 200 250 222 L 280 280 C 286 298 288 318 284 332 L 248 322 C 250 308 248 290 242 274 L 222 226 L 216 178 Z",f="".concat(d," ").concat(h," ").concat(p),g="M 100 330 C 96 360 94 390 95 430 L 155 430 C 155 395 156 360 157 330 Z",m="M 220 330 C 224 360 226 390 225 430 L 165 430 C 165 395 164 360 163 330 Z",y="".concat(g," ").concat(m),v="M 100 330 C 96 380 92 440 90 500 C 88 520 88 534 89 548 L 152 548 C 152 534 152 520 153 500 C 155 456 157 396 158 340 Z",b="M 220 330 C 224 380 228 440 230 500 C 232 520 232 534 231 548 L 168 548 C 168 534 168 520 167 500 C 165 456 163 396 162 340 Z",x="".concat(v," ").concat(b),_="M 104 178 C 88 184 74 200 70 232 C 60 280 58 330 62 400 C 66 460 76 510 88 548 L 232 548 C 244 510 254 460 258 400 C 262 330 260 280 250 232 C 246 200 232 184 216 178 C 204 168 184 161 160 159 C 136 161 116 168 104 178 Z",w="M 88 326 C 88 318 120 312 160 312 C 200 312 232 318 232 326 L 232 352 C 232 360 200 366 160 366 C 120 366 88 360 88 352 Z",k="M 96 490 C 94 514 93 534 94 548 C 94 556 96 564 100 568 L 150 568 C 154 564 156 556 156 548 C 157 534 157 514 155 490 Z",S="M 224 490 C 226 514 227 534 226 548 C 226 556 224 564 220 568 L 170 568 C 166 564 164 556 164 548 C 163 534 163 514 165 490 Z",C="".concat(k," ").concat(S),T="".concat("M 88 540 C 86 548 86 558 90 564 L 154 564 C 158 558 158 548 154 540 Z"," ").concat("M 166 540 C 162 548 162 558 166 564 L 230 564 C 234 558 234 548 230 540 Z"),E="M 118 68 L 202 68 L 202 96 L 118 96 Z",j="M 110 68 C 110 30 130 12 160 10 C 190 12 210 30 210 68 Z",I="shirt"===l||"jacket"===l,P="dress"===l,N="pants"===l,R="shorts"===l,O="belt"===l,L="socks"===l,A="shoes"===l,D="glasses"===l,M="headwear"===l,z=P?_:I?f:N?x:R?y:O?w:L?C:A?T:D?E:M?j:f,F=I||P?{x:32,y:148,w:256,h:210}:N?{x:70,y:300,w:180,h:265}:R?{x:80,y:305,w:160,h:148}:O?{x:82,y:308,w:156,h:62}:L?{x:86,y:482,w:148,h:92}:A?{x:80,y:532,w:160,h:44}:D?{x:112,y:62,w:96,h:40}:M?{x:106,y:8,w:108,h:68}:{x:32,y:148,w:256,h:210};return(0,Vp.jsxs)("div",{style:{position:"fixed",inset:0,zIndex:9999,background:"rgba(6,6,9,0.97)",display:"flex",alignItems:"center",justifyContent:"center",padding:"12px 16px",overflowY:"auto"},children:[(0,Vp.jsx)("button",{onClick:n,style:{position:"fixed",top:16,right:18,background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.1)",color:"#888",width:34,height:34,borderRadius:"50%",fontSize:16,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10,transition:"background 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="rgba(255,255,255,0.14)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.06)",children:"\u2715"}),(0,Vp.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:340},children:[(0,Vp.jsxs)("div",{style:{textAlign:"center",marginBottom:14},children:[(0,Vp.jsxs)("p",{style:{fontSize:9,letterSpacing:4,textTransform:"uppercase",color:"#444",marginBottom:4},children:["Virtual Try-On \xb7 ",u]}),(0,Vp.jsx)("h2",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:21,fontWeight:300,color:"#e0e0e0",lineHeight:1.25,margin:0},children:t.name})]}),(0,Vp.jsxs)("div",{style:{width:"100%",position:"relative",overflow:"hidden",background:"linear-gradient(168deg, #16161b 0%, #0e0e12 100%)",borderRadius:4,boxShadow:"0 0 0 1px rgba(255,255,255,0.04), 0 40px 100px rgba(0,0,0,0.8)",marginBottom:14},children:[(0,Vp.jsxs)("svg",{viewBox:"0 0 320 580",style:{display:"block",width:"100%"},xmlns:"http://www.w3.org/2000/svg",children:[(0,Vp.jsxs)("defs",{children:[(0,Vp.jsxs)("linearGradient",{id:"skBody",x1:"0.1",y1:"0",x2:"0.9",y2:"1",children:[(0,Vp.jsx)("stop",{offset:"0%",stopColor:"#d4956a"}),(0,Vp.jsx)("stop",{offset:"100%",stopColor:"#b87040"})]}),(0,Vp.jsxs)("linearGradient",{id:"skFace",x1:"0",y1:"0",x2:"0.1",y2:"1",children:[(0,Vp.jsx)("stop",{offset:"0%",stopColor:"#e2a878"}),(0,Vp.jsx)("stop",{offset:"100%",stopColor:"#c47040"})]}),(0,Vp.jsxs)("linearGradient",{id:"trL",x1:"1",y1:"0",x2:"0",y2:"1",children:[(0,Vp.jsx)("stop",{offset:"0%",stopColor:"#1e2438"}),(0,Vp.jsx)("stop",{offset:"100%",stopColor:"#121624"})]}),(0,Vp.jsxs)("linearGradient",{id:"trR",x1:"0",y1:"0",x2:"1",y2:"1",children:[(0,Vp.jsx)("stop",{offset:"0%",stopColor:"#1e2438"}),(0,Vp.jsx)("stop",{offset:"100%",stopColor:"#121624"})]}),(0,Vp.jsxs)("linearGradient",{id:"idleFill",x1:"0",y1:"0",x2:"0.2",y2:"1",children:[(0,Vp.jsx)("stop",{offset:"0%",stopColor:"#2a2a2a"}),(0,Vp.jsx)("stop",{offset:"100%",stopColor:"#1c1c1c"})]}),(0,Vp.jsxs)("linearGradient",{id:"scanGrad",x1:"0",y1:"0",x2:"1",y2:"0",children:[(0,Vp.jsx)("stop",{offset:"0%",stopColor:"transparent"}),(0,Vp.jsx)("stop",{offset:"25%",stopColor:"#00e5ff",stopOpacity:"0.8"}),(0,Vp.jsx)("stop",{offset:"50%",stopColor:"#fff"}),(0,Vp.jsx)("stop",{offset:"75%",stopColor:"#00e5ff",stopOpacity:"0.8"}),(0,Vp.jsx)("stop",{offset:"100%",stopColor:"transparent"})]}),(0,Vp.jsxs)("linearGradient",{id:"scanGlow",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Vp.jsx)("stop",{offset:"0%",stopColor:"#00e5ff",stopOpacity:"0.3"}),(0,Vp.jsx)("stop",{offset:"100%",stopColor:"#00e5ff",stopOpacity:"0"})]}),(0,Vp.jsx)("clipPath",{id:"gc",children:(0,Vp.jsx)("path",{d:z,fillRule:"nonzero"})}),(0,Vp.jsx)("clipPath",{id:"bodyOnly",children:(0,Vp.jsx)("path",{d:d})}),(0,Vp.jsx)("clipPath",{id:"lowerOnly",children:(0,Vp.jsx)("path",{d:R?y:x,fillRule:"nonzero"})}),(0,Vp.jsx)("filter",{id:"fsh",x:"-25%",y:"-25%",width:"150%",height:"150%",children:(0,Vp.jsx)("feDropShadow",{dx:"0",dy:"5",stdDeviation:"9",floodColor:"#000",floodOpacity:"0.55"})}),(0,Vp.jsx)("filter",{id:"fshSm",x:"-15%",y:"-15%",width:"130%",height:"130%",children:(0,Vp.jsx)("feDropShadow",{dx:"0",dy:"2",stdDeviation:"4",floodColor:"#000",floodOpacity:"0.4"})}),(0,Vp.jsx)("filter",{id:"glassBlur",children:(0,Vp.jsx)("feGaussianBlur",{stdDeviation:"0.5"})})]}),(0,Vp.jsx)("ellipse",{cx:"160",cy:"574",rx:"80",ry:"7",fill:"rgba(0,0,0,0.45)"}),(0,Vp.jsx)("path",{d:"M 94 540 C 92 548 92 558 95 562 L 154 562 C 157 558 157 548 154 540 Z",fill:"#111"}),(0,Vp.jsx)("path",{d:"M 92 556 C 92 562 96 566 102 567 L 150 567 C 156 566 157 562 155 556 Z",fill:"#0a0a0a"}),(0,Vp.jsx)("path",{d:"M 92 562 Q 123 568 155 562",fill:"none",stroke:"#1a1a1a",strokeWidth:"1.2"}),(0,Vp.jsx)("path",{d:"M 166 540 C 163 548 163 558 166 562 L 225 562 C 228 558 228 548 225 540 Z",fill:"#111"}),(0,Vp.jsx)("path",{d:"M 164 556 C 164 562 168 566 174 567 L 222 567 C 228 566 229 562 227 556 Z",fill:"#0a0a0a"}),(0,Vp.jsx)("path",{d:"M 164 562 Q 195 568 227 562",fill:"none",stroke:"#1a1a1a",strokeWidth:"1.2"}),(0,Vp.jsx)("path",{d:k,fill:"#222",opacity:"0.7"}),(0,Vp.jsx)("path",{d:S,fill:"#222",opacity:"0.7"}),(0,Vp.jsx)("path",{d:"M 112 332 C 108 382 104 440 102 496 C 100 518 100 534 101 548 L 152 548 C 152 534 152 518 153 494 C 155 454 157 396 158 344 Z",fill:"url(#trL)"}),(0,Vp.jsx)("path",{d:"M 208 332 C 212 382 216 440 218 496 C 220 518 220 534 219 548 L 168 548 C 168 534 168 518 167 494 C 165 454 163 396 162 344 Z",fill:"url(#trR)"}),(0,Vp.jsx)("path",{d:"M 112 332 C 130 350 160 352 208 332 L 202 344 C 178 360 142 360 118 344 Z",fill:"#171b2c"}),(0,Vp.jsx)("line",{x1:"120",y1:"346",x2:"108",y2:"546",stroke:"rgba(255,255,255,0.035)",strokeWidth:"1"}),(0,Vp.jsx)("line",{x1:"200",y1:"346",x2:"212",y2:"546",stroke:"rgba(255,255,255,0.035)",strokeWidth:"1"}),(I||P)&&!c&&(0,Vp.jsx)("path",{d:P?_:f,fill:"url(#idleFill)",fillRule:"nonzero"}),R&&!c&&(0,Vp.jsx)("path",{d:y,fill:"url(#idleFill)",fillRule:"nonzero"}),c&&(0,Vp.jsxs)("g",{children:[t.image?(0,Vp.jsx)("image",{href:t.image,x:F.x,y:F.y,width:F.w,height:F.h,preserveAspectRatio:"xMidYMid slice",clipPath:"url(#gc)"}):(0,Vp.jsx)("path",{d:z,fill:"#555",fillRule:"nonzero"}),(I||P)&&(0,Vp.jsxs)(Vp.Fragment,{children:[(0,Vp.jsx)("path",{d:"M 104 178 C 88 184 74 200 70 222 L 68 338 L 138 338 L 138 165 C 124 168 113 174 104 178 Z",fill:"rgba(0,0,0,0.24)",clipPath:"url(#bodyOnly)"}),(0,Vp.jsx)("path",{d:"M 216 178 C 232 184 246 200 250 222 L 252 338 L 190 338 L 190 165 C 204 168 212 174 216 178 Z",fill:"rgba(0,0,0,0.18)",clipPath:"url(#bodyOnly)"}),(0,Vp.jsx)("path",{d:"M 140 159 L 180 159 L 190 200 L 186 338 L 134 338 L 130 200 Z",fill:"rgba(255,255,255,0.055)",clipPath:"url(#bodyOnly)"}),(0,Vp.jsx)("path",{d:h,fill:"rgba(0,0,0,0.30)"}),(0,Vp.jsx)("path",{d:p,fill:"rgba(255,255,255,0.04)"}),(0,Vp.jsx)("path",{d:f,fill:"none",stroke:"rgba(0,0,0,0.55)",strokeWidth:"12",fillRule:"nonzero"}),(0,Vp.jsx)("path",{d:"M 68 332 Q 160 342 252 332",fill:"none",stroke:"rgba(0,0,0,0.38)",strokeWidth:"3"}),(0,Vp.jsx)("path",{d:"M 70 222 C 68 270 68 308 68 338",fill:"none",stroke:"rgba(0,0,0,0.25)",strokeWidth:"1.5"}),(0,Vp.jsx)("path",{d:"M 250 222 C 252 270 252 308 252 338",fill:"none",stroke:"rgba(0,0,0,0.25)",strokeWidth:"1.5"}),(0,Vp.jsx)("path",{d:"M 34 324 Q 54 334 72 326",fill:"none",stroke:"rgba(0,0,0,0.4)",strokeWidth:"2.5"}),(0,Vp.jsx)("path",{d:"M 286 324 Q 266 334 248 326",fill:"none",stroke:"rgba(0,0,0,0.4)",strokeWidth:"2.5"}),(0,Vp.jsx)("path",{d:"M 136 172 C 136 162 142 154 160 152 C 178 154 184 162 184 172 L 178 180 C 170 174 166 171 160 171 C 154 171 150 174 142 180 Z",fill:"#f2eeea",filter:"url(#fshSm)"}),(0,Vp.jsx)("path",{d:"M 142 180 C 132 192 120 210 118 228 L 134 223 C 136 208 144 194 152 184 Z",fill:"#ece8e3"}),(0,Vp.jsx)("path",{d:"M 178 180 C 188 192 200 210 202 228 L 186 223 C 184 208 176 194 168 184 Z",fill:"#ece8e3"}),(0,Vp.jsx)("path",{d:"M 136 181 C 145 187 155 190 160 190 C 165 190 175 187 184 181",fill:"none",stroke:"rgba(0,0,0,0.22)",strokeWidth:"2"}),(0,Vp.jsx)("line",{x1:"160",y1:"194",x2:"160",y2:"336",stroke:"rgba(0,0,0,0.13)",strokeWidth:"1.5"}),[212,237,262,287,312].map((e,t)=>(0,Vp.jsxs)("g",{children:[(0,Vp.jsx)("circle",{cx:"160",cy:e,r:"3.5",fill:"#ddd",stroke:"rgba(0,0,0,0.18)",strokeWidth:"0.8"}),(0,Vp.jsx)("line",{x1:"158.6",y1:e,x2:"161.4",y2:e,stroke:"rgba(0,0,0,0.28)",strokeWidth:"0.7"}),(0,Vp.jsx)("line",{x1:"160",y1:e-1.4,x2:"160",y2:e+1.4,stroke:"rgba(0,0,0,0.28)",strokeWidth:"0.7"})]},t))]}),P&&(0,Vp.jsxs)(Vp.Fragment,{children:[(0,Vp.jsx)("path",{d:"M 88 340 C 72 380 68 440 72 510 L 100 510 C 96 444 98 382 104 342 Z",fill:"rgba(0,0,0,0.2)"}),(0,Vp.jsx)("path",{d:"M 232 340 C 248 380 252 440 248 510 L 220 510 C 224 444 222 382 216 342 Z",fill:"rgba(0,0,0,0.2)"}),(0,Vp.jsx)("path",{d:"M 68 542 Q 160 554 252 542",fill:"none",stroke:"rgba(0,0,0,0.3)",strokeWidth:"2.5"}),(0,Vp.jsx)("path",{d:_,fill:"none",stroke:"rgba(0,0,0,0.5)",strokeWidth:"10"})]}),(R||N)&&(0,Vp.jsxs)(Vp.Fragment,{children:[(0,Vp.jsx)("path",{d:N?v:g,fill:"rgba(0,0,0,0.22)"}),(0,Vp.jsx)("path",{d:N?b:m,fill:"rgba(255,255,255,0.04)"}),(0,Vp.jsx)("path",{d:"M 158 332 C 159 355 161 370 162 332",fill:"none",stroke:"rgba(0,0,0,0.35)",strokeWidth:"1.5"}),(0,Vp.jsx)("path",{d:N?x:y,fill:"none",stroke:"rgba(0,0,0,0.5)",strokeWidth:"10",fillRule:"nonzero"}),(0,Vp.jsx)("path",{d:"M 100 330 Q 160 340 220 330",fill:"none",stroke:"rgba(0,0,0,0.4)",strokeWidth:"2"}),(0,Vp.jsx)("line",{x1:"130",y1:"342",x2:"120",y2:N?548:432,stroke:"rgba(255,255,255,0.06)",strokeWidth:"1.2"}),(0,Vp.jsx)("line",{x1:"190",y1:"342",x2:"200",y2:N?548:432,stroke:"rgba(255,255,255,0.06)",strokeWidth:"1.2"}),(0,Vp.jsx)("path",{d:N?"M 90 544 Q 124 552 155 548 M 165 548 Q 196 552 230 544":"M 95 426 Q 127 434 157 430 M 163 430 Q 193 434 225 426",fill:"none",stroke:"rgba(0,0,0,0.35)",strokeWidth:"2"})]}),O&&(0,Vp.jsxs)(Vp.Fragment,{children:[(0,Vp.jsx)("path",{d:w,fill:"none",stroke:"rgba(0,0,0,0.55)",strokeWidth:"8"}),(0,Vp.jsx)("path",{d:"M 88 326 C 88 318 120 312 160 312 L 160 366 C 120 366 88 360 88 352 Z",fill:"rgba(0,0,0,0.22)"}),(0,Vp.jsx)("path",{d:"M 90 330 Q 160 323 230 330",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"1",strokeDasharray:"4,4"}),(0,Vp.jsx)("path",{d:"M 90 348 Q 160 355 230 348",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"1",strokeDasharray:"4,4"}),(0,Vp.jsx)("rect",{x:"146",y:"322",width:"28",height:"26",rx:"3",fill:"#c8a050",stroke:"#a07830",strokeWidth:"1.5"}),(0,Vp.jsx)("rect",{x:"150",y:"326",width:"20",height:"18",rx:"2",fill:"none",stroke:"#806020",strokeWidth:"1"}),(0,Vp.jsx)("line",{x1:"160",y1:"326",x2:"160",y2:"344",stroke:"#806020",strokeWidth:"2",strokeLinecap:"round"}),(0,Vp.jsx)("path",{d:"M 148 324 L 170 324",stroke:"rgba(255,220,100,0.5)",strokeWidth:"1",strokeLinecap:"round"}),[178,192,206,220].map((e,t)=>(0,Vp.jsx)("ellipse",{cx:e,cy:"339",rx:"2.5",ry:"3.5",fill:"rgba(0,0,0,0.4)",stroke:"rgba(0,0,0,0.3)",strokeWidth:"0.5"},t))]}),L&&(0,Vp.jsxs)(Vp.Fragment,{children:[(0,Vp.jsx)("path",{d:k,fill:"rgba(0,0,0,0.28)"}),(0,Vp.jsx)("path",{d:k,fill:"none",stroke:"rgba(0,0,0,0.5)",strokeWidth:"8"}),(0,Vp.jsx)("path",{d:"M 94 492 Q 124 486 155 492",fill:"none",stroke:"rgba(255,255,255,0.15)",strokeWidth:"2.5"}),[502,512,522,532].map((e,t)=>(0,Vp.jsx)("path",{d:"M 96 ".concat(e," Q 124 ").concat(e-3," 154 ").concat(e),fill:"none",stroke:"rgba(255,255,255,0.07)",strokeWidth:"1"},t)),(0,Vp.jsx)("path",{d:S,fill:"rgba(0,0,0,0.28)"}),(0,Vp.jsx)("path",{d:S,fill:"none",stroke:"rgba(0,0,0,0.5)",strokeWidth:"8"}),(0,Vp.jsx)("path",{d:"M 165 492 Q 195 486 226 492",fill:"none",stroke:"rgba(255,255,255,0.15)",strokeWidth:"2.5"}),[502,512,522,532].map((e,t)=>(0,Vp.jsx)("path",{d:"M 166 ".concat(e," Q 195 ").concat(e-3," 225 ").concat(e),fill:"none",stroke:"rgba(255,255,255,0.07)",strokeWidth:"1"},t))]}),A&&(0,Vp.jsxs)(Vp.Fragment,{children:[(0,Vp.jsx)("path",{d:T,fill:"none",stroke:"rgba(0,0,0,0.55)",strokeWidth:"8",fillRule:"nonzero"}),(0,Vp.jsx)("path",{d:"M 88 558 Q 122 565 156 560",fill:"none",stroke:"rgba(0,0,0,0.5)",strokeWidth:"3"}),(0,Vp.jsx)("path",{d:"M 164 558 Q 197 565 232 560",fill:"none",stroke:"rgba(0,0,0,0.5)",strokeWidth:"3"}),(0,Vp.jsx)("path",{d:"M 92 542 Q 100 538 116 540",fill:"none",stroke:"rgba(255,255,255,0.18)",strokeWidth:"1.5",strokeLinecap:"round"}),(0,Vp.jsx)("path",{d:"M 168 542 Q 176 538 192 540",fill:"none",stroke:"rgba(255,255,255,0.18)",strokeWidth:"1.5",strokeLinecap:"round"})]}),D&&(0,Vp.jsxs)(Vp.Fragment,{children:[(0,Vp.jsx)("path",{d:E,fill:"rgba(0,0,0,0.18)",clipPath:"url(#gc)"}),(0,Vp.jsx)("rect",{x:"118",y:"69",width:"36",height:"24",rx:"8",fill:"none",stroke:"rgba(0,0,0,0.7)",strokeWidth:"2.5"}),(0,Vp.jsx)("rect",{x:"166",y:"69",width:"36",height:"24",rx:"8",fill:"none",stroke:"rgba(0,0,0,0.7)",strokeWidth:"2.5"}),(0,Vp.jsx)("path",{d:"M 154 81 Q 160 78 166 81",fill:"none",stroke:"rgba(0,0,0,0.6)",strokeWidth:"2",strokeLinecap:"round"}),(0,Vp.jsx)("path",{d:"M 118 76 C 110 76 106 80 104 86",fill:"none",stroke:"rgba(0,0,0,0.6)",strokeWidth:"2",strokeLinecap:"round"}),(0,Vp.jsx)("path",{d:"M 202 76 C 210 76 214 80 216 86",fill:"none",stroke:"rgba(0,0,0,0.6)",strokeWidth:"2",strokeLinecap:"round"}),(0,Vp.jsx)("path",{d:"M 122 72 Q 126 70 130 72",fill:"none",stroke:"rgba(255,255,255,0.5)",strokeWidth:"1.2",strokeLinecap:"round"}),(0,Vp.jsx)("path",{d:"M 170 72 Q 174 70 178 72",fill:"none",stroke:"rgba(255,255,255,0.5)",strokeWidth:"1.2",strokeLinecap:"round"}),(0,Vp.jsx)("path",{d:E,fill:"none",stroke:"rgba(0,0,0,0.3)",strokeWidth:"4"})]}),M&&(0,Vp.jsxs)(Vp.Fragment,{children:[(0,Vp.jsx)("path",{d:"M 110 68 C 118 74 142 78 160 78 C 178 78 202 74 210 68",fill:"none",stroke:"rgba(0,0,0,0.4)",strokeWidth:"6",strokeLinecap:"round"}),(0,Vp.jsx)("path",{d:"M 160 10 L 160 68",fill:"none",stroke:"rgba(0,0,0,0.2)",strokeWidth:"1.5",strokeDasharray:"3,3"}),(0,Vp.jsx)("path",{d:"M 110 68 C 110 30 130 12 160 10 L 160 68 Z",fill:"rgba(0,0,0,0.18)"}),(0,Vp.jsx)("path",{d:j,fill:"none",stroke:"rgba(0,0,0,0.5)",strokeWidth:"8"}),(0,Vp.jsx)("path",{d:"M 116 68 Q 160 75 204 68 Q 204 80 160 82 Q 116 80 116 68 Z",fill:"rgba(0,0,0,0.14)"})]})]}),(0,Vp.jsx)("path",{d:"M 36 328 C 32 344 32 362 36 376 L 60 368 C 58 354 58 338 62 324 Z",fill:"url(#skBody)"}),(0,Vp.jsx)("path",{d:"M 34 374 C 32 386 34 400 40 406 C 48 414 62 410 66 402 C 70 393 68 379 62 370 Z",fill:"url(#skBody)"}),(0,Vp.jsx)("path",{d:"M 36 386 Q 42 396 50 398",fill:"none",stroke:"rgba(140,80,40,0.3)",strokeWidth:"1"}),(0,Vp.jsx)("path",{d:"M 284 328 C 288 344 288 362 284 376 L 260 368 C 262 354 262 338 258 324 Z",fill:"url(#skBody)"}),(0,Vp.jsx)("path",{d:"M 286 374 C 288 386 286 400 280 406 C 272 414 258 410 254 402 C 250 393 252 379 258 370 Z",fill:"url(#skBody)"}),(0,Vp.jsx)("path",{d:"M 284 386 Q 278 396 270 398",fill:"none",stroke:"rgba(140,80,40,0.3)",strokeWidth:"1"}),(0,Vp.jsx)("path",{d:"M 146 122 C 142 122 136 128 136 138 L 136 166 C 141 173 150 177 160 177 C 170 177 179 173 184 166 L 184 138 C 184 128 178 122 174 122 Z",fill:"url(#skFace)"}),(0,Vp.jsx)("ellipse",{cx:"160",cy:"84",rx:"43",ry:"50",fill:"url(#skFace)",filter:"url(#fsh)"}),(0,Vp.jsx)("path",{d:"M 117 72 C 117 38 136 20 160 19 C 184 20 203 38 203 72 C 199 50 186 34 160 33 C 134 34 121 50 117 72 Z",fill:"#160c05"}),(0,Vp.jsx)("path",{d:"M 117 72 C 117 56 119 44 126 36 C 118 50 117 64 117 76 Z",fill:"#100804"}),(0,Vp.jsx)("path",{d:"M 203 72 C 203 56 201 44 194 36 C 202 50 203 64 203 76 Z",fill:"#100804"}),(0,Vp.jsx)("path",{d:"M 140 24 C 155 20 170 21 178 28",fill:"none",stroke:"rgba(255,255,255,0.06)",strokeWidth:"3",strokeLinecap:"round"}),(0,Vp.jsx)("path",{d:"M 117 86 C 112 86 108 91 108 98 C 108 105 112 110 117 110 C 119 110 121 108 121 105 L 121 90 C 121 88 119 86 117 86 Z",fill:"#c07848"}),(0,Vp.jsx)("path",{d:"M 114 93 C 113 96 113 100 114 103",fill:"none",stroke:"#a06030",strokeWidth:"1",opacity:"0.5"}),(0,Vp.jsx)("path",{d:"M 203 86 C 208 86 212 91 212 98 C 212 105 208 110 203 110 C 201 110 199 108 199 105 L 199 90 C 199 88 201 86 203 86 Z",fill:"#c07848"}),(0,Vp.jsx)("path",{d:"M 135 70 C 141 64 151 63 157 66",fill:"none",stroke:"#160c05",strokeWidth:"3",strokeLinecap:"round"}),(0,Vp.jsx)("path",{d:"M 185 70 C 179 64 169 63 163 66",fill:"none",stroke:"#160c05",strokeWidth:"3",strokeLinecap:"round"}),(0,Vp.jsx)("ellipse",{cx:"147",cy:"80",rx:"10",ry:"8",fill:"#fff"}),(0,Vp.jsx)("ellipse",{cx:"173",cy:"80",rx:"10",ry:"8",fill:"#fff"}),(0,Vp.jsx)("ellipse",{cx:"148",cy:"80",rx:"6",ry:"6",fill:"#3e2415"}),(0,Vp.jsx)("ellipse",{cx:"174",cy:"80",rx:"6",ry:"6",fill:"#3e2415"}),(0,Vp.jsx)("ellipse",{cx:"148",cy:"80",rx:"3.2",ry:"3.2",fill:"#090504"}),(0,Vp.jsx)("ellipse",{cx:"174",cy:"80",rx:"3.2",ry:"3.2",fill:"#090504"}),(0,Vp.jsx)("circle",{cx:"150",cy:"78",r:"1.8",fill:"rgba(255,255,255,0.8)"}),(0,Vp.jsx)("circle",{cx:"176",cy:"78",r:"1.8",fill:"rgba(255,255,255,0.8)"}),(0,Vp.jsx)("path",{d:"M 158 88 C 157 95 154 101 150 103 C 155 106 165 106 170 103 C 166 101 163 95 162 88 Z",fill:"rgba(0,0,0,0.08)"}),(0,Vp.jsx)("path",{d:"M 152 103 C 155 101 165 101 168 103",fill:"none",stroke:"rgba(120,60,25,0.55)",strokeWidth:"1.5",strokeLinecap:"round"}),(0,Vp.jsx)("path",{d:"M 149 113 C 155 118 165 118 171 113",fill:"none",stroke:"#944830",strokeWidth:"2.2",strokeLinecap:"round"}),(0,Vp.jsx)("path",{d:"M 152 116 C 156 122 164 122 168 116",fill:"rgba(175,85,50,0.2)"}),(0,Vp.jsx)("ellipse",{cx:"160",cy:"126",rx:"22",ry:"6",fill:"rgba(0,0,0,0.09)"}),"scanning"===r&&(0,Vp.jsxs)("g",{children:[(0,Vp.jsx)("rect",{x:"0",y:"0",width:"320",height:580*s/100,fill:"rgba(0,229,255,0.038)"}),(0,Vp.jsx)("rect",{x:"0",y:580*s/100-2,width:"320",height:"4",fill:"url(#scanGrad)"}),(0,Vp.jsx)("rect",{x:"0",y:580*s/100+2,width:"320",height:"20",fill:"url(#scanGlow)",opacity:"0.5"})]})]}),(0,Vp.jsxs)("div",{style:{position:"absolute",bottom:0,left:0,right:0,padding:"10px 16px",background:"linear-gradient(0deg, rgba(0,0,0,0.72) 0%, transparent 100%)",textAlign:"center"},children:["idle"===r&&(0,Vp.jsx)("p",{style:{fontSize:9,color:"rgba(255,255,255,0.16)",letterSpacing:3,textTransform:"uppercase"},children:"Awaiting scan"}),"scanning"===r&&(0,Vp.jsxs)("p",{style:{fontSize:9,color:"#00e5ff",letterSpacing:2.5,textTransform:"uppercase",fontWeight:600},children:["Mapping ",u," \u2014 ",s,"%"]}),"result"===r&&(0,Vp.jsx)("p",{style:{fontSize:9,color:"rgba(255,255,255,0.4)",letterSpacing:3,textTransform:"uppercase"},children:"\u2726 Fit confirmed"})]})]}),"scanning"===r&&(0,Vp.jsx)("div",{style:{width:"100%",height:2,background:"rgba(255,255,255,0.05)",borderRadius:2,marginBottom:14,overflow:"hidden"},children:(0,Vp.jsx)("div",{style:{height:"100%",width:"".concat(s,"%"),background:"linear-gradient(90deg, #0891b2, #00e5ff)",transition:"width 0.03s linear",borderRadius:2}})}),"idle"===r&&(0,Vp.jsx)("button",{onClick:()=>{o("scanning"),a(0);let e=0;const t=setInterval(()=>{e+=1.4;const n=Math.min(Math.round(e),100);a(n),n>=100&&(clearInterval(t),setTimeout(()=>o("result"),250))},22)},style:{padding:"13px 52px",background:"linear-gradient(135deg, #ea580c 0%, #c2410c 100%)",color:"#fff",border:"none",fontSize:10,letterSpacing:3,textTransform:"uppercase",fontWeight:700,cursor:"pointer",borderRadius:2,boxShadow:"0 4px 22px rgba(234,88,12,0.4)",transition:"transform 0.15s, box-shadow 0.15s"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 32px rgba(234,88,12,0.55)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 22px rgba(234,88,12,0.4)"},children:"\u2726 Start Try-On"}),"scanning"===r&&(0,Vp.jsx)("p",{style:{fontSize:10,color:"#3a3a3a",letterSpacing:2.5,textTransform:"uppercase"},children:"Analysing\u2026"}),"result"===r&&(0,Vp.jsxs)("div",{style:{display:"flex",gap:10,width:"100%"},children:[(0,Vp.jsx)("button",{onClick:()=>{o("idle"),a(0)},style:{flex:1,padding:"13px",background:"transparent",color:"rgba(255,255,255,0.45)",border:"1px solid rgba(255,255,255,0.1)",fontSize:10,letterSpacing:2,textTransform:"uppercase",fontWeight:600,cursor:"pointer",borderRadius:2,transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor="rgba(255,255,255,0.28)",e.currentTarget.style.color="#fff"},onMouseLeave:e=>{e.currentTarget.style.borderColor="rgba(255,255,255,0.1)",e.currentTarget.style.color="rgba(255,255,255,0.45)"},children:"Try Again"}),(0,Vp.jsx)("button",{onClick:n,style:{flex:1,padding:"13px",background:"linear-gradient(135deg, #ea580c, #c2410c)",color:"#fff",border:"none",fontSize:10,letterSpacing:2,textTransform:"uppercase",fontWeight:700,cursor:"pointer",borderRadius:2,boxShadow:"0 4px 16px rgba(234,88,12,0.38)"},children:"Looks Great!"})]}),(0,Vp.jsx)("p",{style:{fontSize:9,color:"#252525",marginTop:12,textAlign:"center",lineHeight:1.9},children:"Virtual try-on is a style visualisation. Actual fit may vary."})]})]})}function Tf(e){let{sizes:t,onClose:n}=e;return(0,Vp.jsx)("div",{style:{position:"fixed",inset:0,zIndex:9e3,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",padding:24},onClick:n,children:(0,Vp.jsxs)("div",{style:{background:"#fff",padding:36,maxWidth:480,width:"100%",position:"relative"},onClick:e=>e.stopPropagation(),children:[(0,Vp.jsx)("button",{onClick:n,style:{position:"absolute",top:16,right:20,background:"none",border:"none",fontSize:22,cursor:"pointer",color:"#999"},children:"\u2715"}),(0,Vp.jsx)("h3",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:28,fontWeight:300,marginBottom:6},children:"Size Guide"}),(0,Vp.jsx)("p",{style:{fontSize:11,color:"#999",letterSpacing:1,textTransform:"uppercase",marginBottom:24},children:"All measurements in inches"}),(0,Vp.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Vp.jsx)("thead",{children:(0,Vp.jsx)("tr",{style:{borderBottom:"2px solid #111"},children:["Size","Chest","Length"].map(e=>(0,Vp.jsx)("th",{style:{padding:"10px 12px",textAlign:"left",fontSize:10,letterSpacing:2,textTransform:"uppercase",fontWeight:700,color:"#555"},children:e},e))})}),(0,Vp.jsx)("tbody",{children:t.map((e,t)=>(0,Vp.jsxs)("tr",{style:{borderBottom:"1px solid #f0f0f0",background:t%2===0?"#fafafa":"#fff"},children:[(0,Vp.jsx)("td",{style:{padding:"12px",fontWeight:700,fontSize:14,letterSpacing:1},children:e.label}),(0,Vp.jsx)("td",{style:{padding:"12px",fontSize:14,color:"#555"},children:e.chest?"".concat(e.chest,'"'):"\u2014"}),(0,Vp.jsx)("td",{style:{padding:"12px",fontSize:14,color:"#555"},children:e.length?"".concat(e.length,'"'):"\u2014"})]},e.label))})]}),(0,Vp.jsx)("div",{style:{marginTop:20,padding:"14px 16px",background:"#fff8f5",border:"1px solid #f0e0d8"},children:(0,Vp.jsxs)("p",{style:{fontSize:12,color:"#888",lineHeight:1.6},children:["\ud83d\udca1 ",(0,Vp.jsx)("strong",{children:"Tip:"})," Measure around the fullest part of your chest and from shoulder to desired hem length for the best fit."]})})]})})}function Ef(){const{id:e}=se(),[t,n]=(0,i.useState)(null),[r,o]=(0,i.useState)([]),[s,a]=(0,i.useState)(0),[l,c]=(0,i.useState)(1),[u,d]=(0,i.useState)(!0),[h,p]=(0,i.useState)(null),[f,g]=(0,i.useState)(!1),[m,y]=(0,i.useState)(!1),{addToCart:v,toggleWishlist:b,wishlist:x}=$p(),{currentUser:_}=Kp(),w=x.some(t=>t.id===e);(0,i.useEffect)(()=>{window.scrollTo(0,0);(async()=>{d(!0);const t=await ap(tp(qp,"products/".concat(e)));if(t.exists()){const r=Ue({id:e},t.val());n(r),r.sizes&&r.sizes.length>0&&p(r.sizes[0].label);const i=await ap(tp(qp,"products"));if(i.exists()){const t=Object.entries(i.val()).map(e=>{let[t,n]=e;return Ue({id:t},n)});o(t.filter(t=>t.category===r.category&&t.id!==e).slice(0,4))}}d(!1)})()},[e]);if(u)return(0,Vp.jsxs)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",paddingTop:100},children:[(0,Vp.jsxs)("div",{style:{textAlign:"center"},children:[(0,Vp.jsx)("div",{style:{width:40,height:40,border:"2px solid #e8e8e8",borderTopColor:"#ea580c",borderRadius:"50%",animation:"spin 0.8s linear infinite",margin:"0 auto 16px"}}),(0,Vp.jsx)("p",{style:{color:"#888",fontSize:13,letterSpacing:2,textTransform:"uppercase"},children:"Loading..."})]}),(0,Vp.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]});if(!t)return(0,Vp.jsxs)("div",{style:{minHeight:"100vh",paddingTop:140,textAlign:"center"},children:[(0,Vp.jsx)("h2",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:32,fontWeight:300,marginBottom:16},children:"Product not found"}),(0,Vp.jsx)(Oe,{to:"/",style:{color:"#ea580c",fontSize:13,letterSpacing:2,textTransform:"uppercase"},children:"Go Home"})]});const k=[t.image,t.image2,t.image3].filter(Boolean),S=void 0===t.stock||t.stock>0,C=t.sizes&&t.sizes.length>0,T=C&&t.sizes.some(e=>e.chest||e.length);return(0,Vp.jsxs)("div",{style:{paddingTop:100,minHeight:"100vh",background:"#fff"},children:[m&&(0,Vp.jsx)(Cf,{product:t,onClose:()=>y(!1)}),f&&T&&(0,Vp.jsx)(Tf,{sizes:t.sizes,onClose:()=>g(!1)}),(0,Vp.jsx)("div",{style:{maxWidth:1400,margin:"0 auto",padding:"0 40px",marginBottom:32},children:(0,Vp.jsxs)("p",{style:{fontSize:12,color:"#999",letterSpacing:1},children:[(0,Vp.jsx)(Oe,{to:"/",style:{color:"#999"},children:"Home"})," / ",(0,Vp.jsx)(Oe,{to:"/category/".concat((t.category||"").toLowerCase()),style:{color:"#999"},children:t.category})," / ",t.name]})}),(0,Vp.jsxs)("div",{style:{maxWidth:1400,margin:"0 auto",padding:"0 40px 80px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:60,alignItems:"start"},className:"product-grid",children:[(0,Vp.jsxs)("div",{children:[(0,Vp.jsxs)("div",{style:{position:"relative",paddingBottom:"125%",overflow:"hidden",background:"#f5f5f5",marginBottom:8},children:[(0,Vp.jsx)("img",{src:k[s]||"https://images.unsplash.com/photo-1523398002811-999ca8dec234?w=800&q=80",alt:t.name,style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"}}),(0,Vp.jsxs)("button",{onClick:()=>y(!0),style:{position:"absolute",bottom:16,left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.75)",backdropFilter:"blur(8px)",color:"#fff",border:"1px solid rgba(255,255,255,0.2)",padding:"10px 20px",fontSize:10,letterSpacing:2,textTransform:"uppercase",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",gap:8,transition:"all 0.2s",whiteSpace:"nowrap"},onMouseEnter:e=>{e.currentTarget.style.background="#ea580c",e.currentTarget.style.borderColor="#ea580c"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(0,0,0,0.75)",e.currentTarget.style.borderColor="rgba(255,255,255,0.2)"},children:[(0,Vp.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Vp.jsx)("path",{d:"M20 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2Z"}),(0,Vp.jsx)("circle",{cx:"12",cy:"12",r:"2"})]}),"\u2726 Virtual Try-On"]})]}),k.length>1&&(0,Vp.jsx)("div",{style:{display:"flex",gap:8},children:k.map((e,t)=>(0,Vp.jsx)("div",{onClick:()=>a(t),style:{width:72,height:88,overflow:"hidden",cursor:"pointer",background:"#f5f5f5",outline:s===t?"2px solid #ea580c":"2px solid transparent",outlineOffset:2,transition:"outline 0.15s"},children:(0,Vp.jsx)("img",{src:e,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})},t))})]}),(0,Vp.jsxs)("div",{style:{position:"sticky",top:100},children:[(0,Vp.jsx)("p",{style:{fontSize:11,letterSpacing:2,textTransform:"uppercase",color:"#999",marginBottom:12},children:t.category}),(0,Vp.jsx)("h1",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:"clamp(24px, 3vw, 36px)",fontWeight:300,color:"#111",lineHeight:1.2,marginBottom:16},children:t.name}),(0,Vp.jsxs)("p",{style:{fontSize:22,fontWeight:500,color:"#111",marginBottom:24,letterSpacing:.5},children:["\u20a6",Number(t.price).toLocaleString()]}),(0,Vp.jsx)("div",{style:{marginBottom:20},children:S?(0,Vp.jsxs)("p",{style:{fontSize:12,color:"#65a30d",letterSpacing:1,fontWeight:500},children:["\u2713 In Stock",t.stock?" \u2014 ".concat(t.stock," available"):""]}):(0,Vp.jsx)("p",{style:{fontSize:12,color:"#e53e3e",letterSpacing:1,fontWeight:500},children:"\u2715 Sold Out"})}),t.description&&(0,Vp.jsx)("p",{style:{color:"#555",fontSize:14,lineHeight:1.8,marginBottom:28,borderTop:"1px solid #f0f0f0",paddingTop:20},children:t.description}),C&&(0,Vp.jsxs)("div",{style:{marginBottom:28},children:[(0,Vp.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},children:[(0,Vp.jsxs)("span",{style:{fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,color:"#555"},children:["Size",h?" \u2014 ".concat(h):""]}),T&&(0,Vp.jsx)("button",{onClick:()=>g(!0),style:{background:"none",border:"none",color:"#ea580c",fontSize:11,letterSpacing:1,textTransform:"uppercase",fontWeight:600,cursor:"pointer",textDecoration:"underline",padding:0},children:"Size Guide"})]}),(0,Vp.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:t.sizes.map(e=>(0,Vp.jsx)("button",{onClick:()=>p(e.label),title:e.chest?"Chest: ".concat(e.chest,'" | Length: ').concat(e.length,'"'):e.label,style:{minWidth:48,padding:"10px 14px",border:"1.5px solid ".concat(h===e.label?"#ea580c":"#ddd"),background:h===e.label?"#fff5f0":"#fff",color:h===e.label?"#ea580c":"#555",fontSize:12,fontWeight:700,letterSpacing:.5,cursor:"pointer",transition:"all 0.15s"},onMouseEnter:t=>{h!==e.label&&(t.currentTarget.style.borderColor="#aaa")},onMouseLeave:t=>{h!==e.label&&(t.currentTarget.style.borderColor="#ddd")},children:e.label},e.label))}),h&&(()=>{const e=t.sizes.find(e=>e.label===h);return e&&(e.chest||e.length)?(0,Vp.jsxs)("p",{style:{fontSize:11,color:"#999",marginTop:10,letterSpacing:.5},children:[e.chest?"Chest: ".concat(e.chest,'"'):"",e.chest&&e.length?" \xb7 ":"",e.length?"Length: ".concat(e.length,'"'):""]}):null})()]}),(0,Vp.jsxs)("button",{onClick:()=>y(!0),style:{width:"100%",padding:"12px",marginBottom:20,background:"linear-gradient(135deg, #111 0%, #333 100%)",color:"#fff",border:"none",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:10,transition:"opacity 0.2s"},onMouseEnter:e=>e.currentTarget.style.opacity="0.85",onMouseLeave:e=>e.currentTarget.style.opacity="1",children:[(0,Vp.jsxs)("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Vp.jsx)("path",{d:"M20 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2Z"}),(0,Vp.jsx)("circle",{cx:"12",cy:"12",r:"2"})]}),"\u2726 Try It On Virtually"]}),(0,Vp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:20,marginBottom:20},children:[(0,Vp.jsx)("span",{style:{fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,color:"#555"},children:"Qty"}),(0,Vp.jsxs)("div",{style:{display:"flex",alignItems:"center",border:"1px solid #e8e8e8"},children:[(0,Vp.jsx)("button",{onClick:()=>c(e=>Math.max(1,e-1)),style:{width:40,height:40,background:"none",border:"none",cursor:"pointer",fontSize:18,color:"#555"},children:"\u2212"}),(0,Vp.jsx)("span",{style:{padding:"0 20px",fontSize:14,fontWeight:500},children:l}),(0,Vp.jsx)("button",{onClick:()=>c(e=>e+1),style:{width:40,height:40,background:"none",border:"none",cursor:"pointer",fontSize:18,color:"#555"},children:"+"})]})]}),(0,Vp.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:10,marginBottom:24},children:[(0,Vp.jsx)("button",{onClick:async()=>{if(_)if(t.sizes&&t.sizes.length>0&&!h)nn.error("Please select a size");else{for(let e=0;e<l;e++)await v(Ue(Ue({},t),{},{selectedSize:h}));nn.success("Added to cart!")}else nn.error("Please login first")},disabled:!S,style:{padding:"15px",background:S?"#111":"#ddd",color:S?"#fff":"#999",border:"none",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,cursor:S?"pointer":"not-allowed",transition:"background 0.2s"},onMouseEnter:e=>{S&&(e.currentTarget.style.background="#ea580c")},onMouseLeave:e=>{S&&(e.currentTarget.style.background="#111")},children:"Add to Cart"}),(0,Vp.jsx)("button",{onClick:async()=>{_?t.sizes&&t.sizes.length>0&&!h?nn.error("Please select a size"):(await v(Ue(Ue({},t),{},{selectedSize:h})),window.location.href="/checkout"):nn.error("Please login first")},disabled:!S,style:{padding:"15px",background:S?"#ea580c":"#ddd",color:"#fff",border:"none",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,cursor:S?"pointer":"not-allowed"},children:"Buy Now"}),(0,Vp.jsxs)("button",{onClick:()=>{_?(b(t),nn.success(w?"Removed from wishlist":"Saved to wishlist")):nn.error("Please login first")},style:{padding:"13px",background:"transparent",border:"1px solid ".concat(w?"#ea580c":"#ddd"),color:w?"#ea580c":"#555",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[(0,Vp.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:w?"currentColor":"none",stroke:"currentColor",strokeWidth:"1.5",children:(0,Vp.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),w?"Saved to Wishlist":"Save to Wishlist"]})]}),(0,Vp.jsx)("div",{style:{borderTop:"1px solid #f0f0f0",paddingTop:24},children:["\ud83d\ude9a Free shipping on orders above \u20a650,000","\ud83d\udd04 No refund and no return","\ud83d\udd12 100% authentic \u2014 guaranteed"].map(e=>(0,Vp.jsx)("p",{style:{fontSize:12,color:"#888",marginBottom:8},children:e},e))})]})]}),r.length>0&&(0,Vp.jsxs)("div",{style:{maxWidth:1400,margin:"0 auto",padding:"60px 40px",borderTop:"1px solid #e8e8e8"},children:[(0,Vp.jsx)("h2",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:36,fontWeight:300,marginBottom:32},children:"You May Also Like"}),(0,Vp.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:"32px 20px"},children:r.map(e=>(0,Vp.jsx)(tf,{product:e},e.id))})]}),(0,Vp.jsx)("style",{children:"\n        @media (max-width: 768px) {\n          .product-grid { grid-template-columns: 1fr !important; gap: 24px !important; }\n        }\n        @keyframes spin { to { transform: rotate(360deg); } }\n      "})]})}const jf=[{value:"newest",label:"Newest"},{value:"price-asc",label:"Price: Low \u2192 High"},{value:"price-desc",label:"Price: High \u2192 Low"},{value:"name",label:"Name A\u2013Z"}],If=[{slug:"men-t-shirts",label:"T-Shirts"},{slug:"men-shirts",label:"Shirts"},{slug:"men-pants",label:"Pants"},{slug:"men-shorts",label:"Shorts"},{slug:"men-jackets",label:"Jackets"},{slug:"men-jerseys",label:"Jerseys"},{slug:"men-belts",label:"Belts"},{slug:"men-glasses",label:"Glasses"},{slug:"men-headwear",label:"Headwear's"},{slug:"men-socks",label:"Socks"}],Pf=[{slug:"women-tops",label:"Tops"},{slug:"women-bottoms",label:"Bottoms"},{slug:"women-dresses",label:"Dresses"},{slug:"women-jackets",label:"Jackets"},{slug:"women-swimwear",label:"Swimwear"},{slug:"women-jerseys",label:"Jerseys"},{slug:"women-belts",label:"Belts"},{slug:"women-glasses",label:"Glasses"},{slug:"women-headwear",label:"Headwear's"},{slug:"women-socks",label:"Socks"}];function Nf(e,t){const n=(e||"").toLowerCase().trim(),r=t.toLowerCase().trim();let i="",o=r;if(r.startsWith("men-")?(i="men",o=r.slice(4)):r.startsWith("women-")&&(i="women",o=r.slice(6)),i){return[i+" - "+o,i+" - "+o.replace(/-/g," "),i+" "+o,i+" "+o.replace(/-/g," ")].some(e=>n===e||n.includes(e))}const s=r.replace(/-/g," ");return n===r||n===s||n.includes(r)||n.includes(s)}function Rf(e){let{label:t,products:n}=e;const r=n.length>0;return(0,Vp.jsxs)("div",{style:{marginBottom:60},children:[(0,Vp.jsxs)("div",{style:{display:"flex",alignItems:"baseline",gap:16,marginBottom:24,borderBottom:"1px solid #f0f0f0",paddingBottom:12},children:[(0,Vp.jsx)("h2",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:"clamp(22px, 3vw, 32px)",fontWeight:300,color:"#ea580c",letterSpacing:1},children:t}),r&&(0,Vp.jsxs)("span",{style:{fontSize:12,color:"#bbb"},children:[n.length," item",1!==n.length?"s":""]})]}),r?(0,Vp.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"36px 20px"},children:n.map(e=>(0,Vp.jsx)(tf,{product:e},e.id))}):(0,Vp.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"48px 0",background:"#fafafa",border:"1px dashed #e8e8e8"},children:[(0,Vp.jsx)("p",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:22,fontWeight:300,color:"#ccc",marginBottom:8},children:t}),(0,Vp.jsx)("p",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",color:"#ea580c",fontWeight:600},children:"Coming Soon!"})]})]})}function Of(){const{slug:e}=se(),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)([]),[s,a]=(0,i.useState)("newest"),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(1),h="men"===e,p="women"===e,f=h||p,g=(e||"All").replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase());(0,i.useEffect)(()=>{const e=dp(tp(qp,"products"),e=>{const t=e.val();if(t){const e=Object.entries(t).map(e=>{let[t,n]=e;return Ue({id:t},n)});e.sort((e,t)=>(t.createdAt||0)-(e.createdAt||0)),n(e)}});return e},[]),(0,i.useEffect)(()=>{let n=[...t];if(e&&"all"!==e){const t=e.toLowerCase();n=n.filter(e=>{const n=(e.category||"").toLowerCase();return"new-arrivals"===t?!!e.isNew:"men"===t?n.includes("men")&&!n.includes("women"):"women"===t?n.includes("women"):"collections"===t?n.includes("collection")||n.includes("classic")||n.includes("summer")||n.includes("manor"):"classics"===t?n.includes("classic"):Nf(e.category,t)||n.includes(t)||n===t})}l&&(n=n.filter(e=>(e.name||"").toLowerCase().includes(l.toLowerCase()))),"price-asc"===s?n.sort((e,t)=>e.price-t.price):"price-desc"===s?n.sort((e,t)=>t.price-e.price):"name"===s&&n.sort((e,t)=>(e.name||"").localeCompare(t.name||"")),o(n),d(1)},[t,e,s,l]);const m=r.slice(0,12*u),y=m.length<r.length,v=h?If:p?Pf:[];return(0,Vp.jsxs)("div",{style:{paddingTop:100,minHeight:"100vh",background:"#fff"},children:[(0,Vp.jsxs)("div",{style:{borderBottom:"1px solid #e8e8e8",padding:"40px 40px 32px",maxWidth:1400,margin:"0 auto"},children:[(0,Vp.jsx)("h1",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:"clamp(36px, 5vw, 64px)",fontWeight:300,letterSpacing:1,marginBottom:8,color:"#ea580c"},children:g}),(0,Vp.jsxs)("p",{style:{color:"#999",fontSize:13},children:[r.length," Product",1!==r.length?"s":""]})]}),(0,Vp.jsxs)("div",{style:{maxWidth:1400,margin:"0 auto",padding:"20px 40px",display:"flex",gap:16,justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",borderBottom:"1px solid #f0f0f0"},children:[(0,Vp.jsx)("input",{value:l,onChange:e=>c(e.target.value),placeholder:"Search products...",style:{padding:"9px 14px",border:"1px solid #e8e8e8",fontSize:13,outline:"none",minWidth:220,transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#ea580c",onBlur:e=>e.target.style.borderColor="#e8e8e8"}),!f&&(0,Vp.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,Vp.jsx)("span",{style:{fontSize:11,letterSpacing:2,textTransform:"uppercase",color:"#888",fontWeight:600},children:"Sort:"}),(0,Vp.jsx)("select",{value:s,onChange:e=>a(e.target.value),style:{padding:"9px 14px",border:"1px solid #e8e8e8",fontSize:13,outline:"none",background:"#fff",cursor:"pointer"},children:jf.map(e=>(0,Vp.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),f?(0,Vp.jsx)("div",{style:{maxWidth:1400,margin:"0 auto",padding:"40px 40px 80px"},children:v.map(e=>{return(0,Vp.jsx)(Rf,{label:e.label,products:(n=e.slug,t.filter(e=>Nf(e.category,n))).filter(e=>!l||(e.name||"").toLowerCase().includes(l.toLowerCase()))},e.slug);var n})}):(0,Vp.jsx)("div",{style:{maxWidth:1400,margin:"0 auto",padding:"40px 40px 80px"},children:0===m.length?(0,Vp.jsxs)("div",{style:{textAlign:"center",padding:"80px 0",color:"#999"},children:[(0,Vp.jsx)("p",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:28,fontWeight:300,marginBottom:12},children:"No products found"}),(0,Vp.jsx)("p",{style:{fontSize:13},children:"Try adjusting your search or check back later."})]}):(0,Vp.jsxs)(Vp.Fragment,{children:[(0,Vp.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:"40px 20px"},children:m.map(e=>(0,Vp.jsx)(tf,{product:e},e.id))}),y&&(0,Vp.jsx)("div",{style:{textAlign:"center",marginTop:60},children:(0,Vp.jsxs)("button",{onClick:()=>d(e=>e+1),style:{border:"1px solid #111",background:"transparent",padding:"13px 48px",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#111",e.currentTarget.style.color="#fff"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="#111"},children:["Load More (",r.length-m.length," remaining)"]})})]})})]})}function Lf(){const e=re(),t=new URLSearchParams(e.search).get("q")||"",[n,r]=(0,i.useState)([]);return(0,i.useEffect)(()=>{if(!t)return;const e=dp(tp(qp,"products"),e=>{const n=e.val();if(n){const e=t.toLowerCase(),i=Object.entries(n).map(e=>{let[t,n]=e;return Ue({id:t},n)}).filter(t=>(t.name||"").toLowerCase().includes(e)||(t.category||"").toLowerCase().includes(e)||(t.description||"").toLowerCase().includes(e));r(i)}});return e},[t]),(0,Vp.jsx)("div",{style:{paddingTop:100,minHeight:"100vh",background:"#fff"},children:(0,Vp.jsxs)("div",{style:{maxWidth:1400,margin:"0 auto",padding:"40px 40px 80px"},children:[(0,Vp.jsx)("p",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",color:"#999",marginBottom:8},children:"Search Results"}),(0,Vp.jsxs)("h1",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:48,fontWeight:300,marginBottom:8},children:['"',t,'"']}),(0,Vp.jsxs)("p",{style:{color:"#999",fontSize:13,marginBottom:48},children:[n.length," result",1!==n.length?"s":""," found"]}),0===n.length?(0,Vp.jsxs)("div",{style:{textAlign:"center",padding:"60px 0",color:"#999"},children:[(0,Vp.jsx)("p",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:28,fontWeight:300,marginBottom:12},children:"No results found"}),(0,Vp.jsx)("p",{style:{fontSize:13},children:"Try different keywords."})]}):(0,Vp.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:"40px 20px"},children:n.map(e=>(0,Vp.jsx)(tf,{product:e},e.id))})]})})}function Af(){const[e,t]=(0,i.useState)({name:"",email:"",location:"",subject:"",description:""}),[n,r]=(0,i.useState)(!1),[o,s]=(0,i.useState)(!1);return(0,Vp.jsxs)("div",{style:{paddingTop:100,minHeight:"100vh",background:"#fff"},children:[(0,Vp.jsxs)("div",{style:{maxWidth:1200,margin:"0 auto",padding:"40px 40px 80px"},children:[(0,Vp.jsx)("p",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",color:"#999",marginBottom:8},children:"Get In Touch"}),(0,Vp.jsx)("h1",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:"clamp(36px, 5vw, 64px)",fontWeight:300,marginBottom:64},children:"Contact Us"}),(0,Vp.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1.5fr",gap:80,alignItems:"start"},className:"contact-grid",children:[(0,Vp.jsxs)("div",{children:[(0,Vp.jsx)("h3",{style:{fontSize:13,letterSpacing:2,textTransform:"uppercase",fontWeight:600,marginBottom:20},children:"Reach Us"}),[{icon:"\ud83d\udcde",label:"Phone",value:"+234 903 434 4183"},{icon:"\ud83d\udcac",label:"WhatsApp",value:"+234 903 434 4183",link:"https://wa.me/2349034344183"},{icon:"\u2709\ufe0f",label:"Email",value:"Debitbyrecent@gmail.com",link:"mailto:Debitbyrecent@gmail.com"},{icon:"\ud83d\udccd",label:"Location",value:"Lagos, Nigeria"}].map(e=>{let{icon:t,label:n,value:r,link:i}=e;return(0,Vp.jsxs)("div",{style:{display:"flex",gap:16,marginBottom:24},children:[(0,Vp.jsx)("span",{style:{fontSize:18,minWidth:28},children:t}),(0,Vp.jsxs)("div",{children:[(0,Vp.jsx)("p",{style:{fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,color:"#888",marginBottom:4},children:n}),i?(0,Vp.jsx)("a",{href:i,style:{fontSize:14,color:"#111",borderBottom:"1px solid #e8e8e8",paddingBottom:1,transition:"color 0.2s, border-color 0.2s"},onMouseEnter:e=>{e.currentTarget.style.color="#ea580c",e.currentTarget.style.borderColor="#ea580c"},onMouseLeave:e=>{e.currentTarget.style.color="#111",e.currentTarget.style.borderColor="#e8e8e8"},children:r}):(0,Vp.jsx)("p",{style:{fontSize:14,color:"#555"},children:r})]})]},n)}),(0,Vp.jsxs)("div",{style:{borderTop:"1px solid #e8e8e8",paddingTop:24,marginTop:12},children:[(0,Vp.jsx)("p",{style:{fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,color:"#888",marginBottom:12},children:"Hours"}),(0,Vp.jsxs)("p",{style:{fontSize:14,color:"#555",lineHeight:1.8},children:["Mon \u2013 Fri: 9am \u2013 6pm WAT",(0,Vp.jsx)("br",{}),"Saturday: 10am \u2013 4pm WAT",(0,Vp.jsx)("br",{}),"Sunday: Closed"]})]})]}),o?(0,Vp.jsxs)("div",{style:{border:"1px solid #e8e8e8",padding:48,textAlign:"center"},children:[(0,Vp.jsx)("div",{style:{fontSize:48,marginBottom:20},children:"\u2709\ufe0f"}),(0,Vp.jsx)("h3",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:28,fontWeight:300,marginBottom:12},children:"Message Sent!"}),(0,Vp.jsx)("p",{style:{color:"#888",fontSize:14,marginBottom:28},children:"We'll get back to you within 24 hours."}),(0,Vp.jsx)("button",{onClick:()=>{s(!1),t({name:"",email:"",location:"",subject:"",description:""})},style:{border:"1px solid #111",background:"transparent",padding:"12px 32px",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,cursor:"pointer"},children:"Send Another"})]}):(0,Vp.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e.name&&e.email&&e.description){r(!0);try{const t=rp(tp(qp,"messages"));await op(t,Ue(Ue({},e),{},{id:t.key,createdAt:Date.now(),status:"unread"})),s(!0),nn.success("Message sent successfully!")}catch(n){nn.error("Failed to send. Please try again.")}r(!1)}else nn.error("Please fill all required fields")},style:{border:"1px solid #e8e8e8",padding:40},children:[(0,Vp.jsx)("h3",{style:{fontSize:13,letterSpacing:2,textTransform:"uppercase",fontWeight:600,marginBottom:28},children:"Send a Message"}),(0,Vp.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0 24px"},className:"form-grid2",children:[{key:"name",label:"Full Name *",type:"text",span:!1},{key:"email",label:"Email *",type:"email",span:!1},{key:"location",label:"Your Location",type:"text",span:!1},{key:"subject",label:"Subject",type:"text",span:!1}].map(n=>(0,Vp.jsxs)("div",{style:{gridColumn:n.span?"1 / -1":"span 1",marginBottom:20},children:[(0,Vp.jsx)("label",{style:{display:"block",fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,color:"#555",marginBottom:8},children:n.label}),(0,Vp.jsx)("input",{type:n.type,value:e[n.key],onChange:r=>t(Ue(Ue({},e),{},{[n.key]:r.target.value})),style:{width:"100%",padding:"10px 0",border:"none",borderBottom:"1px solid #ddd",fontSize:14,outline:"none",background:"transparent",boxSizing:"border-box",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#ea580c",onBlur:e=>e.target.style.borderColor="#ddd"})]},n.key))}),(0,Vp.jsxs)("div",{style:{marginBottom:28},children:[(0,Vp.jsx)("label",{style:{display:"block",fontSize:11,letterSpacing:2,textTransform:"uppercase",fontWeight:600,color:"#555",marginBottom:8},children:"Message *"}),(0,Vp.jsx)("textarea",{rows:5,value:e.description,onChange:n=>t(Ue(Ue({},e),{},{description:n.target.value})),placeholder:"How can we help you?",style:{width:"100%",padding:"10px 0",border:"none",borderBottom:"1px solid #ddd",fontSize:14,outline:"none",background:"transparent",resize:"none",boxSizing:"border-box",fontFamily:"'Jost', sans-serif",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#ea580c",onBlur:e=>e.target.style.borderColor="#ddd"})]}),(0,Vp.jsx)("button",{type:"submit",disabled:n,style:{width:"100%",padding:"14px",background:n?"#888":"#111",color:"#fff",border:"none",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,cursor:n?"not-allowed":"pointer",transition:"background 0.2s"},onMouseEnter:e=>{n||(e.currentTarget.style.background="#ea580c")},onMouseLeave:e=>{n||(e.currentTarget.style.background="#111")},children:n?"Sending...":"Send Message"})]})]})]}),(0,Vp.jsx)("style",{children:"\n        @media (max-width: 768px) {\n          .contact-grid { grid-template-columns: 1fr !important; gap: 40px !important; }\n          .form-grid2 { grid-template-columns: 1fr !important; }\n        }\n      "})]})}function Df(){const{wishlist:e}=$p(),{currentUser:t}=Kp();return t?(0,Vp.jsx)("div",{style:{paddingTop:100,minHeight:"100vh",background:"#fff"},children:(0,Vp.jsxs)("div",{style:{maxWidth:1400,margin:"0 auto",padding:"40px 40px 80px"},children:[(0,Vp.jsx)("p",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",color:"#999",marginBottom:8},children:"My Collection"}),(0,Vp.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:48,flexWrap:"wrap",gap:16},children:[(0,Vp.jsx)("h1",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:"clamp(36px, 5vw, 64px)",fontWeight:300},children:"Wishlist"}),(0,Vp.jsxs)("span",{style:{fontSize:13,color:"#999"},children:[e.length," saved item",1!==e.length?"s":""]})]}),0===e.length?(0,Vp.jsxs)("div",{style:{textAlign:"center",padding:"80px 0",color:"#999"},children:[(0,Vp.jsx)("p",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:32,fontWeight:300,marginBottom:16},children:"Your wishlist is empty"}),(0,Vp.jsx)("p",{style:{fontSize:14,marginBottom:32},children:"Save items you love while you browse."}),(0,Vp.jsx)(Oe,{to:"/",style:{display:"inline-block",border:"1px solid #111",padding:"13px 48px",fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,color:"#111",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#111",e.currentTarget.style.color="#fff"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="#111"},children:"Explore Products"})]}):(0,Vp.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:"40px 20px"},children:e.map(e=>(0,Vp.jsx)(tf,{product:e},e.id))})]})}):(0,Vp.jsx)(_e,{to:"/login"})}function Mf(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(null),[o,s]=(0,i.useState)("all");(0,i.useEffect)(()=>{const e=dp(tp(qp,"citizenPosts"),e=>{const n=e.val();if(n){const e=Object.entries(n).map(e=>{let[t,n]=e;return Ue({id:t},n)}).sort((e,t)=>(t.createdAt||0)-(e.createdAt||0));t(e)}else t([])});return e},[]);const a="all"===o?e:e.filter(e=>e.type===o);return(0,i.useEffect)(()=>{const e=e=>{"Escape"===e.key&&r(null)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),(0,Vp.jsxs)("div",{style:{minHeight:"100vh",background:"#0a0a0a",color:"#fff"},children:[(0,Vp.jsxs)("div",{style:{position:"relative",height:"70vh",minHeight:420,background:"linear-gradient(135deg, #0a0a0a 0%, #1a0a00 50%, #0a0a0a 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"0 24px",overflow:"hidden"},children:[(0,Vp.jsx)("div",{style:{position:"absolute",width:600,height:600,borderRadius:"50%",border:"1px solid rgba(234,88,12,0.08)",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}}),(0,Vp.jsx)("div",{style:{position:"absolute",width:400,height:400,borderRadius:"50%",border:"1px solid rgba(234,88,12,0.12)",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}}),(0,Vp.jsx)("div",{style:{position:"absolute",width:200,height:200,borderRadius:"50%",border:"1px solid rgba(234,88,12,0.2)",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}}),(0,Vp.jsx)("div",{style:{position:"absolute",width:320,height:320,borderRadius:"50%",background:"radial-gradient(circle, rgba(234,88,12,0.18) 0%, transparent 70%)",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}}),(0,Vp.jsx)("p",{style:{fontSize:"clamp(9px,2vw,11px)",letterSpacing:6,textTransform:"uppercase",color:"#ea580c",fontWeight:600,marginBottom:20,position:"relative"},children:"Community"}),(0,Vp.jsxs)("h1",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:"clamp(44px, 10vw, 100px)",fontWeight:300,lineHeight:.95,letterSpacing:2,color:"#fff",marginBottom:24,position:"relative"},children:["Debit",(0,Vp.jsx)("br",{}),(0,Vp.jsx)("span",{style:{color:"#ea580c"},children:"Citizen"})]}),(0,Vp.jsx)("p",{style:{fontSize:"clamp(13px,2vw,16px)",color:"rgba(255,255,255,0.5)",maxWidth:520,lineHeight:1.7,position:"relative",marginBottom:40},children:"Real people. Real style. See how our community wears Debit \u2014 submit your look and be featured."}),(0,Vp.jsx)("div",{style:{display:"flex",gap:"clamp(24px,5vw,60px)",position:"relative"},children:[{n:e.length+"+",l:"Posts"},{n:e.filter(e=>"video"===e.type).length+"+",l:"Videos"},{n:e.filter(e=>"photo"===e.type).length+"+",l:"Photos"}].map(e=>(0,Vp.jsxs)("div",{style:{textAlign:"center"},children:[(0,Vp.jsx)("div",{style:{fontFamily:"'Cormorant Garamond',serif",fontSize:"clamp(28px,5vw,44px)",fontWeight:300,color:"#ea580c"},children:e.n}),(0,Vp.jsx)("div",{style:{fontSize:10,letterSpacing:3,textTransform:"uppercase",color:"rgba(255,255,255,0.4)",fontWeight:600},children:e.l})]},e.l))})]}),(0,Vp.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:0,borderBottom:"1px solid rgba(255,255,255,0.08)",background:"#0f0f0f"},children:[{key:"all",label:"All"},{key:"photo",label:"\ud83d\udcf7  Photos"},{key:"video",label:"\ud83c\udfac  Videos"}].map(e=>(0,Vp.jsx)("button",{onClick:()=>s(e.key),style:{background:"none",border:"none",padding:"16px clamp(16px,4vw,36px)",fontSize:"clamp(9px,1.5vw,11px)",letterSpacing:3,textTransform:"uppercase",fontWeight:600,color:o===e.key?"#ea580c":"rgba(255,255,255,0.4)",borderBottom:"2px solid ".concat(o===e.key?"#ea580c":"transparent"),cursor:"pointer",transition:"all 0.2s",whiteSpace:"nowrap"},children:e.label},e.key))}),(0,Vp.jsx)("div",{style:{maxWidth:1400,margin:"0 auto",padding:"clamp(24px,4vw,56px) clamp(16px,4vw,40px) 80px"},children:0===a.length?(0,Vp.jsxs)("div",{style:{textAlign:"center",padding:"100px 24px"},children:[(0,Vp.jsx)("div",{style:{fontSize:64,marginBottom:20},children:"\ud83c\udfac"}),(0,Vp.jsx)("p",{style:{fontFamily:"'Cormorant Garamond',serif",fontSize:"clamp(24px,4vw,36px)",fontWeight:300,color:"rgba(255,255,255,0.3)",marginBottom:12},children:"video"===o?"No videos yet":"photo"===o?"No photos yet":"No posts yet"}),(0,Vp.jsx)("p",{style:{fontSize:13,color:"rgba(255,255,255,0.2)",letterSpacing:2,textTransform:"uppercase"},children:"Check back soon"})]}):(0,Vp.jsx)("div",{style:{columns:"clamp(160px,28vw,300px)",columnGap:"clamp(8px,1.5vw,16px)"},children:a.map((e,t)=>(0,Vp.jsx)(zf,{post:e,onClick:()=>r(e),index:t},e.id))})}),n&&(0,Vp.jsxs)("div",{onClick:()=>r(null),style:{position:"fixed",inset:0,zIndex:9999,background:"rgba(0,0,0,0.95)",display:"flex",alignItems:"center",justifyContent:"center",padding:16},children:[(0,Vp.jsx)("button",{onClick:()=>r(null),style:{position:"absolute",top:20,right:24,background:"rgba(255,255,255,0.1)",border:"none",color:"#fff",fontSize:24,width:44,height:44,borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10},children:"\u2715"}),(0,Vp.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{maxWidth:"min(90vw, 900px)",width:"100%",maxHeight:"90vh",overflow:"auto"},children:["video"===n.type?(0,Vp.jsx)("video",{src:n.mediaUrl,controls:!0,autoPlay:!0,style:{width:"100%",maxHeight:"75vh",objectFit:"contain",display:"block",background:"#000"}}):(0,Vp.jsx)("img",{src:n.mediaUrl,alt:n.caption,style:{width:"100%",maxHeight:"75vh",objectFit:"contain",display:"block"}}),(n.caption||n.personName)&&(0,Vp.jsxs)("div",{style:{padding:"20px 4px 0"},children:[n.personName&&(0,Vp.jsxs)("p",{style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",color:"#ea580c",fontWeight:600,marginBottom:8},children:["\u2014 ",n.personName]}),n.caption&&(0,Vp.jsx)("p",{style:{fontSize:15,color:"rgba(255,255,255,0.75)",lineHeight:1.7},children:n.caption})]})]})]}),(0,Vp.jsx)("style",{children:"\n        @keyframes fadeUp {\n          from { opacity:0; transform:translateY(20px); }\n          to   { opacity:1; transform:translateY(0); }\n        }\n      "})]})}function zf(e){let{post:t,onClick:n,index:r}=e;const[o,s]=(0,i.useState)(!1),a="video"===t.type;return(0,Vp.jsxs)("div",{onClick:n,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:{breakInside:"avoid",marginBottom:"clamp(8px,1.5vw,16px)",position:"relative",cursor:"pointer",borderRadius:2,overflow:"hidden",background:"#1a1a1a",animation:"fadeUp 0.5s ease both",animationDelay:"".concat(Math.min(60*r,400),"ms")},children:[a?(0,Vp.jsx)("video",{src:t.mediaUrl,muted:!0,playsInline:!0,style:{width:"100%",display:"block",objectFit:"cover"},onMouseEnter:e=>e.currentTarget.play().catch(()=>{}),onMouseLeave:e=>{e.currentTarget.pause(),e.currentTarget.currentTime=0}}):(0,Vp.jsx)("img",{src:t.mediaUrl,alt:t.caption||"Debit Citizen",style:{width:"100%",display:"block",transition:"transform 0.5s ease",transform:o?"scale(1.04)":"scale(1)"},loading:"lazy"}),(0,Vp.jsxs)("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to top, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.2) 50%, transparent 100%)",opacity:o?1:0,transition:"opacity 0.3s ease",display:"flex",flexDirection:"column",justifyContent:"flex-end",padding:"clamp(10px,2vw,20px)"},children:[t.personName&&(0,Vp.jsx)("p",{style:{fontSize:"clamp(9px,1.5vw,11px)",letterSpacing:2,textTransform:"uppercase",color:"#ea580c",fontWeight:700,marginBottom:4},children:t.personName}),t.caption&&(0,Vp.jsx)("p",{style:{fontSize:"clamp(11px,1.5vw,13px)",color:"rgba(255,255,255,0.85)",lineHeight:1.5},children:t.caption.length>80?t.caption.slice(0,80)+"\u2026":t.caption})]}),a&&(0,Vp.jsxs)("div",{style:{position:"absolute",top:10,left:10,background:"rgba(234,88,12,0.9)",borderRadius:2,padding:"3px 8px",display:"flex",alignItems:"center",gap:5},children:[(0,Vp.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"#fff",children:(0,Vp.jsx)("path",{d:"M5 3l14 9-14 9V3z"})}),(0,Vp.jsx)("span",{style:{fontSize:9,letterSpacing:1.5,textTransform:"uppercase",color:"#fff",fontWeight:700},children:"Video"})]})]})}function Ff(e){let{children:t,noFooter:n}=e;return(0,Vp.jsxs)(Vp.Fragment,{children:[(0,Vp.jsx)(Xp,{}),(0,Vp.jsx)("main",{children:t}),!n&&(0,Vp.jsx)(Zp,{}),(0,Vp.jsx)(ef,{})]})}function Wf(){return(0,Vp.jsx)(Qp,{children:(0,Vp.jsxs)(Jp,{children:[(0,Vp.jsx)(tn,{position:"top-center",toastOptions:{style:{background:"#111",color:"#fff",fontFamily:"'Jost', sans-serif",fontSize:13,letterSpacing:.5,borderRadius:2,padding:"12px 20px"},success:{iconTheme:{primary:"#84cc16",secondary:"#000"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),(0,Vp.jsxs)(Se,{children:[(0,Vp.jsx)(we,{path:"/",element:(0,Vp.jsx)(Ff,{children:(0,Vp.jsx)(uf,{})})}),(0,Vp.jsx)(we,{path:"/login",element:(0,Vp.jsx)(hf,{})}),(0,Vp.jsx)(we,{path:"/register",element:(0,Vp.jsx)(pf,{})}),(0,Vp.jsx)(we,{path:"/dashboard",element:(0,Vp.jsx)(Ff,{children:(0,Vp.jsx)(gf,{})})}),(0,Vp.jsx)(we,{path:"/orders",element:(0,Vp.jsx)(Ff,{children:(0,Vp.jsx)(gf,{})})}),(0,Vp.jsx)(we,{path:"/admin",element:(0,Vp.jsx)(Ff,{children:(0,Vp.jsx)(wf,{})})}),(0,Vp.jsx)(we,{path:"/cart",element:(0,Vp.jsx)(Ff,{children:(0,Vp.jsx)(kf,{})})}),(0,Vp.jsx)(we,{path:"/checkout",element:(0,Vp.jsx)(Ff,{noFooter:!0,children:(0,Vp.jsx)(Sf,{})})}),(0,Vp.jsx)(we,{path:"/product/:id",element:(0,Vp.jsx)(Ff,{children:(0,Vp.jsx)(Ef,{})})}),(0,Vp.jsx)(we,{path:"/category/:slug",element:(0,Vp.jsx)(Ff,{children:(0,Vp.jsx)(Of,{})})}),(0,Vp.jsx)(we,{path:"/search",element:(0,Vp.jsx)(Ff,{children:(0,Vp.jsx)(Lf,{})})}),(0,Vp.jsx)(we,{path:"/contact",element:(0,Vp.jsx)(Ff,{children:(0,Vp.jsx)(Af,{})})}),(0,Vp.jsx)(we,{path:"/wishlist",element:(0,Vp.jsx)(Ff,{children:(0,Vp.jsx)(Df,{})})}),(0,Vp.jsx)(we,{path:"/lookbook",element:(0,Vp.jsx)(Ff,{children:(0,Vp.jsx)(Of,{})})}),(0,Vp.jsx)(we,{path:"/debit-citizen",element:(0,Vp.jsx)(Ff,{children:(0,Vp.jsx)(Mf,{})})}),(0,Vp.jsx)(we,{path:"*",element:(0,Vp.jsx)(Ff,{children:(0,Vp.jsxs)("div",{style:{minHeight:"80vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:16,paddingTop:100},children:[(0,Vp.jsx)("p",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:120,fontWeight:300,color:"#e8e8e8",lineHeight:1},children:"404"}),(0,Vp.jsx)("h2",{style:{fontFamily:"'Cormorant Garamond', serif",fontSize:32,fontWeight:300,color:"#111"},children:"Page Not Found"}),(0,Vp.jsx)("a",{href:"/",style:{fontSize:11,letterSpacing:3,textTransform:"uppercase",fontWeight:600,color:"#ea580c",borderBottom:"1px solid #ea580c",paddingBottom:2,marginTop:8},children:"Go Home"})]})})})]})]})})}s.createRoot(document.getElementById("root")).render((0,Vp.jsx)(i.StrictMode,{children:(0,Vp.jsx)(Pe,{children:(0,Vp.jsx)(Wf,{})})}))})();
//# sourceMappingURL=main.280e98b3.js.map